!function (e) { var t = {}; function n(r) { if (t[r]) return t[r].exports; var i = t[r] = { i: r, l: !1, exports: {} }; return e[r].call(i.exports, i, i.exports, n), i.l = !0, i.exports } n.m = e, n.c = t, n.d = function (e, t, r) { n.o(e, t) || Object.defineProperty(e, t, { enumerable: !0, get: r }) }, n.r = function (e) { "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e, "__esModule", { value: !0 }) }, n.t = function (e, t) { if (1 & t && (e = n(e)), 8 & t) return e; if (4 & t && "object" == typeof e && e && e.__esModule) return e; var r = Object.create(null); if (n.r(r), Object.defineProperty(r, "default", { enumerable: !0, value: e }), 2 & t && "string" != typeof e) for (var i in e) n.d(r, i, function (t) { return e[t] }.bind(null, i)); return r }, n.n = function (e) { var t = e && e.__esModule ? function () { return e.default } : function () { return e }; return n.d(t, "a", t), t }, n.o = function (e, t) { return Object.prototype.hasOwnProperty.call(e, t) }, n.p = "", n(n.s = 13) }([function (e, t) { var n; n = function () { return this }(); try { n = n || new Function("return this")() } catch (e) { "object" == typeof window && (n = window) } e.exports = n }, function (e, t, n) {
    (function (t, n) {
        /*!
         * Vue.js v2.6.11
         * (c) 2014-2019 Evan You
         * Released under the MIT License.
         */
        e.exports = function () { "use strict"; var e = Object.freeze({}); function r(e) { return null == e } function i(e) { return null != e } function o(e) { return !0 === e } function a(e) { return "string" == typeof e || "number" == typeof e || "symbol" == typeof e || "boolean" == typeof e } function s(e) { return null !== e && "object" == typeof e } var c = Object.prototype.toString; function u(e) { return "[object Object]" === c.call(e) } function l(e) { var t = parseFloat(String(e)); return t >= 0 && Math.floor(t) === t && isFinite(e) } function f(e) { return i(e) && "function" == typeof e.then && "function" == typeof e.catch } function d(e) { return null == e ? "" : Array.isArray(e) || u(e) && e.toString === c ? JSON.stringify(e, null, 2) : String(e) } function h(e) { var t = parseFloat(e); return isNaN(t) ? e : t } function p(e, t) { for (var n = Object.create(null), r = e.split(","), i = 0; i < r.length; i++)n[r[i]] = !0; return t ? function (e) { return n[e.toLowerCase()] } : function (e) { return n[e] } } var v = p("slot,component", !0), m = p("key,ref,slot,slot-scope,is"); function y(e, t) { if (e.length) { var n = e.indexOf(t); if (n > -1) return e.splice(n, 1) } } var g = Object.prototype.hasOwnProperty; function _(e, t) { return g.call(e, t) } function b(e) { var t = Object.create(null); return function (n) { return t[n] || (t[n] = e(n)) } } var w = /-(\w)/g, x = b((function (e) { return e.replace(w, (function (e, t) { return t ? t.toUpperCase() : "" })) })), E = b((function (e) { return e.charAt(0).toUpperCase() + e.slice(1) })), C = /\B([A-Z])/g, S = b((function (e) { return e.replace(C, "-$1").toLowerCase() })), O = Function.prototype.bind ? function (e, t) { return e.bind(t) } : function (e, t) { function n(n) { var r = arguments.length; return r ? r > 1 ? e.apply(t, arguments) : e.call(t, n) : e.call(t) } return n._length = e.length, n }; function k(e, t) { t = t || 0; for (var n = e.length - t, r = new Array(n); n--;)r[n] = e[n + t]; return r } function A(e, t) { for (var n in t) e[n] = t[n]; return e } function N(e) { for (var t = {}, n = 0; n < e.length; n++)e[n] && A(t, e[n]); return t } function T(e, t, n) { } var M = function (e, t, n) { return !1 }, R = function (e) { return e }; function I(e, t) { if (e === t) return !0; var n = s(e), r = s(t); if (!n || !r) return !n && !r && String(e) === String(t); try { var i = Array.isArray(e), o = Array.isArray(t); if (i && o) return e.length === t.length && e.every((function (e, n) { return I(e, t[n]) })); if (e instanceof Date && t instanceof Date) return e.getTime() === t.getTime(); if (i || o) return !1; var a = Object.keys(e), c = Object.keys(t); return a.length === c.length && a.every((function (n) { return I(e[n], t[n]) })) } catch (e) { return !1 } } function D(e, t) { for (var n = 0; n < e.length; n++)if (I(e[n], t)) return n; return -1 } function $(e) { var t = !1; return function () { t || (t = !0, e.apply(this, arguments)) } } var P = "data-server-rendered", j = ["component", "directive", "filter"], L = ["beforeCreate", "created", "beforeMount", "mounted", "beforeUpdate", "updated", "beforeDestroy", "destroyed", "activated", "deactivated", "errorCaptured", "serverPrefetch"], F = { optionMergeStrategies: Object.create(null), silent: !1, productionTip: !1, devtools: !1, performance: !1, errorHandler: null, warnHandler: null, ignoredElements: [], keyCodes: Object.create(null), isReservedTag: M, isReservedAttr: M, isUnknownElement: M, getTagNamespace: T, parsePlatformTagName: R, mustUseProp: M, async: !0, _lifecycleHooks: L }, K = /a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/; function B(e, t, n, r) { Object.defineProperty(e, t, { value: n, enumerable: !!r, writable: !0, configurable: !0 }) } var H, U = new RegExp("[^" + K.source + ".$_\\d]"), V = "__proto__" in {}, G = "undefined" != typeof window, z = "undefined" != typeof WXEnvironment && !!WXEnvironment.platform, q = z && WXEnvironment.platform.toLowerCase(), W = G && window.navigator.userAgent.toLowerCase(), Y = W && /msie|trident/.test(W), J = W && W.indexOf("msie 9.0") > 0, X = W && W.indexOf("edge/") > 0, Q = (W && W.indexOf("android"), W && /iphone|ipad|ipod|ios/.test(W) || "ios" === q), Z = (W && /chrome\/\d+/.test(W), W && /phantomjs/.test(W), W && W.match(/firefox\/(\d+)/)), ee = {}.watch, te = !1; if (G) try { var ne = {}; Object.defineProperty(ne, "passive", { get: function () { te = !0 } }), window.addEventListener("test-passive", null, ne) } catch (e) { } var re = function () { return void 0 === H && (H = !G && !z && void 0 !== t && t.process && "server" === t.process.env.VUE_ENV), H }, ie = G && window.__VUE_DEVTOOLS_GLOBAL_HOOK__; function oe(e) { return "function" == typeof e && /native code/.test(e.toString()) } var ae, se = "undefined" != typeof Symbol && oe(Symbol) && "undefined" != typeof Reflect && oe(Reflect.ownKeys); ae = "undefined" != typeof Set && oe(Set) ? Set : function () { function e() { this.set = Object.create(null) } return e.prototype.has = function (e) { return !0 === this.set[e] }, e.prototype.add = function (e) { this.set[e] = !0 }, e.prototype.clear = function () { this.set = Object.create(null) }, e }(); var ce = T, ue = 0, le = function () { this.id = ue++, this.subs = [] }; le.prototype.addSub = function (e) { this.subs.push(e) }, le.prototype.removeSub = function (e) { y(this.subs, e) }, le.prototype.depend = function () { le.target && le.target.addDep(this) }, le.prototype.notify = function () { for (var e = this.subs.slice(), t = 0, n = e.length; t < n; t++)e[t].update() }, le.target = null; var fe = []; function de(e) { fe.push(e), le.target = e } function he() { fe.pop(), le.target = fe[fe.length - 1] } var pe = function (e, t, n, r, i, o, a, s) { this.tag = e, this.data = t, this.children = n, this.text = r, this.elm = i, this.ns = void 0, this.context = o, this.fnContext = void 0, this.fnOptions = void 0, this.fnScopeId = void 0, this.key = t && t.key, this.componentOptions = a, this.componentInstance = void 0, this.parent = void 0, this.raw = !1, this.isStatic = !1, this.isRootInsert = !0, this.isComment = !1, this.isCloned = !1, this.isOnce = !1, this.asyncFactory = s, this.asyncMeta = void 0, this.isAsyncPlaceholder = !1 }, ve = { child: { configurable: !0 } }; ve.child.get = function () { return this.componentInstance }, Object.defineProperties(pe.prototype, ve); var me = function (e) { void 0 === e && (e = ""); var t = new pe; return t.text = e, t.isComment = !0, t }; function ye(e) { return new pe(void 0, void 0, void 0, String(e)) } function ge(e) { var t = new pe(e.tag, e.data, e.children && e.children.slice(), e.text, e.elm, e.context, e.componentOptions, e.asyncFactory); return t.ns = e.ns, t.isStatic = e.isStatic, t.key = e.key, t.isComment = e.isComment, t.fnContext = e.fnContext, t.fnOptions = e.fnOptions, t.fnScopeId = e.fnScopeId, t.asyncMeta = e.asyncMeta, t.isCloned = !0, t } var _e = Array.prototype, be = Object.create(_e);["push", "pop", "shift", "unshift", "splice", "sort", "reverse"].forEach((function (e) { var t = _e[e]; B(be, e, (function () { for (var n = [], r = arguments.length; r--;)n[r] = arguments[r]; var i, o = t.apply(this, n), a = this.__ob__; switch (e) { case "push": case "unshift": i = n; break; case "splice": i = n.slice(2) }return i && a.observeArray(i), a.dep.notify(), o })) })); var we = Object.getOwnPropertyNames(be), xe = !0; function Ee(e) { xe = e } var Ce = function (e) { var t; this.value = e, this.dep = new le, this.vmCount = 0, B(e, "__ob__", this), Array.isArray(e) ? (V ? (t = be, e.__proto__ = t) : function (e, t, n) { for (var r = 0, i = n.length; r < i; r++) { var o = n[r]; B(e, o, t[o]) } }(e, be, we), this.observeArray(e)) : this.walk(e) }; function Se(e, t) { var n; if (s(e) && !(e instanceof pe)) return _(e, "__ob__") && e.__ob__ instanceof Ce ? n = e.__ob__ : xe && !re() && (Array.isArray(e) || u(e)) && Object.isExtensible(e) && !e._isVue && (n = new Ce(e)), t && n && n.vmCount++, n } function Oe(e, t, n, r, i) { var o = new le, a = Object.getOwnPropertyDescriptor(e, t); if (!a || !1 !== a.configurable) { var s = a && a.get, c = a && a.set; s && !c || 2 !== arguments.length || (n = e[t]); var u = !i && Se(n); Object.defineProperty(e, t, { enumerable: !0, configurable: !0, get: function () { var t = s ? s.call(e) : n; return le.target && (o.depend(), u && (u.dep.depend(), Array.isArray(t) && function e(t) { for (var n = void 0, r = 0, i = t.length; r < i; r++)(n = t[r]) && n.__ob__ && n.__ob__.dep.depend(), Array.isArray(n) && e(n) }(t))), t }, set: function (t) { var r = s ? s.call(e) : n; t === r || t != t && r != r || s && !c || (c ? c.call(e, t) : n = t, u = !i && Se(t), o.notify()) } }) } } function ke(e, t, n) { if (Array.isArray(e) && l(t)) return e.length = Math.max(e.length, t), e.splice(t, 1, n), n; if (t in e && !(t in Object.prototype)) return e[t] = n, n; var r = e.__ob__; return e._isVue || r && r.vmCount ? n : r ? (Oe(r.value, t, n), r.dep.notify(), n) : (e[t] = n, n) } function Ae(e, t) { if (Array.isArray(e) && l(t)) e.splice(t, 1); else { var n = e.__ob__; e._isVue || n && n.vmCount || _(e, t) && (delete e[t], n && n.dep.notify()) } } Ce.prototype.walk = function (e) { for (var t = Object.keys(e), n = 0; n < t.length; n++)Oe(e, t[n]) }, Ce.prototype.observeArray = function (e) { for (var t = 0, n = e.length; t < n; t++)Se(e[t]) }; var Ne = F.optionMergeStrategies; function Te(e, t) { if (!t) return e; for (var n, r, i, o = se ? Reflect.ownKeys(t) : Object.keys(t), a = 0; a < o.length; a++)"__ob__" !== (n = o[a]) && (r = e[n], i = t[n], _(e, n) ? r !== i && u(r) && u(i) && Te(r, i) : ke(e, n, i)); return e } function Me(e, t, n) { return n ? function () { var r = "function" == typeof t ? t.call(n, n) : t, i = "function" == typeof e ? e.call(n, n) : e; return r ? Te(r, i) : i } : t ? e ? function () { return Te("function" == typeof t ? t.call(this, this) : t, "function" == typeof e ? e.call(this, this) : e) } : t : e } function Re(e, t) { var n = t ? e ? e.concat(t) : Array.isArray(t) ? t : [t] : e; return n ? function (e) { for (var t = [], n = 0; n < e.length; n++)-1 === t.indexOf(e[n]) && t.push(e[n]); return t }(n) : n } function Ie(e, t, n, r) { var i = Object.create(e || null); return t ? A(i, t) : i } Ne.data = function (e, t, n) { return n ? Me(e, t, n) : t && "function" != typeof t ? e : Me(e, t) }, L.forEach((function (e) { Ne[e] = Re })), j.forEach((function (e) { Ne[e + "s"] = Ie })), Ne.watch = function (e, t, n, r) { if (e === ee && (e = void 0), t === ee && (t = void 0), !t) return Object.create(e || null); if (!e) return t; var i = {}; for (var o in A(i, e), t) { var a = i[o], s = t[o]; a && !Array.isArray(a) && (a = [a]), i[o] = a ? a.concat(s) : Array.isArray(s) ? s : [s] } return i }, Ne.props = Ne.methods = Ne.inject = Ne.computed = function (e, t, n, r) { if (!e) return t; var i = Object.create(null); return A(i, e), t && A(i, t), i }, Ne.provide = Me; var De = function (e, t) { return void 0 === t ? e : t }; function $e(e, t, n) { if ("function" == typeof t && (t = t.options), function (e, t) { var n = e.props; if (n) { var r, i, o = {}; if (Array.isArray(n)) for (r = n.length; r--;)"string" == typeof (i = n[r]) && (o[x(i)] = { type: null }); else if (u(n)) for (var a in n) i = n[a], o[x(a)] = u(i) ? i : { type: i }; e.props = o } }(t), function (e, t) { var n = e.inject; if (n) { var r = e.inject = {}; if (Array.isArray(n)) for (var i = 0; i < n.length; i++)r[n[i]] = { from: n[i] }; else if (u(n)) for (var o in n) { var a = n[o]; r[o] = u(a) ? A({ from: o }, a) : { from: a } } } }(t), function (e) { var t = e.directives; if (t) for (var n in t) { var r = t[n]; "function" == typeof r && (t[n] = { bind: r, update: r }) } }(t), !t._base && (t.extends && (e = $e(e, t.extends, n)), t.mixins)) for (var r = 0, i = t.mixins.length; r < i; r++)e = $e(e, t.mixins[r], n); var o, a = {}; for (o in e) s(o); for (o in t) _(e, o) || s(o); function s(r) { var i = Ne[r] || De; a[r] = i(e[r], t[r], n, r) } return a } function Pe(e, t, n, r) { if ("string" == typeof n) { var i = e[t]; if (_(i, n)) return i[n]; var o = x(n); if (_(i, o)) return i[o]; var a = E(o); return _(i, a) ? i[a] : i[n] || i[o] || i[a] } } function je(e, t, n, r) { var i = t[e], o = !_(n, e), a = n[e], s = Ke(Boolean, i.type); if (s > -1) if (o && !_(i, "default")) a = !1; else if ("" === a || a === S(e)) { var c = Ke(String, i.type); (c < 0 || s < c) && (a = !0) } if (void 0 === a) { a = function (e, t, n) { if (_(t, "default")) { var r = t.default; return e && e.$options.propsData && void 0 === e.$options.propsData[n] && void 0 !== e._props[n] ? e._props[n] : "function" == typeof r && "Function" !== Le(t.type) ? r.call(e) : r } }(r, i, e); var u = xe; Ee(!0), Se(a), Ee(u) } return a } function Le(e) { var t = e && e.toString().match(/^\s*function (\w+)/); return t ? t[1] : "" } function Fe(e, t) { return Le(e) === Le(t) } function Ke(e, t) { if (!Array.isArray(t)) return Fe(t, e) ? 0 : -1; for (var n = 0, r = t.length; n < r; n++)if (Fe(t[n], e)) return n; return -1 } function Be(e, t, n) { de(); try { if (t) for (var r = t; r = r.$parent;) { var i = r.$options.errorCaptured; if (i) for (var o = 0; o < i.length; o++)try { if (!1 === i[o].call(r, e, t, n)) return } catch (e) { Ue(e, r, "errorCaptured hook") } } Ue(e, t, n) } finally { he() } } function He(e, t, n, r, i) { var o; try { (o = n ? e.apply(t, n) : e.call(t)) && !o._isVue && f(o) && !o._handled && (o.catch((function (e) { return Be(e, r, i + " (Promise/async)") })), o._handled = !0) } catch (e) { Be(e, r, i) } return o } function Ue(e, t, n) { if (F.errorHandler) try { return F.errorHandler.call(null, e, t, n) } catch (t) { t !== e && Ve(t) } Ve(e) } function Ve(e, t, n) { if (!G && !z || "undefined" == typeof console) throw e; console.error(e) } var Ge, ze = !1, qe = [], We = !1; function Ye() { We = !1; var e = qe.slice(0); qe.length = 0; for (var t = 0; t < e.length; t++)e[t]() } if ("undefined" != typeof Promise && oe(Promise)) { var Je = Promise.resolve(); Ge = function () { Je.then(Ye), Q && setTimeout(T) }, ze = !0 } else if (Y || "undefined" == typeof MutationObserver || !oe(MutationObserver) && "[object MutationObserverConstructor]" !== MutationObserver.toString()) Ge = void 0 !== n && oe(n) ? function () { n(Ye) } : function () { setTimeout(Ye, 0) }; else { var Xe = 1, Qe = new MutationObserver(Ye), Ze = document.createTextNode(String(Xe)); Qe.observe(Ze, { characterData: !0 }), Ge = function () { Xe = (Xe + 1) % 2, Ze.data = String(Xe) }, ze = !0 } function et(e, t) { var n; if (qe.push((function () { if (e) try { e.call(t) } catch (e) { Be(e, t, "nextTick") } else n && n(t) })), We || (We = !0, Ge()), !e && "undefined" != typeof Promise) return new Promise((function (e) { n = e })) } var tt = new ae; function nt(e) { !function e(t, n) { var r, i, o = Array.isArray(t); if (!(!o && !s(t) || Object.isFrozen(t) || t instanceof pe)) { if (t.__ob__) { var a = t.__ob__.dep.id; if (n.has(a)) return; n.add(a) } if (o) for (r = t.length; r--;)e(t[r], n); else for (r = (i = Object.keys(t)).length; r--;)e(t[i[r]], n) } }(e, tt), tt.clear() } var rt = b((function (e) { var t = "&" === e.charAt(0), n = "~" === (e = t ? e.slice(1) : e).charAt(0), r = "!" === (e = n ? e.slice(1) : e).charAt(0); return { name: e = r ? e.slice(1) : e, once: n, capture: r, passive: t } })); function it(e, t) { function n() { var e = arguments, r = n.fns; if (!Array.isArray(r)) return He(r, null, arguments, t, "v-on handler"); for (var i = r.slice(), o = 0; o < i.length; o++)He(i[o], null, e, t, "v-on handler") } return n.fns = e, n } function ot(e, t, n, i, a, s) { var c, u, l, f; for (c in e) u = e[c], l = t[c], f = rt(c), r(u) || (r(l) ? (r(u.fns) && (u = e[c] = it(u, s)), o(f.once) && (u = e[c] = a(f.name, u, f.capture)), n(f.name, u, f.capture, f.passive, f.params)) : u !== l && (l.fns = u, e[c] = l)); for (c in t) r(e[c]) && i((f = rt(c)).name, t[c], f.capture) } function at(e, t, n) { var a; e instanceof pe && (e = e.data.hook || (e.data.hook = {})); var s = e[t]; function c() { n.apply(this, arguments), y(a.fns, c) } r(s) ? a = it([c]) : i(s.fns) && o(s.merged) ? (a = s).fns.push(c) : a = it([s, c]), a.merged = !0, e[t] = a } function st(e, t, n, r, o) { if (i(t)) { if (_(t, n)) return e[n] = t[n], o || delete t[n], !0; if (_(t, r)) return e[n] = t[r], o || delete t[r], !0 } return !1 } function ct(e) { return a(e) ? [ye(e)] : Array.isArray(e) ? function e(t, n) { var s, c, u, l, f = []; for (s = 0; s < t.length; s++)r(c = t[s]) || "boolean" == typeof c || (l = f[u = f.length - 1], Array.isArray(c) ? c.length > 0 && (ut((c = e(c, (n || "") + "_" + s))[0]) && ut(l) && (f[u] = ye(l.text + c[0].text), c.shift()), f.push.apply(f, c)) : a(c) ? ut(l) ? f[u] = ye(l.text + c) : "" !== c && f.push(ye(c)) : ut(c) && ut(l) ? f[u] = ye(l.text + c.text) : (o(t._isVList) && i(c.tag) && r(c.key) && i(n) && (c.key = "__vlist" + n + "_" + s + "__"), f.push(c))); return f }(e) : void 0 } function ut(e) { return i(e) && i(e.text) && !1 === e.isComment } function lt(e, t) { if (e) { for (var n = Object.create(null), r = se ? Reflect.ownKeys(e) : Object.keys(e), i = 0; i < r.length; i++) { var o = r[i]; if ("__ob__" !== o) { for (var a = e[o].from, s = t; s;) { if (s._provided && _(s._provided, a)) { n[o] = s._provided[a]; break } s = s.$parent } if (!s && "default" in e[o]) { var c = e[o].default; n[o] = "function" == typeof c ? c.call(t) : c } } } return n } } function ft(e, t) { if (!e || !e.length) return {}; for (var n = {}, r = 0, i = e.length; r < i; r++) { var o = e[r], a = o.data; if (a && a.attrs && a.attrs.slot && delete a.attrs.slot, o.context !== t && o.fnContext !== t || !a || null == a.slot) (n.default || (n.default = [])).push(o); else { var s = a.slot, c = n[s] || (n[s] = []); "template" === o.tag ? c.push.apply(c, o.children || []) : c.push(o) } } for (var u in n) n[u].every(dt) && delete n[u]; return n } function dt(e) { return e.isComment && !e.asyncFactory || " " === e.text } function ht(t, n, r) { var i, o = Object.keys(n).length > 0, a = t ? !!t.$stable : !o, s = t && t.$key; if (t) { if (t._normalized) return t._normalized; if (a && r && r !== e && s === r.$key && !o && !r.$hasNormal) return r; for (var c in i = {}, t) t[c] && "$" !== c[0] && (i[c] = pt(n, c, t[c])) } else i = {}; for (var u in n) u in i || (i[u] = vt(n, u)); return t && Object.isExtensible(t) && (t._normalized = i), B(i, "$stable", a), B(i, "$key", s), B(i, "$hasNormal", o), i } function pt(e, t, n) { var r = function () { var e = arguments.length ? n.apply(null, arguments) : n({}); return (e = e && "object" == typeof e && !Array.isArray(e) ? [e] : ct(e)) && (0 === e.length || 1 === e.length && e[0].isComment) ? void 0 : e }; return n.proxy && Object.defineProperty(e, t, { get: r, enumerable: !0, configurable: !0 }), r } function vt(e, t) { return function () { return e[t] } } function mt(e, t) { var n, r, o, a, c; if (Array.isArray(e) || "string" == typeof e) for (n = new Array(e.length), r = 0, o = e.length; r < o; r++)n[r] = t(e[r], r); else if ("number" == typeof e) for (n = new Array(e), r = 0; r < e; r++)n[r] = t(r + 1, r); else if (s(e)) if (se && e[Symbol.iterator]) { n = []; for (var u = e[Symbol.iterator](), l = u.next(); !l.done;)n.push(t(l.value, n.length)), l = u.next() } else for (a = Object.keys(e), n = new Array(a.length), r = 0, o = a.length; r < o; r++)c = a[r], n[r] = t(e[c], c, r); return i(n) || (n = []), n._isVList = !0, n } function yt(e, t, n, r) { var i, o = this.$scopedSlots[e]; o ? (n = n || {}, r && (n = A(A({}, r), n)), i = o(n) || t) : i = this.$slots[e] || t; var a = n && n.slot; return a ? this.$createElement("template", { slot: a }, i) : i } function gt(e) { return Pe(this.$options, "filters", e) || R } function _t(e, t) { return Array.isArray(e) ? -1 === e.indexOf(t) : e !== t } function bt(e, t, n, r, i) { var o = F.keyCodes[t] || n; return i && r && !F.keyCodes[t] ? _t(i, r) : o ? _t(o, e) : r ? S(r) !== t : void 0 } function wt(e, t, n, r, i) { if (n && s(n)) { var o; Array.isArray(n) && (n = N(n)); var a = function (a) { if ("class" === a || "style" === a || m(a)) o = e; else { var s = e.attrs && e.attrs.type; o = r || F.mustUseProp(t, s, a) ? e.domProps || (e.domProps = {}) : e.attrs || (e.attrs = {}) } var c = x(a), u = S(a); c in o || u in o || (o[a] = n[a], i && ((e.on || (e.on = {}))["update:" + a] = function (e) { n[a] = e })) }; for (var c in n) a(c) } return e } function xt(e, t) { var n = this._staticTrees || (this._staticTrees = []), r = n[e]; return r && !t || Ct(r = n[e] = this.$options.staticRenderFns[e].call(this._renderProxy, null, this), "__static__" + e, !1), r } function Et(e, t, n) { return Ct(e, "__once__" + t + (n ? "_" + n : ""), !0), e } function Ct(e, t, n) { if (Array.isArray(e)) for (var r = 0; r < e.length; r++)e[r] && "string" != typeof e[r] && St(e[r], t + "_" + r, n); else St(e, t, n) } function St(e, t, n) { e.isStatic = !0, e.key = t, e.isOnce = n } function Ot(e, t) { if (t && u(t)) { var n = e.on = e.on ? A({}, e.on) : {}; for (var r in t) { var i = n[r], o = t[r]; n[r] = i ? [].concat(i, o) : o } } return e } function kt(e, t, n, r) { t = t || { $stable: !n }; for (var i = 0; i < e.length; i++) { var o = e[i]; Array.isArray(o) ? kt(o, t, n) : o && (o.proxy && (o.fn.proxy = !0), t[o.key] = o.fn) } return r && (t.$key = r), t } function At(e, t) { for (var n = 0; n < t.length; n += 2) { var r = t[n]; "string" == typeof r && r && (e[t[n]] = t[n + 1]) } return e } function Nt(e, t) { return "string" == typeof e ? t + e : e } function Tt(e) { e._o = Et, e._n = h, e._s = d, e._l = mt, e._t = yt, e._q = I, e._i = D, e._m = xt, e._f = gt, e._k = bt, e._b = wt, e._v = ye, e._e = me, e._u = kt, e._g = Ot, e._d = At, e._p = Nt } function Mt(t, n, r, i, a) { var s, c = this, u = a.options; _(i, "_uid") ? (s = Object.create(i))._original = i : (s = i, i = i._original); var l = o(u._compiled), f = !l; this.data = t, this.props = n, this.children = r, this.parent = i, this.listeners = t.on || e, this.injections = lt(u.inject, i), this.slots = function () { return c.$slots || ht(t.scopedSlots, c.$slots = ft(r, i)), c.$slots }, Object.defineProperty(this, "scopedSlots", { enumerable: !0, get: function () { return ht(t.scopedSlots, this.slots()) } }), l && (this.$options = u, this.$slots = this.slots(), this.$scopedSlots = ht(t.scopedSlots, this.$slots)), u._scopeId ? this._c = function (e, t, n, r) { var o = Lt(s, e, t, n, r, f); return o && !Array.isArray(o) && (o.fnScopeId = u._scopeId, o.fnContext = i), o } : this._c = function (e, t, n, r) { return Lt(s, e, t, n, r, f) } } function Rt(e, t, n, r, i) { var o = ge(e); return o.fnContext = n, o.fnOptions = r, t.slot && ((o.data || (o.data = {})).slot = t.slot), o } function It(e, t) { for (var n in t) e[x(n)] = t[n] } Tt(Mt.prototype); var Dt = { init: function (e, t) { if (e.componentInstance && !e.componentInstance._isDestroyed && e.data.keepAlive) { var n = e; Dt.prepatch(n, n) } else (e.componentInstance = function (e, t) { var n = { _isComponent: !0, _parentVnode: e, parent: t }, r = e.data.inlineTemplate; return i(r) && (n.render = r.render, n.staticRenderFns = r.staticRenderFns), new e.componentOptions.Ctor(n) }(e, Wt)).$mount(t ? e.elm : void 0, t) }, prepatch: function (t, n) { var r = n.componentOptions; !function (t, n, r, i, o) { var a = i.data.scopedSlots, s = t.$scopedSlots, c = !!(a && !a.$stable || s !== e && !s.$stable || a && t.$scopedSlots.$key !== a.$key), u = !!(o || t.$options._renderChildren || c); if (t.$options._parentVnode = i, t.$vnode = i, t._vnode && (t._vnode.parent = i), t.$options._renderChildren = o, t.$attrs = i.data.attrs || e, t.$listeners = r || e, n && t.$options.props) { Ee(!1); for (var l = t._props, f = t.$options._propKeys || [], d = 0; d < f.length; d++) { var h = f[d], p = t.$options.props; l[h] = je(h, p, n, t) } Ee(!0), t.$options.propsData = n } r = r || e; var v = t.$options._parentListeners; t.$options._parentListeners = r, qt(t, r, v), u && (t.$slots = ft(o, i.context), t.$forceUpdate()) }(n.componentInstance = t.componentInstance, r.propsData, r.listeners, n, r.children) }, insert: function (e) { var t, n = e.context, r = e.componentInstance; r._isMounted || (r._isMounted = !0, Qt(r, "mounted")), e.data.keepAlive && (n._isMounted ? ((t = r)._inactive = !1, en.push(t)) : Xt(r, !0)) }, destroy: function (e) { var t = e.componentInstance; t._isDestroyed || (e.data.keepAlive ? function e(t, n) { if (!(n && (t._directInactive = !0, Jt(t)) || t._inactive)) { t._inactive = !0; for (var r = 0; r < t.$children.length; r++)e(t.$children[r]); Qt(t, "deactivated") } }(t, !0) : t.$destroy()) } }, $t = Object.keys(Dt); function Pt(t, n, a, c, u) { if (!r(t)) { var l = a.$options._base; if (s(t) && (t = l.extend(t)), "function" == typeof t) { var d; if (r(t.cid) && void 0 === (t = function (e, t) { if (o(e.error) && i(e.errorComp)) return e.errorComp; if (i(e.resolved)) return e.resolved; var n = Kt; if (n && i(e.owners) && -1 === e.owners.indexOf(n) && e.owners.push(n), o(e.loading) && i(e.loadingComp)) return e.loadingComp; if (n && !i(e.owners)) { var a = e.owners = [n], c = !0, u = null, l = null; n.$on("hook:destroyed", (function () { return y(a, n) })); var d = function (e) { for (var t = 0, n = a.length; t < n; t++)a[t].$forceUpdate(); e && (a.length = 0, null !== u && (clearTimeout(u), u = null), null !== l && (clearTimeout(l), l = null)) }, h = $((function (n) { e.resolved = Bt(n, t), c ? a.length = 0 : d(!0) })), p = $((function (t) { i(e.errorComp) && (e.error = !0, d(!0)) })), v = e(h, p); return s(v) && (f(v) ? r(e.resolved) && v.then(h, p) : f(v.component) && (v.component.then(h, p), i(v.error) && (e.errorComp = Bt(v.error, t)), i(v.loading) && (e.loadingComp = Bt(v.loading, t), 0 === v.delay ? e.loading = !0 : u = setTimeout((function () { u = null, r(e.resolved) && r(e.error) && (e.loading = !0, d(!1)) }), v.delay || 200)), i(v.timeout) && (l = setTimeout((function () { l = null, r(e.resolved) && p(null) }), v.timeout)))), c = !1, e.loading ? e.loadingComp : e.resolved } }(d = t, l))) return function (e, t, n, r, i) { var o = me(); return o.asyncFactory = e, o.asyncMeta = { data: t, context: n, children: r, tag: i }, o }(d, n, a, c, u); n = n || {}, bn(t), i(n.model) && function (e, t) { var n = e.model && e.model.prop || "value", r = e.model && e.model.event || "input"; (t.attrs || (t.attrs = {}))[n] = t.model.value; var o = t.on || (t.on = {}), a = o[r], s = t.model.callback; i(a) ? (Array.isArray(a) ? -1 === a.indexOf(s) : a !== s) && (o[r] = [s].concat(a)) : o[r] = s }(t.options, n); var h = function (e, t, n) { var o = t.options.props; if (!r(o)) { var a = {}, s = e.attrs, c = e.props; if (i(s) || i(c)) for (var u in o) { var l = S(u); st(a, c, u, l, !0) || st(a, s, u, l, !1) } return a } }(n, t); if (o(t.options.functional)) return function (t, n, r, o, a) { var s = t.options, c = {}, u = s.props; if (i(u)) for (var l in u) c[l] = je(l, u, n || e); else i(r.attrs) && It(c, r.attrs), i(r.props) && It(c, r.props); var f = new Mt(r, c, a, o, t), d = s.render.call(null, f._c, f); if (d instanceof pe) return Rt(d, r, f.parent, s); if (Array.isArray(d)) { for (var h = ct(d) || [], p = new Array(h.length), v = 0; v < h.length; v++)p[v] = Rt(h[v], r, f.parent, s); return p } }(t, h, n, a, c); var p = n.on; if (n.on = n.nativeOn, o(t.options.abstract)) { var v = n.slot; n = {}, v && (n.slot = v) } !function (e) { for (var t = e.hook || (e.hook = {}), n = 0; n < $t.length; n++) { var r = $t[n], i = t[r], o = Dt[r]; i === o || i && i._merged || (t[r] = i ? jt(o, i) : o) } }(n); var m = t.options.name || u; return new pe("vue-component-" + t.cid + (m ? "-" + m : ""), n, void 0, void 0, void 0, a, { Ctor: t, propsData: h, listeners: p, tag: u, children: c }, d) } } } function jt(e, t) { var n = function (n, r) { e(n, r), t(n, r) }; return n._merged = !0, n } function Lt(e, t, n, c, u, l) { return (Array.isArray(n) || a(n)) && (u = c, c = n, n = void 0), o(l) && (u = 2), function (e, t, n, a, c) { return i(n) && i(n.__ob__) ? me() : (i(n) && i(n.is) && (t = n.is), t ? (Array.isArray(a) && "function" == typeof a[0] && ((n = n || {}).scopedSlots = { default: a[0] }, a.length = 0), 2 === c ? a = ct(a) : 1 === c && (a = function (e) { for (var t = 0; t < e.length; t++)if (Array.isArray(e[t])) return Array.prototype.concat.apply([], e); return e }(a)), "string" == typeof t ? (l = e.$vnode && e.$vnode.ns || F.getTagNamespace(t), u = F.isReservedTag(t) ? new pe(F.parsePlatformTagName(t), n, a, void 0, void 0, e) : n && n.pre || !i(f = Pe(e.$options, "components", t)) ? new pe(t, n, a, void 0, void 0, e) : Pt(f, n, e, a, t)) : u = Pt(t, n, e, a), Array.isArray(u) ? u : i(u) ? (i(l) && function e(t, n, a) { if (t.ns = n, "foreignObject" === t.tag && (n = void 0, a = !0), i(t.children)) for (var s = 0, c = t.children.length; s < c; s++) { var u = t.children[s]; i(u.tag) && (r(u.ns) || o(a) && "svg" !== u.tag) && e(u, n, a) } }(u, l), i(n) && function (e) { s(e.style) && nt(e.style), s(e.class) && nt(e.class) }(n), u) : me()) : me()); var u, l, f }(e, t, n, c, u) } var Ft, Kt = null; function Bt(e, t) { return (e.__esModule || se && "Module" === e[Symbol.toStringTag]) && (e = e.default), s(e) ? t.extend(e) : e } function Ht(e) { return e.isComment && e.asyncFactory } function Ut(e) { if (Array.isArray(e)) for (var t = 0; t < e.length; t++) { var n = e[t]; if (i(n) && (i(n.componentOptions) || Ht(n))) return n } } function Vt(e, t) { Ft.$on(e, t) } function Gt(e, t) { Ft.$off(e, t) } function zt(e, t) { var n = Ft; return function r() { null !== t.apply(null, arguments) && n.$off(e, r) } } function qt(e, t, n) { Ft = e, ot(t, n || {}, Vt, Gt, zt, e), Ft = void 0 } var Wt = null; function Yt(e) { var t = Wt; return Wt = e, function () { Wt = t } } function Jt(e) { for (; e && (e = e.$parent);)if (e._inactive) return !0; return !1 } function Xt(e, t) { if (t) { if (e._directInactive = !1, Jt(e)) return } else if (e._directInactive) return; if (e._inactive || null === e._inactive) { e._inactive = !1; for (var n = 0; n < e.$children.length; n++)Xt(e.$children[n]); Qt(e, "activated") } } function Qt(e, t) { de(); var n = e.$options[t], r = t + " hook"; if (n) for (var i = 0, o = n.length; i < o; i++)He(n[i], e, null, e, r); e._hasHookEvent && e.$emit("hook:" + t), he() } var Zt = [], en = [], tn = {}, nn = !1, rn = !1, on = 0, an = 0, sn = Date.now; if (G && !Y) { var cn = window.performance; cn && "function" == typeof cn.now && sn() > document.createEvent("Event").timeStamp && (sn = function () { return cn.now() }) } function un() { var e, t; for (an = sn(), rn = !0, Zt.sort((function (e, t) { return e.id - t.id })), on = 0; on < Zt.length; on++)(e = Zt[on]).before && e.before(), t = e.id, tn[t] = null, e.run(); var n = en.slice(), r = Zt.slice(); on = Zt.length = en.length = 0, tn = {}, nn = rn = !1, function (e) { for (var t = 0; t < e.length; t++)e[t]._inactive = !0, Xt(e[t], !0) }(n), function (e) { for (var t = e.length; t--;) { var n = e[t], r = n.vm; r._watcher === n && r._isMounted && !r._isDestroyed && Qt(r, "updated") } }(r), ie && F.devtools && ie.emit("flush") } var ln = 0, fn = function (e, t, n, r, i) { this.vm = e, i && (e._watcher = this), e._watchers.push(this), r ? (this.deep = !!r.deep, this.user = !!r.user, this.lazy = !!r.lazy, this.sync = !!r.sync, this.before = r.before) : this.deep = this.user = this.lazy = this.sync = !1, this.cb = n, this.id = ++ln, this.active = !0, this.dirty = this.lazy, this.deps = [], this.newDeps = [], this.depIds = new ae, this.newDepIds = new ae, this.expression = "", "function" == typeof t ? this.getter = t : (this.getter = function (e) { if (!U.test(e)) { var t = e.split("."); return function (e) { for (var n = 0; n < t.length; n++) { if (!e) return; e = e[t[n]] } return e } } }(t), this.getter || (this.getter = T)), this.value = this.lazy ? void 0 : this.get() }; fn.prototype.get = function () { var e; de(this); var t = this.vm; try { e = this.getter.call(t, t) } catch (e) { if (!this.user) throw e; Be(e, t, 'getter for watcher "' + this.expression + '"') } finally { this.deep && nt(e), he(), this.cleanupDeps() } return e }, fn.prototype.addDep = function (e) { var t = e.id; this.newDepIds.has(t) || (this.newDepIds.add(t), this.newDeps.push(e), this.depIds.has(t) || e.addSub(this)) }, fn.prototype.cleanupDeps = function () { for (var e = this.deps.length; e--;) { var t = this.deps[e]; this.newDepIds.has(t.id) || t.removeSub(this) } var n = this.depIds; this.depIds = this.newDepIds, this.newDepIds = n, this.newDepIds.clear(), n = this.deps, this.deps = this.newDeps, this.newDeps = n, this.newDeps.length = 0 }, fn.prototype.update = function () { this.lazy ? this.dirty = !0 : this.sync ? this.run() : function (e) { var t = e.id; if (null == tn[t]) { if (tn[t] = !0, rn) { for (var n = Zt.length - 1; n > on && Zt[n].id > e.id;)n--; Zt.splice(n + 1, 0, e) } else Zt.push(e); nn || (nn = !0, et(un)) } }(this) }, fn.prototype.run = function () { if (this.active) { var e = this.get(); if (e !== this.value || s(e) || this.deep) { var t = this.value; if (this.value = e, this.user) try { this.cb.call(this.vm, e, t) } catch (e) { Be(e, this.vm, 'callback for watcher "' + this.expression + '"') } else this.cb.call(this.vm, e, t) } } }, fn.prototype.evaluate = function () { this.value = this.get(), this.dirty = !1 }, fn.prototype.depend = function () { for (var e = this.deps.length; e--;)this.deps[e].depend() }, fn.prototype.teardown = function () { if (this.active) { this.vm._isBeingDestroyed || y(this.vm._watchers, this); for (var e = this.deps.length; e--;)this.deps[e].removeSub(this); this.active = !1 } }; var dn = { enumerable: !0, configurable: !0, get: T, set: T }; function hn(e, t, n) { dn.get = function () { return this[t][n] }, dn.set = function (e) { this[t][n] = e }, Object.defineProperty(e, n, dn) } var pn = { lazy: !0 }; function vn(e, t, n) { var r = !re(); "function" == typeof n ? (dn.get = r ? mn(t) : yn(n), dn.set = T) : (dn.get = n.get ? r && !1 !== n.cache ? mn(t) : yn(n.get) : T, dn.set = n.set || T), Object.defineProperty(e, t, dn) } function mn(e) { return function () { var t = this._computedWatchers && this._computedWatchers[e]; if (t) return t.dirty && t.evaluate(), le.target && t.depend(), t.value } } function yn(e) { return function () { return e.call(this, this) } } function gn(e, t, n, r) { return u(n) && (r = n, n = n.handler), "string" == typeof n && (n = e[n]), e.$watch(t, n, r) } var _n = 0; function bn(e) { var t = e.options; if (e.super) { var n = bn(e.super); if (n !== e.superOptions) { e.superOptions = n; var r = function (e) { var t, n = e.options, r = e.sealedOptions; for (var i in n) n[i] !== r[i] && (t || (t = {}), t[i] = n[i]); return t }(e); r && A(e.extendOptions, r), (t = e.options = $e(n, e.extendOptions)).name && (t.components[t.name] = e) } } return t } function wn(e) { this._init(e) } function xn(e) { return e && (e.Ctor.options.name || e.tag) } function En(e, t) { return Array.isArray(e) ? e.indexOf(t) > -1 : "string" == typeof e ? e.split(",").indexOf(t) > -1 : (n = e, "[object RegExp]" === c.call(n) && e.test(t)); var n } function Cn(e, t) { var n = e.cache, r = e.keys, i = e._vnode; for (var o in n) { var a = n[o]; if (a) { var s = xn(a.componentOptions); s && !t(s) && Sn(n, o, r, i) } } } function Sn(e, t, n, r) { var i = e[t]; !i || r && i.tag === r.tag || i.componentInstance.$destroy(), e[t] = null, y(n, t) } !function (t) { t.prototype._init = function (t) { var n = this; n._uid = _n++, n._isVue = !0, t && t._isComponent ? function (e, t) { var n = e.$options = Object.create(e.constructor.options), r = t._parentVnode; n.parent = t.parent, n._parentVnode = r; var i = r.componentOptions; n.propsData = i.propsData, n._parentListeners = i.listeners, n._renderChildren = i.children, n._componentTag = i.tag, t.render && (n.render = t.render, n.staticRenderFns = t.staticRenderFns) }(n, t) : n.$options = $e(bn(n.constructor), t || {}, n), n._renderProxy = n, n._self = n, function (e) { var t = e.$options, n = t.parent; if (n && !t.abstract) { for (; n.$options.abstract && n.$parent;)n = n.$parent; n.$children.push(e) } e.$parent = n, e.$root = n ? n.$root : e, e.$children = [], e.$refs = {}, e._watcher = null, e._inactive = null, e._directInactive = !1, e._isMounted = !1, e._isDestroyed = !1, e._isBeingDestroyed = !1 }(n), function (e) { e._events = Object.create(null), e._hasHookEvent = !1; var t = e.$options._parentListeners; t && qt(e, t) }(n), function (t) { t._vnode = null, t._staticTrees = null; var n = t.$options, r = t.$vnode = n._parentVnode, i = r && r.context; t.$slots = ft(n._renderChildren, i), t.$scopedSlots = e, t._c = function (e, n, r, i) { return Lt(t, e, n, r, i, !1) }, t.$createElement = function (e, n, r, i) { return Lt(t, e, n, r, i, !0) }; var o = r && r.data; Oe(t, "$attrs", o && o.attrs || e, null, !0), Oe(t, "$listeners", n._parentListeners || e, null, !0) }(n), Qt(n, "beforeCreate"), function (e) { var t = lt(e.$options.inject, e); t && (Ee(!1), Object.keys(t).forEach((function (n) { Oe(e, n, t[n]) })), Ee(!0)) }(n), function (e) { e._watchers = []; var t = e.$options; t.props && function (e, t) { var n = e.$options.propsData || {}, r = e._props = {}, i = e.$options._propKeys = []; e.$parent && Ee(!1); var o = function (o) { i.push(o); var a = je(o, t, n, e); Oe(r, o, a), o in e || hn(e, "_props", o) }; for (var a in t) o(a); Ee(!0) }(e, t.props), t.methods && function (e, t) { for (var n in e.$options.props, t) e[n] = "function" != typeof t[n] ? T : O(t[n], e) }(e, t.methods), t.data ? function (e) { var t = e.$options.data; u(t = e._data = "function" == typeof t ? function (e, t) { de(); try { return e.call(t, t) } catch (e) { return Be(e, t, "data()"), {} } finally { he() } }(t, e) : t || {}) || (t = {}); for (var n, r = Object.keys(t), i = e.$options.props, o = (e.$options.methods, r.length); o--;) { var a = r[o]; i && _(i, a) || 36 !== (n = (a + "").charCodeAt(0)) && 95 !== n && hn(e, "_data", a) } Se(t, !0) }(e) : Se(e._data = {}, !0), t.computed && function (e, t) { var n = e._computedWatchers = Object.create(null), r = re(); for (var i in t) { var o = t[i], a = "function" == typeof o ? o : o.get; r || (n[i] = new fn(e, a || T, T, pn)), i in e || vn(e, i, o) } }(e, t.computed), t.watch && t.watch !== ee && function (e, t) { for (var n in t) { var r = t[n]; if (Array.isArray(r)) for (var i = 0; i < r.length; i++)gn(e, n, r[i]); else gn(e, n, r) } }(e, t.watch) }(n), function (e) { var t = e.$options.provide; t && (e._provided = "function" == typeof t ? t.call(e) : t) }(n), Qt(n, "created"), n.$options.el && n.$mount(n.$options.el) } }(wn), function (e) { Object.defineProperty(e.prototype, "$data", { get: function () { return this._data } }), Object.defineProperty(e.prototype, "$props", { get: function () { return this._props } }), e.prototype.$set = ke, e.prototype.$delete = Ae, e.prototype.$watch = function (e, t, n) { if (u(t)) return gn(this, e, t, n); (n = n || {}).user = !0; var r = new fn(this, e, t, n); if (n.immediate) try { t.call(this, r.value) } catch (e) { Be(e, this, 'callback for immediate watcher "' + r.expression + '"') } return function () { r.teardown() } } }(wn), function (e) { var t = /^hook:/; e.prototype.$on = function (e, n) { var r = this; if (Array.isArray(e)) for (var i = 0, o = e.length; i < o; i++)r.$on(e[i], n); else (r._events[e] || (r._events[e] = [])).push(n), t.test(e) && (r._hasHookEvent = !0); return r }, e.prototype.$once = function (e, t) { var n = this; function r() { n.$off(e, r), t.apply(n, arguments) } return r.fn = t, n.$on(e, r), n }, e.prototype.$off = function (e, t) { var n = this; if (!arguments.length) return n._events = Object.create(null), n; if (Array.isArray(e)) { for (var r = 0, i = e.length; r < i; r++)n.$off(e[r], t); return n } var o, a = n._events[e]; if (!a) return n; if (!t) return n._events[e] = null, n; for (var s = a.length; s--;)if ((o = a[s]) === t || o.fn === t) { a.splice(s, 1); break } return n }, e.prototype.$emit = function (e) { var t = this._events[e]; if (t) { t = t.length > 1 ? k(t) : t; for (var n = k(arguments, 1), r = 'event handler for "' + e + '"', i = 0, o = t.length; i < o; i++)He(t[i], this, n, this, r) } return this } }(wn), function (e) { e.prototype._update = function (e, t) { var n = this, r = n.$el, i = n._vnode, o = Yt(n); n._vnode = e, n.$el = i ? n.__patch__(i, e) : n.__patch__(n.$el, e, t, !1), o(), r && (r.__vue__ = null), n.$el && (n.$el.__vue__ = n), n.$vnode && n.$parent && n.$vnode === n.$parent._vnode && (n.$parent.$el = n.$el) }, e.prototype.$forceUpdate = function () { this._watcher && this._watcher.update() }, e.prototype.$destroy = function () { var e = this; if (!e._isBeingDestroyed) { Qt(e, "beforeDestroy"), e._isBeingDestroyed = !0; var t = e.$parent; !t || t._isBeingDestroyed || e.$options.abstract || y(t.$children, e), e._watcher && e._watcher.teardown(); for (var n = e._watchers.length; n--;)e._watchers[n].teardown(); e._data.__ob__ && e._data.__ob__.vmCount--, e._isDestroyed = !0, e.__patch__(e._vnode, null), Qt(e, "destroyed"), e.$off(), e.$el && (e.$el.__vue__ = null), e.$vnode && (e.$vnode.parent = null) } } }(wn), function (e) { Tt(e.prototype), e.prototype.$nextTick = function (e) { return et(e, this) }, e.prototype._render = function () { var e, t = this, n = t.$options, r = n.render, i = n._parentVnode; i && (t.$scopedSlots = ht(i.data.scopedSlots, t.$slots, t.$scopedSlots)), t.$vnode = i; try { Kt = t, e = r.call(t._renderProxy, t.$createElement) } catch (n) { Be(n, t, "render"), e = t._vnode } finally { Kt = null } return Array.isArray(e) && 1 === e.length && (e = e[0]), e instanceof pe || (e = me()), e.parent = i, e } }(wn); var On = [String, RegExp, Array], kn = { KeepAlive: { name: "keep-alive", abstract: !0, props: { include: On, exclude: On, max: [String, Number] }, created: function () { this.cache = Object.create(null), this.keys = [] }, destroyed: function () { for (var e in this.cache) Sn(this.cache, e, this.keys) }, mounted: function () { var e = this; this.$watch("include", (function (t) { Cn(e, (function (e) { return En(t, e) })) })), this.$watch("exclude", (function (t) { Cn(e, (function (e) { return !En(t, e) })) })) }, render: function () { var e = this.$slots.default, t = Ut(e), n = t && t.componentOptions; if (n) { var r = xn(n), i = this.include, o = this.exclude; if (i && (!r || !En(i, r)) || o && r && En(o, r)) return t; var a = this.cache, s = this.keys, c = null == t.key ? n.Ctor.cid + (n.tag ? "::" + n.tag : "") : t.key; a[c] ? (t.componentInstance = a[c].componentInstance, y(s, c), s.push(c)) : (a[c] = t, s.push(c), this.max && s.length > parseInt(this.max) && Sn(a, s[0], s, this._vnode)), t.data.keepAlive = !0 } return t || e && e[0] } } }; !function (e) { var t = { get: function () { return F } }; Object.defineProperty(e, "config", t), e.util = { warn: ce, extend: A, mergeOptions: $e, defineReactive: Oe }, e.set = ke, e.delete = Ae, e.nextTick = et, e.observable = function (e) { return Se(e), e }, e.options = Object.create(null), j.forEach((function (t) { e.options[t + "s"] = Object.create(null) })), e.options._base = e, A(e.options.components, kn), function (e) { e.use = function (e) { var t = this._installedPlugins || (this._installedPlugins = []); if (t.indexOf(e) > -1) return this; var n = k(arguments, 1); return n.unshift(this), "function" == typeof e.install ? e.install.apply(e, n) : "function" == typeof e && e.apply(null, n), t.push(e), this } }(e), function (e) { e.mixin = function (e) { return this.options = $e(this.options, e), this } }(e), function (e) { e.cid = 0; var t = 1; e.extend = function (e) { e = e || {}; var n = this, r = n.cid, i = e._Ctor || (e._Ctor = {}); if (i[r]) return i[r]; var o = e.name || n.options.name, a = function (e) { this._init(e) }; return (a.prototype = Object.create(n.prototype)).constructor = a, a.cid = t++, a.options = $e(n.options, e), a.super = n, a.options.props && function (e) { var t = e.options.props; for (var n in t) hn(e.prototype, "_props", n) }(a), a.options.computed && function (e) { var t = e.options.computed; for (var n in t) vn(e.prototype, n, t[n]) }(a), a.extend = n.extend, a.mixin = n.mixin, a.use = n.use, j.forEach((function (e) { a[e] = n[e] })), o && (a.options.components[o] = a), a.superOptions = n.options, a.extendOptions = e, a.sealedOptions = A({}, a.options), i[r] = a, a } }(e), function (e) { j.forEach((function (t) { e[t] = function (e, n) { return n ? ("component" === t && u(n) && (n.name = n.name || e, n = this.options._base.extend(n)), "directive" === t && "function" == typeof n && (n = { bind: n, update: n }), this.options[t + "s"][e] = n, n) : this.options[t + "s"][e] } })) }(e) }(wn), Object.defineProperty(wn.prototype, "$isServer", { get: re }), Object.defineProperty(wn.prototype, "$ssrContext", { get: function () { return this.$vnode && this.$vnode.ssrContext } }), Object.defineProperty(wn, "FunctionalRenderContext", { value: Mt }), wn.version = "2.6.11"; var An = p("style,class"), Nn = p("input,textarea,option,select,progress"), Tn = function (e, t, n) { return "value" === n && Nn(e) && "button" !== t || "selected" === n && "option" === e || "checked" === n && "input" === e || "muted" === n && "video" === e }, Mn = p("contenteditable,draggable,spellcheck"), Rn = p("events,caret,typing,plaintext-only"), In = p("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"), Dn = "http://www.w3.org/1999/xlink", $n = function (e) { return ":" === e.charAt(5) && "xlink" === e.slice(0, 5) }, Pn = function (e) { return $n(e) ? e.slice(6, e.length) : "" }, jn = function (e) { return null == e || !1 === e }; function Ln(e, t) { return { staticClass: Fn(e.staticClass, t.staticClass), class: i(e.class) ? [e.class, t.class] : t.class } } function Fn(e, t) { return e ? t ? e + " " + t : e : t || "" } function Kn(e) { return Array.isArray(e) ? function (e) { for (var t, n = "", r = 0, o = e.length; r < o; r++)i(t = Kn(e[r])) && "" !== t && (n && (n += " "), n += t); return n }(e) : s(e) ? function (e) { var t = ""; for (var n in e) e[n] && (t && (t += " "), t += n); return t }(e) : "string" == typeof e ? e : "" } var Bn = { svg: "http://www.w3.org/2000/svg", math: "http://www.w3.org/1998/Math/MathML" }, Hn = p("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"), Un = p("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view", !0), Vn = function (e) { return Hn(e) || Un(e) }; function Gn(e) { return Un(e) ? "svg" : "math" === e ? "math" : void 0 } var zn = Object.create(null), qn = p("text,number,password,search,email,tel,url"); function Wn(e) { return "string" == typeof e ? document.querySelector(e) || document.createElement("div") : e } var Yn = Object.freeze({ createElement: function (e, t) { var n = document.createElement(e); return "select" !== e || t.data && t.data.attrs && void 0 !== t.data.attrs.multiple && n.setAttribute("multiple", "multiple"), n }, createElementNS: function (e, t) { return document.createElementNS(Bn[e], t) }, createTextNode: function (e) { return document.createTextNode(e) }, createComment: function (e) { return document.createComment(e) }, insertBefore: function (e, t, n) { e.insertBefore(t, n) }, removeChild: function (e, t) { e.removeChild(t) }, appendChild: function (e, t) { e.appendChild(t) }, parentNode: function (e) { return e.parentNode }, nextSibling: function (e) { return e.nextSibling }, tagName: function (e) { return e.tagName }, setTextContent: function (e, t) { e.textContent = t }, setStyleScope: function (e, t) { e.setAttribute(t, "") } }), Jn = { create: function (e, t) { Xn(t) }, update: function (e, t) { e.data.ref !== t.data.ref && (Xn(e, !0), Xn(t)) }, destroy: function (e) { Xn(e, !0) } }; function Xn(e, t) { var n = e.data.ref; if (i(n)) { var r = e.context, o = e.componentInstance || e.elm, a = r.$refs; t ? Array.isArray(a[n]) ? y(a[n], o) : a[n] === o && (a[n] = void 0) : e.data.refInFor ? Array.isArray(a[n]) ? a[n].indexOf(o) < 0 && a[n].push(o) : a[n] = [o] : a[n] = o } } var Qn = new pe("", {}, []), Zn = ["create", "activate", "update", "remove", "destroy"]; function er(e, t) { return e.key === t.key && (e.tag === t.tag && e.isComment === t.isComment && i(e.data) === i(t.data) && function (e, t) { if ("input" !== e.tag) return !0; var n, r = i(n = e.data) && i(n = n.attrs) && n.type, o = i(n = t.data) && i(n = n.attrs) && n.type; return r === o || qn(r) && qn(o) }(e, t) || o(e.isAsyncPlaceholder) && e.asyncFactory === t.asyncFactory && r(t.asyncFactory.error)) } function tr(e, t, n) { var r, o, a = {}; for (r = t; r <= n; ++r)i(o = e[r].key) && (a[o] = r); return a } var nr = { create: rr, update: rr, destroy: function (e) { rr(e, Qn) } }; function rr(e, t) { (e.data.directives || t.data.directives) && function (e, t) { var n, r, i, o = e === Qn, a = t === Qn, s = or(e.data.directives, e.context), c = or(t.data.directives, t.context), u = [], l = []; for (n in c) r = s[n], i = c[n], r ? (i.oldValue = r.value, i.oldArg = r.arg, sr(i, "update", t, e), i.def && i.def.componentUpdated && l.push(i)) : (sr(i, "bind", t, e), i.def && i.def.inserted && u.push(i)); if (u.length) { var f = function () { for (var n = 0; n < u.length; n++)sr(u[n], "inserted", t, e) }; o ? at(t, "insert", f) : f() } if (l.length && at(t, "postpatch", (function () { for (var n = 0; n < l.length; n++)sr(l[n], "componentUpdated", t, e) })), !o) for (n in s) c[n] || sr(s[n], "unbind", e, e, a) }(e, t) } var ir = Object.create(null); function or(e, t) { var n, r, i = Object.create(null); if (!e) return i; for (n = 0; n < e.length; n++)(r = e[n]).modifiers || (r.modifiers = ir), i[ar(r)] = r, r.def = Pe(t.$options, "directives", r.name); return i } function ar(e) { return e.rawName || e.name + "." + Object.keys(e.modifiers || {}).join(".") } function sr(e, t, n, r, i) { var o = e.def && e.def[t]; if (o) try { o(n.elm, e, n, r, i) } catch (r) { Be(r, n.context, "directive " + e.name + " " + t + " hook") } } var cr = [Jn, nr]; function ur(e, t) { var n = t.componentOptions; if (!(i(n) && !1 === n.Ctor.options.inheritAttrs || r(e.data.attrs) && r(t.data.attrs))) { var o, a, s = t.elm, c = e.data.attrs || {}, u = t.data.attrs || {}; for (o in i(u.__ob__) && (u = t.data.attrs = A({}, u)), u) a = u[o], c[o] !== a && lr(s, o, a); for (o in (Y || X) && u.value !== c.value && lr(s, "value", u.value), c) r(u[o]) && ($n(o) ? s.removeAttributeNS(Dn, Pn(o)) : Mn(o) || s.removeAttribute(o)) } } function lr(e, t, n) { e.tagName.indexOf("-") > -1 ? fr(e, t, n) : In(t) ? jn(n) ? e.removeAttribute(t) : (n = "allowfullscreen" === t && "EMBED" === e.tagName ? "true" : t, e.setAttribute(t, n)) : Mn(t) ? e.setAttribute(t, function (e, t) { return jn(t) || "false" === t ? "false" : "contenteditable" === e && Rn(t) ? t : "true" }(t, n)) : $n(t) ? jn(n) ? e.removeAttributeNS(Dn, Pn(t)) : e.setAttributeNS(Dn, t, n) : fr(e, t, n) } function fr(e, t, n) { if (jn(n)) e.removeAttribute(t); else { if (Y && !J && "TEXTAREA" === e.tagName && "placeholder" === t && "" !== n && !e.__ieph) { var r = function (t) { t.stopImmediatePropagation(), e.removeEventListener("input", r) }; e.addEventListener("input", r), e.__ieph = !0 } e.setAttribute(t, n) } } var dr = { create: ur, update: ur }; function hr(e, t) { var n = t.elm, o = t.data, a = e.data; if (!(r(o.staticClass) && r(o.class) && (r(a) || r(a.staticClass) && r(a.class)))) { var s = function (e) { for (var t = e.data, n = e, r = e; i(r.componentInstance);)(r = r.componentInstance._vnode) && r.data && (t = Ln(r.data, t)); for (; i(n = n.parent);)n && n.data && (t = Ln(t, n.data)); return function (e, t) { return i(e) || i(t) ? Fn(e, Kn(t)) : "" }(t.staticClass, t.class) }(t), c = n._transitionClasses; i(c) && (s = Fn(s, Kn(c))), s !== n._prevClass && (n.setAttribute("class", s), n._prevClass = s) } } var pr, vr, mr, yr, gr, _r, br = { create: hr, update: hr }, wr = /[\w).+\-_$\]]/; function xr(e) { var t, n, r, i, o, a = !1, s = !1, c = !1, u = !1, l = 0, f = 0, d = 0, h = 0; for (r = 0; r < e.length; r++)if (n = t, t = e.charCodeAt(r), a) 39 === t && 92 !== n && (a = !1); else if (s) 34 === t && 92 !== n && (s = !1); else if (c) 96 === t && 92 !== n && (c = !1); else if (u) 47 === t && 92 !== n && (u = !1); else if (124 !== t || 124 === e.charCodeAt(r + 1) || 124 === e.charCodeAt(r - 1) || l || f || d) { switch (t) { case 34: s = !0; break; case 39: a = !0; break; case 96: c = !0; break; case 40: d++; break; case 41: d--; break; case 91: f++; break; case 93: f--; break; case 123: l++; break; case 125: l-- }if (47 === t) { for (var p = r - 1, v = void 0; p >= 0 && " " === (v = e.charAt(p)); p--); v && wr.test(v) || (u = !0) } } else void 0 === i ? (h = r + 1, i = e.slice(0, r).trim()) : m(); function m() { (o || (o = [])).push(e.slice(h, r).trim()), h = r + 1 } if (void 0 === i ? i = e.slice(0, r).trim() : 0 !== h && m(), o) for (r = 0; r < o.length; r++)i = Er(i, o[r]); return i } function Er(e, t) { var n = t.indexOf("("); if (n < 0) return '_f("' + t + '")(' + e + ")"; var r = t.slice(0, n), i = t.slice(n + 1); return '_f("' + r + '")(' + e + (")" !== i ? "," + i : i) } function Cr(e, t) { console.error("[Vue compiler]: " + e) } function Sr(e, t) { return e ? e.map((function (e) { return e[t] })).filter((function (e) { return e })) : [] } function Or(e, t, n, r, i) { (e.props || (e.props = [])).push($r({ name: t, value: n, dynamic: i }, r)), e.plain = !1 } function kr(e, t, n, r, i) { (i ? e.dynamicAttrs || (e.dynamicAttrs = []) : e.attrs || (e.attrs = [])).push($r({ name: t, value: n, dynamic: i }, r)), e.plain = !1 } function Ar(e, t, n, r) { e.attrsMap[t] = n, e.attrsList.push($r({ name: t, value: n }, r)) } function Nr(e, t, n, r, i, o, a, s) { (e.directives || (e.directives = [])).push($r({ name: t, rawName: n, value: r, arg: i, isDynamicArg: o, modifiers: a }, s)), e.plain = !1 } function Tr(e, t, n) { return n ? "_p(" + t + ',"' + e + '")' : e + t } function Mr(t, n, r, i, o, a, s, c) { var u; (i = i || e).right ? c ? n = "(" + n + ")==='click'?'contextmenu':(" + n + ")" : "click" === n && (n = "contextmenu", delete i.right) : i.middle && (c ? n = "(" + n + ")==='click'?'mouseup':(" + n + ")" : "click" === n && (n = "mouseup")), i.capture && (delete i.capture, n = Tr("!", n, c)), i.once && (delete i.once, n = Tr("~", n, c)), i.passive && (delete i.passive, n = Tr("&", n, c)), i.native ? (delete i.native, u = t.nativeEvents || (t.nativeEvents = {})) : u = t.events || (t.events = {}); var l = $r({ value: r.trim(), dynamic: c }, s); i !== e && (l.modifiers = i); var f = u[n]; Array.isArray(f) ? o ? f.unshift(l) : f.push(l) : u[n] = f ? o ? [l, f] : [f, l] : l, t.plain = !1 } function Rr(e, t, n) { var r = Ir(e, ":" + t) || Ir(e, "v-bind:" + t); if (null != r) return xr(r); if (!1 !== n) { var i = Ir(e, t); if (null != i) return JSON.stringify(i) } } function Ir(e, t, n) { var r; if (null != (r = e.attrsMap[t])) for (var i = e.attrsList, o = 0, a = i.length; o < a; o++)if (i[o].name === t) { i.splice(o, 1); break } return n && delete e.attrsMap[t], r } function Dr(e, t) { for (var n = e.attrsList, r = 0, i = n.length; r < i; r++) { var o = n[r]; if (t.test(o.name)) return n.splice(r, 1), o } } function $r(e, t) { return t && (null != t.start && (e.start = t.start), null != t.end && (e.end = t.end)), e } function Pr(e, t, n) { var r = n || {}, i = r.number, o = "$$v"; r.trim && (o = "(typeof $$v === 'string'? $$v.trim(): $$v)"), i && (o = "_n(" + o + ")"); var a = jr(t, o); e.model = { value: "(" + t + ")", expression: JSON.stringify(t), callback: "function ($$v) {" + a + "}" } } function jr(e, t) { var n = function (e) { if (e = e.trim(), pr = e.length, e.indexOf("[") < 0 || e.lastIndexOf("]") < pr - 1) return (yr = e.lastIndexOf(".")) > -1 ? { exp: e.slice(0, yr), key: '"' + e.slice(yr + 1) + '"' } : { exp: e, key: null }; for (vr = e, yr = gr = _r = 0; !Fr();)Kr(mr = Lr()) ? Hr(mr) : 91 === mr && Br(mr); return { exp: e.slice(0, gr), key: e.slice(gr + 1, _r) } }(e); return null === n.key ? e + "=" + t : "$set(" + n.exp + ", " + n.key + ", " + t + ")" } function Lr() { return vr.charCodeAt(++yr) } function Fr() { return yr >= pr } function Kr(e) { return 34 === e || 39 === e } function Br(e) { var t = 1; for (gr = yr; !Fr();)if (Kr(e = Lr())) Hr(e); else if (91 === e && t++, 93 === e && t--, 0 === t) { _r = yr; break } } function Hr(e) { for (var t = e; !Fr() && (e = Lr()) !== t;); } var Ur, Vr = "__r"; function Gr(e, t, n) { var r = Ur; return function i() { null !== t.apply(null, arguments) && Wr(e, i, n, r) } } var zr = ze && !(Z && Number(Z[1]) <= 53); function qr(e, t, n, r) { if (zr) { var i = an, o = t; t = o._wrapper = function (e) { if (e.target === e.currentTarget || e.timeStamp >= i || e.timeStamp <= 0 || e.target.ownerDocument !== document) return o.apply(this, arguments) } } Ur.addEventListener(e, t, te ? { capture: n, passive: r } : n) } function Wr(e, t, n, r) { (r || Ur).removeEventListener(e, t._wrapper || t, n) } function Yr(e, t) { if (!r(e.data.on) || !r(t.data.on)) { var n = t.data.on || {}, o = e.data.on || {}; Ur = t.elm, function (e) { if (i(e.__r)) { var t = Y ? "change" : "input"; e[t] = [].concat(e.__r, e[t] || []), delete e.__r } i(e.__c) && (e.change = [].concat(e.__c, e.change || []), delete e.__c) }(n), ot(n, o, qr, Wr, Gr, t.context), Ur = void 0 } } var Jr, Xr = { create: Yr, update: Yr }; function Qr(e, t) { if (!r(e.data.domProps) || !r(t.data.domProps)) { var n, o, a = t.elm, s = e.data.domProps || {}, c = t.data.domProps || {}; for (n in i(c.__ob__) && (c = t.data.domProps = A({}, c)), s) n in c || (a[n] = ""); for (n in c) { if (o = c[n], "textContent" === n || "innerHTML" === n) { if (t.children && (t.children.length = 0), o === s[n]) continue; 1 === a.childNodes.length && a.removeChild(a.childNodes[0]) } if ("value" === n && "PROGRESS" !== a.tagName) { a._value = o; var u = r(o) ? "" : String(o); Zr(a, u) && (a.value = u) } else if ("innerHTML" === n && Un(a.tagName) && r(a.innerHTML)) { (Jr = Jr || document.createElement("div")).innerHTML = "<svg>" + o + "</svg>"; for (var l = Jr.firstChild; a.firstChild;)a.removeChild(a.firstChild); for (; l.firstChild;)a.appendChild(l.firstChild) } else if (o !== s[n]) try { a[n] = o } catch (e) { } } } } function Zr(e, t) { return !e.composing && ("OPTION" === e.tagName || function (e, t) { var n = !0; try { n = document.activeElement !== e } catch (e) { } return n && e.value !== t }(e, t) || function (e, t) { var n = e.value, r = e._vModifiers; if (i(r)) { if (r.number) return h(n) !== h(t); if (r.trim) return n.trim() !== t.trim() } return n !== t }(e, t)) } var ei = { create: Qr, update: Qr }, ti = b((function (e) { var t = {}, n = /:(.+)/; return e.split(/;(?![^(]*\))/g).forEach((function (e) { if (e) { var r = e.split(n); r.length > 1 && (t[r[0].trim()] = r[1].trim()) } })), t })); function ni(e) { var t = ri(e.style); return e.staticStyle ? A(e.staticStyle, t) : t } function ri(e) { return Array.isArray(e) ? N(e) : "string" == typeof e ? ti(e) : e } var ii, oi = /^--/, ai = /\s*!important$/, si = function (e, t, n) { if (oi.test(t)) e.style.setProperty(t, n); else if (ai.test(n)) e.style.setProperty(S(t), n.replace(ai, ""), "important"); else { var r = ui(t); if (Array.isArray(n)) for (var i = 0, o = n.length; i < o; i++)e.style[r] = n[i]; else e.style[r] = n } }, ci = ["Webkit", "Moz", "ms"], ui = b((function (e) { if (ii = ii || document.createElement("div").style, "filter" !== (e = x(e)) && e in ii) return e; for (var t = e.charAt(0).toUpperCase() + e.slice(1), n = 0; n < ci.length; n++) { var r = ci[n] + t; if (r in ii) return r } })); function li(e, t) { var n = t.data, o = e.data; if (!(r(n.staticStyle) && r(n.style) && r(o.staticStyle) && r(o.style))) { var a, s, c = t.elm, u = o.staticStyle, l = o.normalizedStyle || o.style || {}, f = u || l, d = ri(t.data.style) || {}; t.data.normalizedStyle = i(d.__ob__) ? A({}, d) : d; var h = function (e, t) { for (var n, r = {}, i = e; i.componentInstance;)(i = i.componentInstance._vnode) && i.data && (n = ni(i.data)) && A(r, n); (n = ni(e.data)) && A(r, n); for (var o = e; o = o.parent;)o.data && (n = ni(o.data)) && A(r, n); return r }(t); for (s in f) r(h[s]) && si(c, s, ""); for (s in h) (a = h[s]) !== f[s] && si(c, s, null == a ? "" : a) } } var fi = { create: li, update: li }, di = /\s+/; function hi(e, t) { if (t && (t = t.trim())) if (e.classList) t.indexOf(" ") > -1 ? t.split(di).forEach((function (t) { return e.classList.add(t) })) : e.classList.add(t); else { var n = " " + (e.getAttribute("class") || "") + " "; n.indexOf(" " + t + " ") < 0 && e.setAttribute("class", (n + t).trim()) } } function pi(e, t) { if (t && (t = t.trim())) if (e.classList) t.indexOf(" ") > -1 ? t.split(di).forEach((function (t) { return e.classList.remove(t) })) : e.classList.remove(t), e.classList.length || e.removeAttribute("class"); else { for (var n = " " + (e.getAttribute("class") || "") + " ", r = " " + t + " "; n.indexOf(r) >= 0;)n = n.replace(r, " "); (n = n.trim()) ? e.setAttribute("class", n) : e.removeAttribute("class") } } function vi(e) { if (e) { if ("object" == typeof e) { var t = {}; return !1 !== e.css && A(t, mi(e.name || "v")), A(t, e), t } return "string" == typeof e ? mi(e) : void 0 } } var mi = b((function (e) { return { enterClass: e + "-enter", enterToClass: e + "-enter-to", enterActiveClass: e + "-enter-active", leaveClass: e + "-leave", leaveToClass: e + "-leave-to", leaveActiveClass: e + "-leave-active" } })), yi = G && !J, gi = "transition", _i = "animation", bi = "transition", wi = "transitionend", xi = "animation", Ei = "animationend"; yi && (void 0 === window.ontransitionend && void 0 !== window.onwebkittransitionend && (bi = "WebkitTransition", wi = "webkitTransitionEnd"), void 0 === window.onanimationend && void 0 !== window.onwebkitanimationend && (xi = "WebkitAnimation", Ei = "webkitAnimationEnd")); var Ci = G ? window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : setTimeout : function (e) { return e() }; function Si(e) { Ci((function () { Ci(e) })) } function Oi(e, t) { var n = e._transitionClasses || (e._transitionClasses = []); n.indexOf(t) < 0 && (n.push(t), hi(e, t)) } function ki(e, t) { e._transitionClasses && y(e._transitionClasses, t), pi(e, t) } function Ai(e, t, n) { var r = Ti(e, t), i = r.type, o = r.timeout, a = r.propCount; if (!i) return n(); var s = i === gi ? wi : Ei, c = 0, u = function () { e.removeEventListener(s, l), n() }, l = function (t) { t.target === e && ++c >= a && u() }; setTimeout((function () { c < a && u() }), o + 1), e.addEventListener(s, l) } var Ni = /\b(transform|all)(,|$)/; function Ti(e, t) { var n, r = window.getComputedStyle(e), i = (r[bi + "Delay"] || "").split(", "), o = (r[bi + "Duration"] || "").split(", "), a = Mi(i, o), s = (r[xi + "Delay"] || "").split(", "), c = (r[xi + "Duration"] || "").split(", "), u = Mi(s, c), l = 0, f = 0; return t === gi ? a > 0 && (n = gi, l = a, f = o.length) : t === _i ? u > 0 && (n = _i, l = u, f = c.length) : f = (n = (l = Math.max(a, u)) > 0 ? a > u ? gi : _i : null) ? n === gi ? o.length : c.length : 0, { type: n, timeout: l, propCount: f, hasTransform: n === gi && Ni.test(r[bi + "Property"]) } } function Mi(e, t) { for (; e.length < t.length;)e = e.concat(e); return Math.max.apply(null, t.map((function (t, n) { return Ri(t) + Ri(e[n]) }))) } function Ri(e) { return 1e3 * Number(e.slice(0, -1).replace(",", ".")) } function Ii(e, t) { var n = e.elm; i(n._leaveCb) && (n._leaveCb.cancelled = !0, n._leaveCb()); var o = vi(e.data.transition); if (!r(o) && !i(n._enterCb) && 1 === n.nodeType) { for (var a = o.css, c = o.type, u = o.enterClass, l = o.enterToClass, f = o.enterActiveClass, d = o.appearClass, p = o.appearToClass, v = o.appearActiveClass, m = o.beforeEnter, y = o.enter, g = o.afterEnter, _ = o.enterCancelled, b = o.beforeAppear, w = o.appear, x = o.afterAppear, E = o.appearCancelled, C = o.duration, S = Wt, O = Wt.$vnode; O && O.parent;)S = O.context, O = O.parent; var k = !S._isMounted || !e.isRootInsert; if (!k || w || "" === w) { var A = k && d ? d : u, N = k && v ? v : f, T = k && p ? p : l, M = k && b || m, R = k && "function" == typeof w ? w : y, I = k && x || g, D = k && E || _, P = h(s(C) ? C.enter : C), j = !1 !== a && !J, L = Pi(R), F = n._enterCb = $((function () { j && (ki(n, T), ki(n, N)), F.cancelled ? (j && ki(n, A), D && D(n)) : I && I(n), n._enterCb = null })); e.data.show || at(e, "insert", (function () { var t = n.parentNode, r = t && t._pending && t._pending[e.key]; r && r.tag === e.tag && r.elm._leaveCb && r.elm._leaveCb(), R && R(n, F) })), M && M(n), j && (Oi(n, A), Oi(n, N), Si((function () { ki(n, A), F.cancelled || (Oi(n, T), L || ($i(P) ? setTimeout(F, P) : Ai(n, c, F))) }))), e.data.show && (t && t(), R && R(n, F)), j || L || F() } } } function Di(e, t) { var n = e.elm; i(n._enterCb) && (n._enterCb.cancelled = !0, n._enterCb()); var o = vi(e.data.transition); if (r(o) || 1 !== n.nodeType) return t(); if (!i(n._leaveCb)) { var a = o.css, c = o.type, u = o.leaveClass, l = o.leaveToClass, f = o.leaveActiveClass, d = o.beforeLeave, p = o.leave, v = o.afterLeave, m = o.leaveCancelled, y = o.delayLeave, g = o.duration, _ = !1 !== a && !J, b = Pi(p), w = h(s(g) ? g.leave : g), x = n._leaveCb = $((function () { n.parentNode && n.parentNode._pending && (n.parentNode._pending[e.key] = null), _ && (ki(n, l), ki(n, f)), x.cancelled ? (_ && ki(n, u), m && m(n)) : (t(), v && v(n)), n._leaveCb = null })); y ? y(E) : E() } function E() { x.cancelled || (!e.data.show && n.parentNode && ((n.parentNode._pending || (n.parentNode._pending = {}))[e.key] = e), d && d(n), _ && (Oi(n, u), Oi(n, f), Si((function () { ki(n, u), x.cancelled || (Oi(n, l), b || ($i(w) ? setTimeout(x, w) : Ai(n, c, x))) }))), p && p(n, x), _ || b || x()) } } function $i(e) { return "number" == typeof e && !isNaN(e) } function Pi(e) { if (r(e)) return !1; var t = e.fns; return i(t) ? Pi(Array.isArray(t) ? t[0] : t) : (e._length || e.length) > 1 } function ji(e, t) { !0 !== t.data.show && Ii(t) } var Li = function (e) { var t, n, s = {}, c = e.modules, u = e.nodeOps; for (t = 0; t < Zn.length; ++t)for (s[Zn[t]] = [], n = 0; n < c.length; ++n)i(c[n][Zn[t]]) && s[Zn[t]].push(c[n][Zn[t]]); function l(e) { var t = u.parentNode(e); i(t) && u.removeChild(t, e) } function f(e, t, n, r, a, c, l) { if (i(e.elm) && i(c) && (e = c[l] = ge(e)), e.isRootInsert = !a, !function (e, t, n, r) { var a = e.data; if (i(a)) { var c = i(e.componentInstance) && a.keepAlive; if (i(a = a.hook) && i(a = a.init) && a(e, !1), i(e.componentInstance)) return d(e, t), h(n, e.elm, r), o(c) && function (e, t, n, r) { for (var o, a = e; a.componentInstance;)if (i(o = (a = a.componentInstance._vnode).data) && i(o = o.transition)) { for (o = 0; o < s.activate.length; ++o)s.activate[o](Qn, a); t.push(a); break } h(n, e.elm, r) }(e, t, n, r), !0 } }(e, t, n, r)) { var f = e.data, p = e.children, m = e.tag; i(m) ? (e.elm = e.ns ? u.createElementNS(e.ns, m) : u.createElement(m, e), g(e), v(e, p, t), i(f) && y(e, t), h(n, e.elm, r)) : o(e.isComment) ? (e.elm = u.createComment(e.text), h(n, e.elm, r)) : (e.elm = u.createTextNode(e.text), h(n, e.elm, r)) } } function d(e, t) { i(e.data.pendingInsert) && (t.push.apply(t, e.data.pendingInsert), e.data.pendingInsert = null), e.elm = e.componentInstance.$el, m(e) ? (y(e, t), g(e)) : (Xn(e), t.push(e)) } function h(e, t, n) { i(e) && (i(n) ? u.parentNode(n) === e && u.insertBefore(e, t, n) : u.appendChild(e, t)) } function v(e, t, n) { if (Array.isArray(t)) for (var r = 0; r < t.length; ++r)f(t[r], n, e.elm, null, !0, t, r); else a(e.text) && u.appendChild(e.elm, u.createTextNode(String(e.text))) } function m(e) { for (; e.componentInstance;)e = e.componentInstance._vnode; return i(e.tag) } function y(e, n) { for (var r = 0; r < s.create.length; ++r)s.create[r](Qn, e); i(t = e.data.hook) && (i(t.create) && t.create(Qn, e), i(t.insert) && n.push(e)) } function g(e) { var t; if (i(t = e.fnScopeId)) u.setStyleScope(e.elm, t); else for (var n = e; n;)i(t = n.context) && i(t = t.$options._scopeId) && u.setStyleScope(e.elm, t), n = n.parent; i(t = Wt) && t !== e.context && t !== e.fnContext && i(t = t.$options._scopeId) && u.setStyleScope(e.elm, t) } function _(e, t, n, r, i, o) { for (; r <= i; ++r)f(n[r], o, e, t, !1, n, r) } function b(e) { var t, n, r = e.data; if (i(r)) for (i(t = r.hook) && i(t = t.destroy) && t(e), t = 0; t < s.destroy.length; ++t)s.destroy[t](e); if (i(t = e.children)) for (n = 0; n < e.children.length; ++n)b(e.children[n]) } function w(e, t, n) { for (; t <= n; ++t) { var r = e[t]; i(r) && (i(r.tag) ? (x(r), b(r)) : l(r.elm)) } } function x(e, t) { if (i(t) || i(e.data)) { var n, r = s.remove.length + 1; for (i(t) ? t.listeners += r : t = function (e, t) { function n() { 0 == --n.listeners && l(e) } return n.listeners = t, n }(e.elm, r), i(n = e.componentInstance) && i(n = n._vnode) && i(n.data) && x(n, t), n = 0; n < s.remove.length; ++n)s.remove[n](e, t); i(n = e.data.hook) && i(n = n.remove) ? n(e, t) : t() } else l(e.elm) } function E(e, t, n, r) { for (var o = n; o < r; o++) { var a = t[o]; if (i(a) && er(e, a)) return o } } function C(e, t, n, a, c, l) { if (e !== t) { i(t.elm) && i(a) && (t = a[c] = ge(t)); var d = t.elm = e.elm; if (o(e.isAsyncPlaceholder)) i(t.asyncFactory.resolved) ? k(e.elm, t, n) : t.isAsyncPlaceholder = !0; else if (o(t.isStatic) && o(e.isStatic) && t.key === e.key && (o(t.isCloned) || o(t.isOnce))) t.componentInstance = e.componentInstance; else { var h, p = t.data; i(p) && i(h = p.hook) && i(h = h.prepatch) && h(e, t); var v = e.children, y = t.children; if (i(p) && m(t)) { for (h = 0; h < s.update.length; ++h)s.update[h](e, t); i(h = p.hook) && i(h = h.update) && h(e, t) } r(t.text) ? i(v) && i(y) ? v !== y && function (e, t, n, o, a) { for (var s, c, l, d = 0, h = 0, p = t.length - 1, v = t[0], m = t[p], y = n.length - 1, g = n[0], b = n[y], x = !a; d <= p && h <= y;)r(v) ? v = t[++d] : r(m) ? m = t[--p] : er(v, g) ? (C(v, g, o, n, h), v = t[++d], g = n[++h]) : er(m, b) ? (C(m, b, o, n, y), m = t[--p], b = n[--y]) : er(v, b) ? (C(v, b, o, n, y), x && u.insertBefore(e, v.elm, u.nextSibling(m.elm)), v = t[++d], b = n[--y]) : er(m, g) ? (C(m, g, o, n, h), x && u.insertBefore(e, m.elm, v.elm), m = t[--p], g = n[++h]) : (r(s) && (s = tr(t, d, p)), r(c = i(g.key) ? s[g.key] : E(g, t, d, p)) ? f(g, o, e, v.elm, !1, n, h) : er(l = t[c], g) ? (C(l, g, o, n, h), t[c] = void 0, x && u.insertBefore(e, l.elm, v.elm)) : f(g, o, e, v.elm, !1, n, h), g = n[++h]); d > p ? _(e, r(n[y + 1]) ? null : n[y + 1].elm, n, h, y, o) : h > y && w(t, d, p) }(d, v, y, n, l) : i(y) ? (i(e.text) && u.setTextContent(d, ""), _(d, null, y, 0, y.length - 1, n)) : i(v) ? w(v, 0, v.length - 1) : i(e.text) && u.setTextContent(d, "") : e.text !== t.text && u.setTextContent(d, t.text), i(p) && i(h = p.hook) && i(h = h.postpatch) && h(e, t) } } } function S(e, t, n) { if (o(n) && i(e.parent)) e.parent.data.pendingInsert = t; else for (var r = 0; r < t.length; ++r)t[r].data.hook.insert(t[r]) } var O = p("attrs,class,staticClass,staticStyle,key"); function k(e, t, n, r) { var a, s = t.tag, c = t.data, u = t.children; if (r = r || c && c.pre, t.elm = e, o(t.isComment) && i(t.asyncFactory)) return t.isAsyncPlaceholder = !0, !0; if (i(c) && (i(a = c.hook) && i(a = a.init) && a(t, !0), i(a = t.componentInstance))) return d(t, n), !0; if (i(s)) { if (i(u)) if (e.hasChildNodes()) if (i(a = c) && i(a = a.domProps) && i(a = a.innerHTML)) { if (a !== e.innerHTML) return !1 } else { for (var l = !0, f = e.firstChild, h = 0; h < u.length; h++) { if (!f || !k(f, u[h], n, r)) { l = !1; break } f = f.nextSibling } if (!l || f) return !1 } else v(t, u, n); if (i(c)) { var p = !1; for (var m in c) if (!O(m)) { p = !0, y(t, n); break } !p && c.class && nt(c.class) } } else e.data !== t.text && (e.data = t.text); return !0 } return function (e, t, n, a) { if (!r(t)) { var c, l = !1, d = []; if (r(e)) l = !0, f(t, d); else { var h = i(e.nodeType); if (!h && er(e, t)) C(e, t, d, null, null, a); else { if (h) { if (1 === e.nodeType && e.hasAttribute(P) && (e.removeAttribute(P), n = !0), o(n) && k(e, t, d)) return S(t, d, !0), e; c = e, e = new pe(u.tagName(c).toLowerCase(), {}, [], void 0, c) } var p = e.elm, v = u.parentNode(p); if (f(t, d, p._leaveCb ? null : v, u.nextSibling(p)), i(t.parent)) for (var y = t.parent, g = m(t); y;) { for (var _ = 0; _ < s.destroy.length; ++_)s.destroy[_](y); if (y.elm = t.elm, g) { for (var x = 0; x < s.create.length; ++x)s.create[x](Qn, y); var E = y.data.hook.insert; if (E.merged) for (var O = 1; O < E.fns.length; O++)E.fns[O]() } else Xn(y); y = y.parent } i(v) ? w([e], 0, 0) : i(e.tag) && b(e) } } return S(t, d, l), t.elm } i(e) && b(e) } }({ nodeOps: Yn, modules: [dr, br, Xr, ei, fi, G ? { create: ji, activate: ji, remove: function (e, t) { !0 !== e.data.show ? Di(e, t) : t() } } : {}].concat(cr) }); J && document.addEventListener("selectionchange", (function () { var e = document.activeElement; e && e.vmodel && zi(e, "input") })); var Fi = { inserted: function (e, t, n, r) { "select" === n.tag ? (r.elm && !r.elm._vOptions ? at(n, "postpatch", (function () { Fi.componentUpdated(e, t, n) })) : Ki(e, t, n.context), e._vOptions = [].map.call(e.options, Ui)) : ("textarea" === n.tag || qn(e.type)) && (e._vModifiers = t.modifiers, t.modifiers.lazy || (e.addEventListener("compositionstart", Vi), e.addEventListener("compositionend", Gi), e.addEventListener("change", Gi), J && (e.vmodel = !0))) }, componentUpdated: function (e, t, n) { if ("select" === n.tag) { Ki(e, t, n.context); var r = e._vOptions, i = e._vOptions = [].map.call(e.options, Ui); i.some((function (e, t) { return !I(e, r[t]) })) && (e.multiple ? t.value.some((function (e) { return Hi(e, i) })) : t.value !== t.oldValue && Hi(t.value, i)) && zi(e, "change") } } }; function Ki(e, t, n) { Bi(e, t), (Y || X) && setTimeout((function () { Bi(e, t) }), 0) } function Bi(e, t, n) { var r = t.value, i = e.multiple; if (!i || Array.isArray(r)) { for (var o, a, s = 0, c = e.options.length; s < c; s++)if (a = e.options[s], i) o = D(r, Ui(a)) > -1, a.selected !== o && (a.selected = o); else if (I(Ui(a), r)) return void (e.selectedIndex !== s && (e.selectedIndex = s)); i || (e.selectedIndex = -1) } } function Hi(e, t) { return t.every((function (t) { return !I(t, e) })) } function Ui(e) { return "_value" in e ? e._value : e.value } function Vi(e) { e.target.composing = !0 } function Gi(e) { e.target.composing && (e.target.composing = !1, zi(e.target, "input")) } function zi(e, t) { var n = document.createEvent("HTMLEvents"); n.initEvent(t, !0, !0), e.dispatchEvent(n) } function qi(e) { return !e.componentInstance || e.data && e.data.transition ? e : qi(e.componentInstance._vnode) } var Wi = { model: Fi, show: { bind: function (e, t, n) { var r = t.value, i = (n = qi(n)).data && n.data.transition, o = e.__vOriginalDisplay = "none" === e.style.display ? "" : e.style.display; r && i ? (n.data.show = !0, Ii(n, (function () { e.style.display = o }))) : e.style.display = r ? o : "none" }, update: function (e, t, n) { var r = t.value; !r != !t.oldValue && ((n = qi(n)).data && n.data.transition ? (n.data.show = !0, r ? Ii(n, (function () { e.style.display = e.__vOriginalDisplay })) : Di(n, (function () { e.style.display = "none" }))) : e.style.display = r ? e.__vOriginalDisplay : "none") }, unbind: function (e, t, n, r, i) { i || (e.style.display = e.__vOriginalDisplay) } } }, Yi = { name: String, appear: Boolean, css: Boolean, mode: String, type: String, enterClass: String, leaveClass: String, enterToClass: String, leaveToClass: String, enterActiveClass: String, leaveActiveClass: String, appearClass: String, appearActiveClass: String, appearToClass: String, duration: [Number, String, Object] }; function Ji(e) { var t = e && e.componentOptions; return t && t.Ctor.options.abstract ? Ji(Ut(t.children)) : e } function Xi(e) { var t = {}, n = e.$options; for (var r in n.propsData) t[r] = e[r]; var i = n._parentListeners; for (var o in i) t[x(o)] = i[o]; return t } function Qi(e, t) { if (/\d-keep-alive$/.test(t.tag)) return e("keep-alive", { props: t.componentOptions.propsData }) } var Zi = function (e) { return e.tag || Ht(e) }, eo = function (e) { return "show" === e.name }, to = { name: "transition", props: Yi, abstract: !0, render: function (e) { var t = this, n = this.$slots.default; if (n && (n = n.filter(Zi)).length) { var r = this.mode, i = n[0]; if (function (e) { for (; e = e.parent;)if (e.data.transition) return !0 }(this.$vnode)) return i; var o = Ji(i); if (!o) return i; if (this._leaving) return Qi(e, i); var s = "__transition-" + this._uid + "-"; o.key = null == o.key ? o.isComment ? s + "comment" : s + o.tag : a(o.key) ? 0 === String(o.key).indexOf(s) ? o.key : s + o.key : o.key; var c = (o.data || (o.data = {})).transition = Xi(this), u = this._vnode, l = Ji(u); if (o.data.directives && o.data.directives.some(eo) && (o.data.show = !0), l && l.data && !function (e, t) { return t.key === e.key && t.tag === e.tag }(o, l) && !Ht(l) && (!l.componentInstance || !l.componentInstance._vnode.isComment)) { var f = l.data.transition = A({}, c); if ("out-in" === r) return this._leaving = !0, at(f, "afterLeave", (function () { t._leaving = !1, t.$forceUpdate() })), Qi(e, i); if ("in-out" === r) { if (Ht(o)) return u; var d, h = function () { d() }; at(c, "afterEnter", h), at(c, "enterCancelled", h), at(f, "delayLeave", (function (e) { d = e })) } } return i } } }, no = A({ tag: String, moveClass: String }, Yi); function ro(e) { e.elm._moveCb && e.elm._moveCb(), e.elm._enterCb && e.elm._enterCb() } function io(e) { e.data.newPos = e.elm.getBoundingClientRect() } function oo(e) { var t = e.data.pos, n = e.data.newPos, r = t.left - n.left, i = t.top - n.top; if (r || i) { e.data.moved = !0; var o = e.elm.style; o.transform = o.WebkitTransform = "translate(" + r + "px," + i + "px)", o.transitionDuration = "0s" } } delete no.mode; var ao = { Transition: to, TransitionGroup: { props: no, beforeMount: function () { var e = this, t = this._update; this._update = function (n, r) { var i = Yt(e); e.__patch__(e._vnode, e.kept, !1, !0), e._vnode = e.kept, i(), t.call(e, n, r) } }, render: function (e) { for (var t = this.tag || this.$vnode.data.tag || "span", n = Object.create(null), r = this.prevChildren = this.children, i = this.$slots.default || [], o = this.children = [], a = Xi(this), s = 0; s < i.length; s++) { var c = i[s]; c.tag && null != c.key && 0 !== String(c.key).indexOf("__vlist") && (o.push(c), n[c.key] = c, (c.data || (c.data = {})).transition = a) } if (r) { for (var u = [], l = [], f = 0; f < r.length; f++) { var d = r[f]; d.data.transition = a, d.data.pos = d.elm.getBoundingClientRect(), n[d.key] ? u.push(d) : l.push(d) } this.kept = e(t, null, u), this.removed = l } return e(t, null, o) }, updated: function () { var e = this.prevChildren, t = this.moveClass || (this.name || "v") + "-move"; e.length && this.hasMove(e[0].elm, t) && (e.forEach(ro), e.forEach(io), e.forEach(oo), this._reflow = document.body.offsetHeight, e.forEach((function (e) { if (e.data.moved) { var n = e.elm, r = n.style; Oi(n, t), r.transform = r.WebkitTransform = r.transitionDuration = "", n.addEventListener(wi, n._moveCb = function e(r) { r && r.target !== n || r && !/transform$/.test(r.propertyName) || (n.removeEventListener(wi, e), n._moveCb = null, ki(n, t)) }) } }))) }, methods: { hasMove: function (e, t) { if (!yi) return !1; if (this._hasMove) return this._hasMove; var n = e.cloneNode(); e._transitionClasses && e._transitionClasses.forEach((function (e) { pi(n, e) })), hi(n, t), n.style.display = "none", this.$el.appendChild(n); var r = Ti(n); return this.$el.removeChild(n), this._hasMove = r.hasTransform } } } }; wn.config.mustUseProp = Tn, wn.config.isReservedTag = Vn, wn.config.isReservedAttr = An, wn.config.getTagNamespace = Gn, wn.config.isUnknownElement = function (e) { if (!G) return !0; if (Vn(e)) return !1; if (e = e.toLowerCase(), null != zn[e]) return zn[e]; var t = document.createElement(e); return e.indexOf("-") > -1 ? zn[e] = t.constructor === window.HTMLUnknownElement || t.constructor === window.HTMLElement : zn[e] = /HTMLUnknownElement/.test(t.toString()) }, A(wn.options.directives, Wi), A(wn.options.components, ao), wn.prototype.__patch__ = G ? Li : T, wn.prototype.$mount = function (e, t) { return function (e, t, n) { var r; return e.$el = t, e.$options.render || (e.$options.render = me), Qt(e, "beforeMount"), r = function () { e._update(e._render(), n) }, new fn(e, r, T, { before: function () { e._isMounted && !e._isDestroyed && Qt(e, "beforeUpdate") } }, !0), n = !1, null == e.$vnode && (e._isMounted = !0, Qt(e, "mounted")), e }(this, e = e && G ? Wn(e) : void 0, t) }, G && setTimeout((function () { F.devtools && ie && ie.emit("init", wn) }), 0); var so, co = /\{\{((?:.|\r?\n)+?)\}\}/g, uo = /[-.*+?^${}()|[\]\/\\]/g, lo = b((function (e) { var t = e[0].replace(uo, "\\$&"), n = e[1].replace(uo, "\\$&"); return new RegExp(t + "((?:.|\\n)+?)" + n, "g") })), fo = { staticKeys: ["staticClass"], transformNode: function (e, t) { t.warn; var n = Ir(e, "class"); n && (e.staticClass = JSON.stringify(n)); var r = Rr(e, "class", !1); r && (e.classBinding = r) }, genData: function (e) { var t = ""; return e.staticClass && (t += "staticClass:" + e.staticClass + ","), e.classBinding && (t += "class:" + e.classBinding + ","), t } }, ho = { staticKeys: ["staticStyle"], transformNode: function (e, t) { t.warn; var n = Ir(e, "style"); n && (e.staticStyle = JSON.stringify(ti(n))); var r = Rr(e, "style", !1); r && (e.styleBinding = r) }, genData: function (e) { var t = ""; return e.staticStyle && (t += "staticStyle:" + e.staticStyle + ","), e.styleBinding && (t += "style:(" + e.styleBinding + "),"), t } }, po = p("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"), vo = p("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"), mo = p("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"), yo = /^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/, go = /^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/, _o = "[a-zA-Z_][\\-\\.0-9_a-zA-Z" + K.source + "]*", bo = "((?:" + _o + "\\:)?" + _o + ")", wo = new RegExp("^<" + bo), xo = /^\s*(\/?)>/, Eo = new RegExp("^<\\/" + bo + "[^>]*>"), Co = /^<!DOCTYPE [^>]+>/i, So = /^<!\--/, Oo = /^<!\[/, ko = p("script,style,textarea", !0), Ao = {}, No = { "&lt;": "<", "&gt;": ">", "&quot;": '"', "&amp;": "&", "&#10;": "\n", "&#9;": "\t", "&#39;": "'" }, To = /&(?:lt|gt|quot|amp|#39);/g, Mo = /&(?:lt|gt|quot|amp|#39|#10|#9);/g, Ro = p("pre,textarea", !0), Io = function (e, t) { return e && Ro(e) && "\n" === t[0] }; function Do(e, t) { var n = t ? Mo : To; return e.replace(n, (function (e) { return No[e] })) } var $o, Po, jo, Lo, Fo, Ko, Bo, Ho, Uo = /^@|^v-on:/, Vo = /^v-|^@|^:|^#/, Go = /([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/, zo = /,([^,\}\]]*)(?:,([^,\}\]]*))?$/, qo = /^\(|\)$/g, Wo = /^\[.*\]$/, Yo = /:(.*)$/, Jo = /^:|^\.|^v-bind:/, Xo = /\.[^.\]]+(?=[^\]]*$)/g, Qo = /^v-slot(:|$)|^#/, Zo = /[\r\n]/, ea = /\s+/g, ta = b((function (e) { return (so = so || document.createElement("div")).innerHTML = e, so.textContent })), na = "_empty_"; function ra(e, t, n) { return { type: 1, tag: e, attrsList: t, attrsMap: ua(t), rawAttrsMap: {}, parent: n, children: [] } } function ia(e, t) { var n, r; (r = Rr(n = e, "key")) && (n.key = r), e.plain = !e.key && !e.scopedSlots && !e.attrsList.length, function (e) { var t = Rr(e, "ref"); t && (e.ref = t, e.refInFor = function (e) { for (var t = e; t;) { if (void 0 !== t.for) return !0; t = t.parent } return !1 }(e)) }(e), function (e) { var t; "template" === e.tag ? (t = Ir(e, "scope"), e.slotScope = t || Ir(e, "slot-scope")) : (t = Ir(e, "slot-scope")) && (e.slotScope = t); var n = Rr(e, "slot"); if (n && (e.slotTarget = '""' === n ? '"default"' : n, e.slotTargetDynamic = !(!e.attrsMap[":slot"] && !e.attrsMap["v-bind:slot"]), "template" === e.tag || e.slotScope || kr(e, "slot", n, function (e, t) { return e.rawAttrsMap[":" + t] || e.rawAttrsMap["v-bind:" + t] || e.rawAttrsMap[t] }(e, "slot"))), "template" === e.tag) { var r = Dr(e, Qo); if (r) { var i = sa(r), o = i.name, a = i.dynamic; e.slotTarget = o, e.slotTargetDynamic = a, e.slotScope = r.value || na } } else { var s = Dr(e, Qo); if (s) { var c = e.scopedSlots || (e.scopedSlots = {}), u = sa(s), l = u.name, f = u.dynamic, d = c[l] = ra("template", [], e); d.slotTarget = l, d.slotTargetDynamic = f, d.children = e.children.filter((function (e) { if (!e.slotScope) return e.parent = d, !0 })), d.slotScope = s.value || na, e.children = [], e.plain = !1 } } }(e), function (e) { "slot" === e.tag && (e.slotName = Rr(e, "name")) }(e), function (e) { var t; (t = Rr(e, "is")) && (e.component = t), null != Ir(e, "inline-template") && (e.inlineTemplate = !0) }(e); for (var i = 0; i < jo.length; i++)e = jo[i](e, t) || e; return function (e) { var t, n, r, i, o, a, s, c, u = e.attrsList; for (t = 0, n = u.length; t < n; t++)if (r = i = u[t].name, o = u[t].value, Vo.test(r)) if (e.hasBindings = !0, (a = ca(r.replace(Vo, ""))) && (r = r.replace(Xo, "")), Jo.test(r)) r = r.replace(Jo, ""), o = xr(o), (c = Wo.test(r)) && (r = r.slice(1, -1)), a && (a.prop && !c && "innerHtml" === (r = x(r)) && (r = "innerHTML"), a.camel && !c && (r = x(r)), a.sync && (s = jr(o, "$event"), c ? Mr(e, '"update:"+(' + r + ")", s, null, !1, 0, u[t], !0) : (Mr(e, "update:" + x(r), s, null, !1, 0, u[t]), S(r) !== x(r) && Mr(e, "update:" + S(r), s, null, !1, 0, u[t])))), a && a.prop || !e.component && Bo(e.tag, e.attrsMap.type, r) ? Or(e, r, o, u[t], c) : kr(e, r, o, u[t], c); else if (Uo.test(r)) r = r.replace(Uo, ""), (c = Wo.test(r)) && (r = r.slice(1, -1)), Mr(e, r, o, a, !1, 0, u[t], c); else { var l = (r = r.replace(Vo, "")).match(Yo), f = l && l[1]; c = !1, f && (r = r.slice(0, -(f.length + 1)), Wo.test(f) && (f = f.slice(1, -1), c = !0)), Nr(e, r, i, o, f, c, a, u[t]) } else kr(e, r, JSON.stringify(o), u[t]), !e.component && "muted" === r && Bo(e.tag, e.attrsMap.type, r) && Or(e, r, "true", u[t]) }(e), e } function oa(e) { var t; if (t = Ir(e, "v-for")) { var n = function (e) { var t = e.match(Go); if (t) { var n = {}; n.for = t[2].trim(); var r = t[1].trim().replace(qo, ""), i = r.match(zo); return i ? (n.alias = r.replace(zo, "").trim(), n.iterator1 = i[1].trim(), i[2] && (n.iterator2 = i[2].trim())) : n.alias = r, n } }(t); n && A(e, n) } } function aa(e, t) { e.ifConditions || (e.ifConditions = []), e.ifConditions.push(t) } function sa(e) { var t = e.name.replace(Qo, ""); return t || "#" !== e.name[0] && (t = "default"), Wo.test(t) ? { name: t.slice(1, -1), dynamic: !0 } : { name: '"' + t + '"', dynamic: !1 } } function ca(e) { var t = e.match(Xo); if (t) { var n = {}; return t.forEach((function (e) { n[e.slice(1)] = !0 })), n } } function ua(e) { for (var t = {}, n = 0, r = e.length; n < r; n++)t[e[n].name] = e[n].value; return t } var la = /^xmlns:NS\d+/, fa = /^NS\d+:/; function da(e) { return ra(e.tag, e.attrsList.slice(), e.parent) } var ha, pa, va = [fo, ho, { preTransformNode: function (e, t) { if ("input" === e.tag) { var n, r = e.attrsMap; if (!r["v-model"]) return; if ((r[":type"] || r["v-bind:type"]) && (n = Rr(e, "type")), r.type || n || !r["v-bind"] || (n = "(" + r["v-bind"] + ").type"), n) { var i = Ir(e, "v-if", !0), o = i ? "&&(" + i + ")" : "", a = null != Ir(e, "v-else", !0), s = Ir(e, "v-else-if", !0), c = da(e); oa(c), Ar(c, "type", "checkbox"), ia(c, t), c.processed = !0, c.if = "(" + n + ")==='checkbox'" + o, aa(c, { exp: c.if, block: c }); var u = da(e); Ir(u, "v-for", !0), Ar(u, "type", "radio"), ia(u, t), aa(c, { exp: "(" + n + ")==='radio'" + o, block: u }); var l = da(e); return Ir(l, "v-for", !0), Ar(l, ":type", n), ia(l, t), aa(c, { exp: i, block: l }), a ? c.else = !0 : s && (c.elseif = s), c } } } }], ma = { expectHTML: !0, modules: va, directives: { model: function (e, t, n) { var r = t.value, i = t.modifiers, o = e.tag, a = e.attrsMap.type; if (e.component) return Pr(e, r, i), !1; if ("select" === o) !function (e, t, n) { var r = 'var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return ' + (n && n.number ? "_n(val)" : "val") + "});"; Mr(e, "change", r = r + " " + jr(t, "$event.target.multiple ? $$selectedVal : $$selectedVal[0]"), null, !0) }(e, r, i); else if ("input" === o && "checkbox" === a) !function (e, t, n) { var r = n && n.number, i = Rr(e, "value") || "null", o = Rr(e, "true-value") || "true", a = Rr(e, "false-value") || "false"; Or(e, "checked", "Array.isArray(" + t + ")?_i(" + t + "," + i + ")>-1" + ("true" === o ? ":(" + t + ")" : ":_q(" + t + "," + o + ")")), Mr(e, "change", "var $$a=" + t + ",$$el=$event.target,$$c=$$el.checked?(" + o + "):(" + a + ");if(Array.isArray($$a)){var $$v=" + (r ? "_n(" + i + ")" : i) + ",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&(" + jr(t, "$$a.concat([$$v])") + ")}else{$$i>-1&&(" + jr(t, "$$a.slice(0,$$i).concat($$a.slice($$i+1))") + ")}}else{" + jr(t, "$$c") + "}", null, !0) }(e, r, i); else if ("input" === o && "radio" === a) !function (e, t, n) { var r = n && n.number, i = Rr(e, "value") || "null"; Or(e, "checked", "_q(" + t + "," + (i = r ? "_n(" + i + ")" : i) + ")"), Mr(e, "change", jr(t, i), null, !0) }(e, r, i); else if ("input" === o || "textarea" === o) !function (e, t, n) { var r = e.attrsMap.type, i = n || {}, o = i.lazy, a = i.number, s = i.trim, c = !o && "range" !== r, u = o ? "change" : "range" === r ? Vr : "input", l = "$event.target.value"; s && (l = "$event.target.value.trim()"), a && (l = "_n(" + l + ")"); var f = jr(t, l); c && (f = "if($event.target.composing)return;" + f), Or(e, "value", "(" + t + ")"), Mr(e, u, f, null, !0), (s || a) && Mr(e, "blur", "$forceUpdate()") }(e, r, i); else if (!F.isReservedTag(o)) return Pr(e, r, i), !1; return !0 }, text: function (e, t) { t.value && Or(e, "textContent", "_s(" + t.value + ")", t) }, html: function (e, t) { t.value && Or(e, "innerHTML", "_s(" + t.value + ")", t) } }, isPreTag: function (e) { return "pre" === e }, isUnaryTag: po, mustUseProp: Tn, canBeLeftOpenTag: vo, isReservedTag: Vn, getTagNamespace: Gn, staticKeys: function (e) { return e.reduce((function (e, t) { return e.concat(t.staticKeys || []) }), []).join(",") }(va) }, ya = b((function (e) { return p("type,tag,attrsList,attrsMap,plain,parent,children,attrs,start,end,rawAttrsMap" + (e ? "," + e : "")) })), ga = /^([\w$_]+|\([^)]*?\))\s*=>|^function(?:\s+[\w$]+)?\s*\(/, _a = /\([^)]*?\);*$/, ba = /^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/, wa = { esc: 27, tab: 9, enter: 13, space: 32, up: 38, left: 37, right: 39, down: 40, delete: [8, 46] }, xa = { esc: ["Esc", "Escape"], tab: "Tab", enter: "Enter", space: [" ", "Spacebar"], up: ["Up", "ArrowUp"], left: ["Left", "ArrowLeft"], right: ["Right", "ArrowRight"], down: ["Down", "ArrowDown"], delete: ["Backspace", "Delete", "Del"] }, Ea = function (e) { return "if(" + e + ")return null;" }, Ca = { stop: "$event.stopPropagation();", prevent: "$event.preventDefault();", self: Ea("$event.target !== $event.currentTarget"), ctrl: Ea("!$event.ctrlKey"), shift: Ea("!$event.shiftKey"), alt: Ea("!$event.altKey"), meta: Ea("!$event.metaKey"), left: Ea("'button' in $event && $event.button !== 0"), middle: Ea("'button' in $event && $event.button !== 1"), right: Ea("'button' in $event && $event.button !== 2") }; function Sa(e, t) { var n = t ? "nativeOn:" : "on:", r = "", i = ""; for (var o in e) { var a = Oa(e[o]); e[o] && e[o].dynamic ? i += o + "," + a + "," : r += '"' + o + '":' + a + "," } return r = "{" + r.slice(0, -1) + "}", i ? n + "_d(" + r + ",[" + i.slice(0, -1) + "])" : n + r } function Oa(e) { if (!e) return "function(){}"; if (Array.isArray(e)) return "[" + e.map((function (e) { return Oa(e) })).join(",") + "]"; var t = ba.test(e.value), n = ga.test(e.value), r = ba.test(e.value.replace(_a, "")); if (e.modifiers) { var i = "", o = "", a = []; for (var s in e.modifiers) if (Ca[s]) o += Ca[s], wa[s] && a.push(s); else if ("exact" === s) { var c = e.modifiers; o += Ea(["ctrl", "shift", "alt", "meta"].filter((function (e) { return !c[e] })).map((function (e) { return "$event." + e + "Key" })).join("||")) } else a.push(s); return a.length && (i += function (e) { return "if(!$event.type.indexOf('key')&&" + e.map(ka).join("&&") + ")return null;" }(a)), o && (i += o), "function($event){" + i + (t ? "return " + e.value + "($event)" : n ? "return (" + e.value + ")($event)" : r ? "return " + e.value : e.value) + "}" } return t || n ? e.value : "function($event){" + (r ? "return " + e.value : e.value) + "}" } function ka(e) { var t = parseInt(e, 10); if (t) return "$event.keyCode!==" + t; var n = wa[e], r = xa[e]; return "_k($event.keyCode," + JSON.stringify(e) + "," + JSON.stringify(n) + ",$event.key," + JSON.stringify(r) + ")" } var Aa = { on: function (e, t) { e.wrapListeners = function (e) { return "_g(" + e + "," + t.value + ")" } }, bind: function (e, t) { e.wrapData = function (n) { return "_b(" + n + ",'" + e.tag + "'," + t.value + "," + (t.modifiers && t.modifiers.prop ? "true" : "false") + (t.modifiers && t.modifiers.sync ? ",true" : "") + ")" } }, cloak: T }, Na = function (e) { this.options = e, this.warn = e.warn || Cr, this.transforms = Sr(e.modules, "transformCode"), this.dataGenFns = Sr(e.modules, "genData"), this.directives = A(A({}, Aa), e.directives); var t = e.isReservedTag || M; this.maybeComponent = function (e) { return !!e.component || !t(e.tag) }, this.onceId = 0, this.staticRenderFns = [], this.pre = !1 }; function Ta(e, t) { var n = new Na(t); return { render: "with(this){return " + (e ? Ma(e, n) : '_c("div")') + "}", staticRenderFns: n.staticRenderFns } } function Ma(e, t) { if (e.parent && (e.pre = e.pre || e.parent.pre), e.staticRoot && !e.staticProcessed) return Ra(e, t); if (e.once && !e.onceProcessed) return Ia(e, t); if (e.for && !e.forProcessed) return $a(e, t); if (e.if && !e.ifProcessed) return Da(e, t); if ("template" !== e.tag || e.slotTarget || t.pre) { if ("slot" === e.tag) return function (e, t) { var n = e.slotName || '"default"', r = Fa(e, t), i = "_t(" + n + (r ? "," + r : ""), o = e.attrs || e.dynamicAttrs ? Ha((e.attrs || []).concat(e.dynamicAttrs || []).map((function (e) { return { name: x(e.name), value: e.value, dynamic: e.dynamic } }))) : null, a = e.attrsMap["v-bind"]; return !o && !a || r || (i += ",null"), o && (i += "," + o), a && (i += (o ? "" : ",null") + "," + a), i + ")" }(e, t); var n; if (e.component) n = function (e, t, n) { var r = t.inlineTemplate ? null : Fa(t, n, !0); return "_c(" + e + "," + Pa(t, n) + (r ? "," + r : "") + ")" }(e.component, e, t); else { var r; (!e.plain || e.pre && t.maybeComponent(e)) && (r = Pa(e, t)); var i = e.inlineTemplate ? null : Fa(e, t, !0); n = "_c('" + e.tag + "'" + (r ? "," + r : "") + (i ? "," + i : "") + ")" } for (var o = 0; o < t.transforms.length; o++)n = t.transforms[o](e, n); return n } return Fa(e, t) || "void 0" } function Ra(e, t) { e.staticProcessed = !0; var n = t.pre; return e.pre && (t.pre = e.pre), t.staticRenderFns.push("with(this){return " + Ma(e, t) + "}"), t.pre = n, "_m(" + (t.staticRenderFns.length - 1) + (e.staticInFor ? ",true" : "") + ")" } function Ia(e, t) { if (e.onceProcessed = !0, e.if && !e.ifProcessed) return Da(e, t); if (e.staticInFor) { for (var n = "", r = e.parent; r;) { if (r.for) { n = r.key; break } r = r.parent } return n ? "_o(" + Ma(e, t) + "," + t.onceId++ + "," + n + ")" : Ma(e, t) } return Ra(e, t) } function Da(e, t, n, r) { return e.ifProcessed = !0, function e(t, n, r, i) { if (!t.length) return i || "_e()"; var o = t.shift(); return o.exp ? "(" + o.exp + ")?" + a(o.block) + ":" + e(t, n, r, i) : "" + a(o.block); function a(e) { return r ? r(e, n) : e.once ? Ia(e, n) : Ma(e, n) } }(e.ifConditions.slice(), t, n, r) } function $a(e, t, n, r) { var i = e.for, o = e.alias, a = e.iterator1 ? "," + e.iterator1 : "", s = e.iterator2 ? "," + e.iterator2 : ""; return e.forProcessed = !0, (r || "_l") + "((" + i + "),function(" + o + a + s + "){return " + (n || Ma)(e, t) + "})" } function Pa(e, t) { var n = "{", r = function (e, t) { var n = e.directives; if (n) { var r, i, o, a, s = "directives:[", c = !1; for (r = 0, i = n.length; r < i; r++) { o = n[r], a = !0; var u = t.directives[o.name]; u && (a = !!u(e, o, t.warn)), a && (c = !0, s += '{name:"' + o.name + '",rawName:"' + o.rawName + '"' + (o.value ? ",value:(" + o.value + "),expression:" + JSON.stringify(o.value) : "") + (o.arg ? ",arg:" + (o.isDynamicArg ? o.arg : '"' + o.arg + '"') : "") + (o.modifiers ? ",modifiers:" + JSON.stringify(o.modifiers) : "") + "},") } return c ? s.slice(0, -1) + "]" : void 0 } }(e, t); r && (n += r + ","), e.key && (n += "key:" + e.key + ","), e.ref && (n += "ref:" + e.ref + ","), e.refInFor && (n += "refInFor:true,"), e.pre && (n += "pre:true,"), e.component && (n += 'tag:"' + e.tag + '",'); for (var i = 0; i < t.dataGenFns.length; i++)n += t.dataGenFns[i](e); if (e.attrs && (n += "attrs:" + Ha(e.attrs) + ","), e.props && (n += "domProps:" + Ha(e.props) + ","), e.events && (n += Sa(e.events, !1) + ","), e.nativeEvents && (n += Sa(e.nativeEvents, !0) + ","), e.slotTarget && !e.slotScope && (n += "slot:" + e.slotTarget + ","), e.scopedSlots && (n += function (e, t, n) { var r = e.for || Object.keys(t).some((function (e) { var n = t[e]; return n.slotTargetDynamic || n.if || n.for || ja(n) })), i = !!e.if; if (!r) for (var o = e.parent; o;) { if (o.slotScope && o.slotScope !== na || o.for) { r = !0; break } o.if && (i = !0), o = o.parent } var a = Object.keys(t).map((function (e) { return La(t[e], n) })).join(","); return "scopedSlots:_u([" + a + "]" + (r ? ",null,true" : "") + (!r && i ? ",null,false," + function (e) { for (var t = 5381, n = e.length; n;)t = 33 * t ^ e.charCodeAt(--n); return t >>> 0 }(a) : "") + ")" }(e, e.scopedSlots, t) + ","), e.model && (n += "model:{value:" + e.model.value + ",callback:" + e.model.callback + ",expression:" + e.model.expression + "},"), e.inlineTemplate) { var o = function (e, t) { var n = e.children[0]; if (n && 1 === n.type) { var r = Ta(n, t.options); return "inlineTemplate:{render:function(){" + r.render + "},staticRenderFns:[" + r.staticRenderFns.map((function (e) { return "function(){" + e + "}" })).join(",") + "]}" } }(e, t); o && (n += o + ",") } return n = n.replace(/,$/, "") + "}", e.dynamicAttrs && (n = "_b(" + n + ',"' + e.tag + '",' + Ha(e.dynamicAttrs) + ")"), e.wrapData && (n = e.wrapData(n)), e.wrapListeners && (n = e.wrapListeners(n)), n } function ja(e) { return 1 === e.type && ("slot" === e.tag || e.children.some(ja)) } function La(e, t) { var n = e.attrsMap["slot-scope"]; if (e.if && !e.ifProcessed && !n) return Da(e, t, La, "null"); if (e.for && !e.forProcessed) return $a(e, t, La); var r = e.slotScope === na ? "" : String(e.slotScope), i = "function(" + r + "){return " + ("template" === e.tag ? e.if && n ? "(" + e.if + ")?" + (Fa(e, t) || "undefined") + ":undefined" : Fa(e, t) || "undefined" : Ma(e, t)) + "}", o = r ? "" : ",proxy:true"; return "{key:" + (e.slotTarget || '"default"') + ",fn:" + i + o + "}" } function Fa(e, t, n, r, i) { var o = e.children; if (o.length) { var a = o[0]; if (1 === o.length && a.for && "template" !== a.tag && "slot" !== a.tag) { var s = n ? t.maybeComponent(a) ? ",1" : ",0" : ""; return "" + (r || Ma)(a, t) + s } var c = n ? function (e, t) { for (var n = 0, r = 0; r < e.length; r++) { var i = e[r]; if (1 === i.type) { if (Ka(i) || i.ifConditions && i.ifConditions.some((function (e) { return Ka(e.block) }))) { n = 2; break } (t(i) || i.ifConditions && i.ifConditions.some((function (e) { return t(e.block) }))) && (n = 1) } } return n }(o, t.maybeComponent) : 0, u = i || Ba; return "[" + o.map((function (e) { return u(e, t) })).join(",") + "]" + (c ? "," + c : "") } } function Ka(e) { return void 0 !== e.for || "template" === e.tag || "slot" === e.tag } function Ba(e, t) { return 1 === e.type ? Ma(e, t) : 3 === e.type && e.isComment ? (r = e, "_e(" + JSON.stringify(r.text) + ")") : "_v(" + (2 === (n = e).type ? n.expression : Ua(JSON.stringify(n.text))) + ")"; var n, r } function Ha(e) { for (var t = "", n = "", r = 0; r < e.length; r++) { var i = e[r], o = Ua(i.value); i.dynamic ? n += i.name + "," + o + "," : t += '"' + i.name + '":' + o + "," } return t = "{" + t.slice(0, -1) + "}", n ? "_d(" + t + ",[" + n.slice(0, -1) + "])" : t } function Ua(e) { return e.replace(/\u2028/g, "\\u2028").replace(/\u2029/g, "\\u2029") } function Va(e, t) { try { return new Function(e) } catch (n) { return t.push({ err: n, code: e }), T } } function Ga(e) { var t = Object.create(null); return function (n, r, i) { (r = A({}, r)).warn, delete r.warn; var o = r.delimiters ? String(r.delimiters) + n : n; if (t[o]) return t[o]; var a = e(n, r), s = {}, c = []; return s.render = Va(a.render, c), s.staticRenderFns = a.staticRenderFns.map((function (e) { return Va(e, c) })), t[o] = s } } new RegExp("\\b" + "do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b") + "\\b"); var za, qa, Wa = (za = function (e, t) { var n = function (e, t) { $o = t.warn || Cr, Ko = t.isPreTag || M, Bo = t.mustUseProp || M, Ho = t.getTagNamespace || M, t.isReservedTag, jo = Sr(t.modules, "transformNode"), Lo = Sr(t.modules, "preTransformNode"), Fo = Sr(t.modules, "postTransformNode"), Po = t.delimiters; var n, r, i = [], o = !1 !== t.preserveWhitespace, a = t.whitespace, s = !1, c = !1; function u(e) { if (l(e), s || e.processed || (e = ia(e, t)), i.length || e === n || n.if && (e.elseif || e.else) && aa(n, { exp: e.elseif, block: e }), r && !e.forbidden) if (e.elseif || e.else) a = e, (u = function (e) { for (var t = e.length; t--;) { if (1 === e[t].type) return e[t]; e.pop() } }(r.children)) && u.if && aa(u, { exp: a.elseif, block: a }); else { if (e.slotScope) { var o = e.slotTarget || '"default"'; (r.scopedSlots || (r.scopedSlots = {}))[o] = e } r.children.push(e), e.parent = r } var a, u; e.children = e.children.filter((function (e) { return !e.slotScope })), l(e), e.pre && (s = !1), Ko(e.tag) && (c = !1); for (var f = 0; f < Fo.length; f++)Fo[f](e, t) } function l(e) { if (!c) for (var t; (t = e.children[e.children.length - 1]) && 3 === t.type && " " === t.text;)e.children.pop() } return function (e, t) { for (var n, r, i = [], o = t.expectHTML, a = t.isUnaryTag || M, s = t.canBeLeftOpenTag || M, c = 0; e;) { if (n = e, r && ko(r)) { var u = 0, l = r.toLowerCase(), f = Ao[l] || (Ao[l] = new RegExp("([\\s\\S]*?)(</" + l + "[^>]*>)", "i")), d = e.replace(f, (function (e, n, r) { return u = r.length, ko(l) || "noscript" === l || (n = n.replace(/<!\--([\s\S]*?)-->/g, "$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g, "$1")), Io(l, n) && (n = n.slice(1)), t.chars && t.chars(n), "" })); c += e.length - d.length, e = d, O(l, c - u, c) } else { var h = e.indexOf("<"); if (0 === h) { if (So.test(e)) { var p = e.indexOf("--\x3e"); if (p >= 0) { t.shouldKeepComment && t.comment(e.substring(4, p), c, c + p + 3), E(p + 3); continue } } if (Oo.test(e)) { var v = e.indexOf("]>"); if (v >= 0) { E(v + 2); continue } } var m = e.match(Co); if (m) { E(m[0].length); continue } var y = e.match(Eo); if (y) { var g = c; E(y[0].length), O(y[1], g, c); continue } var _ = C(); if (_) { S(_), Io(_.tagName, e) && E(1); continue } } var b = void 0, w = void 0, x = void 0; if (h >= 0) { for (w = e.slice(h); !(Eo.test(w) || wo.test(w) || So.test(w) || Oo.test(w) || (x = w.indexOf("<", 1)) < 0);)h += x, w = e.slice(h); b = e.substring(0, h) } h < 0 && (b = e), b && E(b.length), t.chars && b && t.chars(b, c - b.length, c) } if (e === n) { t.chars && t.chars(e); break } } function E(t) { c += t, e = e.substring(t) } function C() { var t = e.match(wo); if (t) { var n, r, i = { tagName: t[1], attrs: [], start: c }; for (E(t[0].length); !(n = e.match(xo)) && (r = e.match(go) || e.match(yo));)r.start = c, E(r[0].length), r.end = c, i.attrs.push(r); if (n) return i.unarySlash = n[1], E(n[0].length), i.end = c, i } } function S(e) { var n = e.tagName, c = e.unarySlash; o && ("p" === r && mo(n) && O(r), s(n) && r === n && O(n)); for (var u = a(n) || !!c, l = e.attrs.length, f = new Array(l), d = 0; d < l; d++) { var h = e.attrs[d], p = h[3] || h[4] || h[5] || "", v = "a" === n && "href" === h[1] ? t.shouldDecodeNewlinesForHref : t.shouldDecodeNewlines; f[d] = { name: h[1], value: Do(p, v) } } u || (i.push({ tag: n, lowerCasedTag: n.toLowerCase(), attrs: f, start: e.start, end: e.end }), r = n), t.start && t.start(n, f, u, e.start, e.end) } function O(e, n, o) { var a, s; if (null == n && (n = c), null == o && (o = c), e) for (s = e.toLowerCase(), a = i.length - 1; a >= 0 && i[a].lowerCasedTag !== s; a--); else a = 0; if (a >= 0) { for (var u = i.length - 1; u >= a; u--)t.end && t.end(i[u].tag, n, o); i.length = a, r = a && i[a - 1].tag } else "br" === s ? t.start && t.start(e, [], !0, n, o) : "p" === s && (t.start && t.start(e, [], !1, n, o), t.end && t.end(e, n, o)) } O() }(e, { warn: $o, expectHTML: t.expectHTML, isUnaryTag: t.isUnaryTag, canBeLeftOpenTag: t.canBeLeftOpenTag, shouldDecodeNewlines: t.shouldDecodeNewlines, shouldDecodeNewlinesForHref: t.shouldDecodeNewlinesForHref, shouldKeepComment: t.comments, outputSourceRange: t.outputSourceRange, start: function (e, o, a, l, f) { var d = r && r.ns || Ho(e); Y && "svg" === d && (o = function (e) { for (var t = [], n = 0; n < e.length; n++) { var r = e[n]; la.test(r.name) || (r.name = r.name.replace(fa, ""), t.push(r)) } return t }(o)); var h, p = ra(e, o, r); d && (p.ns = d), "style" !== (h = p).tag && ("script" !== h.tag || h.attrsMap.type && "text/javascript" !== h.attrsMap.type) || re() || (p.forbidden = !0); for (var v = 0; v < Lo.length; v++)p = Lo[v](p, t) || p; s || (function (e) { null != Ir(e, "v-pre") && (e.pre = !0) }(p), p.pre && (s = !0)), Ko(p.tag) && (c = !0), s ? function (e) { var t = e.attrsList, n = t.length; if (n) for (var r = e.attrs = new Array(n), i = 0; i < n; i++)r[i] = { name: t[i].name, value: JSON.stringify(t[i].value) }, null != t[i].start && (r[i].start = t[i].start, r[i].end = t[i].end); else e.pre || (e.plain = !0) }(p) : p.processed || (oa(p), function (e) { var t = Ir(e, "v-if"); if (t) e.if = t, aa(e, { exp: t, block: e }); else { null != Ir(e, "v-else") && (e.else = !0); var n = Ir(e, "v-else-if"); n && (e.elseif = n) } }(p), function (e) { null != Ir(e, "v-once") && (e.once = !0) }(p)), n || (n = p), a ? u(p) : (r = p, i.push(p)) }, end: function (e, t, n) { var o = i[i.length - 1]; i.length -= 1, r = i[i.length - 1], u(o) }, chars: function (e, t, n) { if (r && (!Y || "textarea" !== r.tag || r.attrsMap.placeholder !== e)) { var i, u, l, f = r.children; (e = c || e.trim() ? "script" === (i = r).tag || "style" === i.tag ? e : ta(e) : f.length ? a ? "condense" === a && Zo.test(e) ? "" : " " : o ? " " : "" : "") && (c || "condense" !== a || (e = e.replace(ea, " ")), !s && " " !== e && (u = function (e, t) { var n = t ? lo(t) : co; if (n.test(e)) { for (var r, i, o, a = [], s = [], c = n.lastIndex = 0; r = n.exec(e);) { (i = r.index) > c && (s.push(o = e.slice(c, i)), a.push(JSON.stringify(o))); var u = xr(r[1].trim()); a.push("_s(" + u + ")"), s.push({ "@binding": u }), c = i + r[0].length } return c < e.length && (s.push(o = e.slice(c)), a.push(JSON.stringify(o))), { expression: a.join("+"), tokens: s } } }(e, Po)) ? l = { type: 2, expression: u.expression, tokens: u.tokens, text: e } : " " === e && f.length && " " === f[f.length - 1].text || (l = { type: 3, text: e }), l && f.push(l)) } }, comment: function (e, t, n) { if (r) { var i = { type: 3, text: e, isComment: !0 }; r.children.push(i) } } }), n }(e.trim(), t); !1 !== t.optimize && function (e, t) { e && (ha = ya(t.staticKeys || ""), pa = t.isReservedTag || M, function e(t) { if (t.static = function (e) { return 2 !== e.type && (3 === e.type || !(!e.pre && (e.hasBindings || e.if || e.for || v(e.tag) || !pa(e.tag) || function (e) { for (; e.parent;) { if ("template" !== (e = e.parent).tag) return !1; if (e.for) return !0 } return !1 }(e) || !Object.keys(e).every(ha)))) }(t), 1 === t.type) { if (!pa(t.tag) && "slot" !== t.tag && null == t.attrsMap["inline-template"]) return; for (var n = 0, r = t.children.length; n < r; n++) { var i = t.children[n]; e(i), i.static || (t.static = !1) } if (t.ifConditions) for (var o = 1, a = t.ifConditions.length; o < a; o++) { var s = t.ifConditions[o].block; e(s), s.static || (t.static = !1) } } }(e), function e(t, n) { if (1 === t.type) { if ((t.static || t.once) && (t.staticInFor = n), t.static && t.children.length && (1 !== t.children.length || 3 !== t.children[0].type)) return void (t.staticRoot = !0); if (t.staticRoot = !1, t.children) for (var r = 0, i = t.children.length; r < i; r++)e(t.children[r], n || !!t.for); if (t.ifConditions) for (var o = 1, a = t.ifConditions.length; o < a; o++)e(t.ifConditions[o].block, n) } }(e, !1)) }(n, t); var r = Ta(n, t); return { ast: n, render: r.render, staticRenderFns: r.staticRenderFns } }, function (e) { function t(t, n) { var r = Object.create(e), i = [], o = []; if (n) for (var a in n.modules && (r.modules = (e.modules || []).concat(n.modules)), n.directives && (r.directives = A(Object.create(e.directives || null), n.directives)), n) "modules" !== a && "directives" !== a && (r[a] = n[a]); r.warn = function (e, t, n) { (n ? o : i).push(e) }; var s = za(t.trim(), r); return s.errors = i, s.tips = o, s } return { compile: t, compileToFunctions: Ga(t) } })(ma), Ya = (Wa.compile, Wa.compileToFunctions); function Ja(e) { return (qa = qa || document.createElement("div")).innerHTML = e ? '<a href="\n"/>' : '<div a="\n"/>', qa.innerHTML.indexOf("&#10;") > 0 } var Xa = !!G && Ja(!1), Qa = !!G && Ja(!0), Za = b((function (e) { var t = Wn(e); return t && t.innerHTML })), es = wn.prototype.$mount; return wn.prototype.$mount = function (e, t) { if ((e = e && Wn(e)) === document.body || e === document.documentElement) return this; var n = this.$options; if (!n.render) { var r = n.template; if (r) if ("string" == typeof r) "#" === r.charAt(0) && (r = Za(r)); else { if (!r.nodeType) return this; r = r.innerHTML } else e && (r = function (e) { if (e.outerHTML) return e.outerHTML; var t = document.createElement("div"); return t.appendChild(e.cloneNode(!0)), t.innerHTML }(e)); if (r) { var i = Ya(r, { outputSourceRange: !1, shouldDecodeNewlines: Xa, shouldDecodeNewlinesForHref: Qa, delimiters: n.delimiters, comments: n.comments }, this), o = i.render, a = i.staticRenderFns; n.render = o, n.staticRenderFns = a } } return es.call(this, e, t) }, wn.compile = Ya, wn }()
    }).call(this, n(0), n(2).setImmediate)
}, function (e, t, n) { (function (e) { var r = void 0 !== e && e || "undefined" != typeof self && self || window, i = Function.prototype.apply; function o(e, t) { this._id = e, this._clearFn = t } t.setTimeout = function () { return new o(i.call(setTimeout, r, arguments), clearTimeout) }, t.setInterval = function () { return new o(i.call(setInterval, r, arguments), clearInterval) }, t.clearTimeout = t.clearInterval = function (e) { e && e.close() }, o.prototype.unref = o.prototype.ref = function () { }, o.prototype.close = function () { this._clearFn.call(r, this._id) }, t.enroll = function (e, t) { clearTimeout(e._idleTimeoutId), e._idleTimeout = t }, t.unenroll = function (e) { clearTimeout(e._idleTimeoutId), e._idleTimeout = -1 }, t._unrefActive = t.active = function (e) { clearTimeout(e._idleTimeoutId); var t = e._idleTimeout; t >= 0 && (e._idleTimeoutId = setTimeout((function () { e._onTimeout && e._onTimeout() }), t)) }, n(11), t.setImmediate = "undefined" != typeof self && self.setImmediate || void 0 !== e && e.setImmediate || this && this.setImmediate, t.clearImmediate = "undefined" != typeof self && self.clearImmediate || void 0 !== e && e.clearImmediate || this && this.clearImmediate }).call(this, n(0)) }, function (e, t) { e.exports = '<div class=card v-show=roomName style=margin:1rem;flex:1;display:flex;flex-direction:column;overflow:auto> <div class="card-header font-weight-bold" style=text-align:center> <div style=float:left> <span class=font-weight-bold></span> <div class=btn-group role=group aria-label="Basic example"> <button :disabled=recordingScreen @click=btnStartRecordScreenClicked type=button class="btn btn-outline-danger" style=padding:0;width:2.5rem><i class="fas fa-circle"></i> </button> <button :disabled=!recordingScreen @click=btnStopRecordScreenClicked type=button class="btn btn-outline-danger" style=padding:0;width:2.5rem><i class="fas fa-square"></i> </button> </div> </div> <button ref=btn_show_record_lib class="btn btn-link" style=float:right;padding:0 data-toggle=tooltip title=保存的录像 @click=btnShowRecordLibClicked><i class="fa fa-film"></i></button> {{roomName}} </div> <div class=card-body style=flex:1;overflow:auto;display:flex;flex-direction:row> <div style=display:flex;height:100%;overflow:auto;flex-direction:column> <div class=card style=width:min-content;height:min-content;margin-bottom:.5rem v-for="u in userList"> <div class=card-header style=text-align:center;padding:0;width:155px> {{getUserRole(u)}}{{u.userName}} </div> <stream-viewer v-if="u.mode==\'broadcaster\'" :sid=u.sid :mediator=mediator></stream-viewer> </div> </div> <div style=width:1rem></div> <div style=flex:1;display:flex;flex-direction:column;height:100%> <textarea ref=roomChatOutputTextArea class=form-control style=display:block;flex:1;width:100%;background-color:#fff v-model=roomChatOutput readonly=readonly></textarea> <div style=height:.5rem></div> <div style=width:100%;display:flex;flex-direction:row> <input type=text class=form-control style=flex:1 v-model=userInput @keydown=userInputKeyDownHandler> <div style=width:.5rem></div> <button class="btn btn-primary" @click=btnSendClicked>发送</button> </div> </div> </div> <div ref=recorded_video_lib style=overflow:auto class=modal tabindex=-1 role=dialog> <div class="modal-dialog modal-lg" role=document> <div class=modal-content style=max-height:500px;display:flex;flex-direction:column> <div class=modal-header> <h5 class="modal-title font-weight-bold">录制的视频</h5> <button type=button class=close data-dismiss=modal aria-label=Close> <span aria-hidden=true>&times;</span> </button> </div> <div class=modal-body style=flex:1;overflow:auto> <div v-if=recorded_videos.length> <table class=table> <tbody> <tr v-for="v in recorded_videos"> <td style=word-break:break-all>{{v.video_id}}</td> <td>{{v.user_name}}</td> <td style=max-width:15rem;min-width:15rem;width:15rem;text-align:center> <button class="btn btn-primary btn-sm" @click=btnPreviewClicked :data-video_id=v.video_id><i class="fa fa-play" style=pointer-events:none></i> 预览 </button> <button class="btn btn-primary btn-sm" @click=btnExportClicked :data-video_id=v.video_id><i class="fa fa-file-export" style=pointer-events:none></i> 导出 </button> </td> </tr> </tbody> </table> </div> <div v-else> 暂时没有内容 </div> </div> </div> </div> </div> </div>' }, function (e, t) { e.exports = "<video ref=video_el style=display:block;width:160px;height:120px;background-color:#000 autoplay> </video>" }, function (e, t, n) { "use strict"; (function (e, n) { var r = Object.keys, i = Array.isArray, o = "undefined" != typeof self ? self : "undefined" != typeof window ? window : e; function a(e, t) { return "object" != typeof t || r(t).forEach((function (n) { e[n] = t[n] })), e } var s = Object.getPrototypeOf, c = {}.hasOwnProperty; function u(e, t) { return c.call(e, t) } function l(e, t) { "function" == typeof t && (t = t(s(e))), r(t).forEach((function (n) { d(e, n, t[n]) })) } var f = Object.defineProperty; function d(e, t, n, r) { f(e, t, a(n && u(n, "get") && "function" == typeof n.get ? { get: n.get, set: n.set, configurable: !0 } : { value: n, configurable: !0, writable: !0 }, r)) } function h(e) { return { from: function (t) { return e.prototype = Object.create(t.prototype), d(e.prototype, "constructor", e), { extend: l.bind(null, e.prototype) } } } } var p = Object.getOwnPropertyDescriptor; var v = [].slice; function m(e, t, n) { return v.call(e, t, n) } function y(e, t) { return t(e) } function g(e) { if (!e) throw new Error("Assertion Failed") } function _(e) { o.setImmediate ? n(e) : setTimeout(e, 0) } function b(e, t) { return e.reduce((function (e, n, r) { var i = t(n, r); return i && (e[i[0]] = i[1]), e }), {}) } function w(e, t) { return function () { try { e.apply(this, arguments) } catch (e) { t(e) } } } function x(e, t, n) { try { e.apply(null, n) } catch (e) { t && t(e) } } function E(e, t) { if (u(e, t)) return e[t]; if (!t) return e; if ("string" != typeof t) { for (var n = [], r = 0, i = t.length; r < i; ++r) { var o = E(e, t[r]); n.push(o) } return n } var a = t.indexOf("."); if (-1 !== a) { var s = e[t.substr(0, a)]; return void 0 === s ? void 0 : E(s, t.substr(a + 1)) } } function C(e, t, n) { if (e && void 0 !== t && (!("isFrozen" in Object) || !Object.isFrozen(e))) if ("string" != typeof t && "length" in t) { g("string" != typeof n && "length" in n); for (var r = 0, i = t.length; r < i; ++r)C(e, t[r], n[r]) } else { var o = t.indexOf("."); if (-1 !== o) { var a = t.substr(0, o), s = t.substr(o + 1); if ("" === s) void 0 === n ? delete e[a] : e[a] = n; else { var c = e[a]; c || (c = e[a] = {}), C(c, s, n) } } else void 0 === n ? delete e[t] : e[t] = n } } function S(e) { var t = {}; for (var n in e) u(e, n) && (t[n] = e[n]); return t } var O = [].concat; function k(e) { return O.apply([], e) } var A = "Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set".split(",").concat(k([8, 16, 32, 64].map((function (e) { return ["Int", "Uint", "Float"].map((function (t) { return t + e + "Array" })) })))).filter((function (e) { return o[e] })).map((function (e) { return o[e] })); function N(e) { if (!e || "object" != typeof e) return e; var t; if (i(e)) { t = []; for (var n = 0, r = e.length; n < r; ++n)t.push(N(e[n])) } else if (A.indexOf(e.constructor) >= 0) t = e; else for (var o in t = e.constructor ? Object.create(e.constructor.prototype) : {}, e) u(e, o) && (t[o] = N(e[o])); return t } function T(e, t, n, i) { return n = n || {}, i = i || "", r(e).forEach((function (r) { if (u(t, r)) { var o = e[r], a = t[r]; "object" == typeof o && "object" == typeof a && o && a && "" + o.constructor == "" + a.constructor ? T(o, a, n, i + r + ".") : o !== a && (n[i + r] = t[r]) } else n[i + r] = void 0 })), r(t).forEach((function (r) { u(e, r) || (n[i + r] = t[r]) })), n } var M = "undefined" != typeof Symbol && Symbol.iterator, R = M ? function (e) { var t; return null != e && (t = e[M]) && t.apply(e) } : function () { return null }, I = {}; function D(e) { var t, n, r, o; if (1 === arguments.length) { if (i(e)) return e.slice(); if (this === I && "string" == typeof e) return [e]; if (o = R(e)) { for (n = []; !(r = o.next()).done;)n.push(r.value); return n } if (null == e) return [e]; if ("number" == typeof (t = e.length)) { for (n = new Array(t); t--;)n[t] = e[t]; return n } return [e] } for (t = arguments.length, n = new Array(t); t--;)n[t] = arguments[t]; return n } var $ = "undefined" != typeof location && /^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href); function P(e, t) { $ = e, j = t } var j = function () { return !0 }, L = !new Error("").stack; function F() { if (L) try { throw F.arguments, new Error } catch (e) { return e } return new Error } function K(e, t) { var n = e.stack; return n ? (t = t || 0, 0 === n.indexOf(e.name) && (t += (e.name + e.message).split("\n").length), n.split("\n").slice(t).filter(j).map((function (e) { return "\n" + e })).join("")) : "" } var B = ["Unknown", "Constraint", "Data", "TransactionInactive", "ReadOnly", "Version", "NotFound", "InvalidState", "InvalidAccess", "Abort", "Timeout", "QuotaExceeded", "Syntax", "DataClone"], H = ["Modify", "Bulk", "OpenFailed", "VersionChange", "Schema", "Upgrade", "InvalidTable", "MissingAPI", "NoSuchDatabase", "InvalidArgument", "SubTransaction", "Unsupported", "Internal", "DatabaseClosed", "PrematureCommit", "ForeignAwait"].concat(B), U = { VersionChanged: "Database version changed by other database connection", DatabaseClosed: "Database has been closed", Abort: "Transaction aborted", TransactionInactive: "Transaction has already completed or failed" }; function V(e, t) { this._e = F(), this.name = e, this.message = t } function G(e, t, n, r) { this._e = F(), this.failures = t, this.failedKeys = r, this.successCount = n } function z(e, t) { this._e = F(), this.name = "BulkError", this.failures = t, this.message = function (e, t) { return e + ". Errors: " + t.map((function (e) { return e.toString() })).filter((function (e, t, n) { return n.indexOf(e) === t })).join("\n") }(e, t) } h(V).from(Error).extend({ stack: { get: function () { return this._stack || (this._stack = this.name + ": " + this.message + K(this._e, 2)) } }, toString: function () { return this.name + ": " + this.message } }), h(G).from(V), h(z).from(V); var q = H.reduce((function (e, t) { return e[t] = t + "Error", e }), {}), W = V, Y = H.reduce((function (e, t) { var n = t + "Error"; function r(e, r) { this._e = F(), this.name = n, e ? "string" == typeof e ? (this.message = e, this.inner = r || null) : "object" == typeof e && (this.message = e.name + " " + e.message, this.inner = e) : (this.message = U[t] || n, this.inner = null) } return h(r).from(W), e[t] = r, e }), {}); Y.Syntax = SyntaxError, Y.Type = TypeError, Y.Range = RangeError; var J = B.reduce((function (e, t) { return e[t + "Error"] = Y[t], e }), {}); var X = H.reduce((function (e, t) { return -1 === ["Syntax", "Type", "Range"].indexOf(t) && (e[t + "Error"] = Y[t]), e }), {}); function Q() { } function Z(e) { return e } function ee(e, t) { return null == e || e === Z ? t : function (n) { return t(e(n)) } } function te(e, t) { return function () { e.apply(this, arguments), t.apply(this, arguments) } } function ne(e, t) { return e === Q ? t : function () { var n = e.apply(this, arguments); void 0 !== n && (arguments[0] = n); var r = this.onsuccess, i = this.onerror; this.onsuccess = null, this.onerror = null; var o = t.apply(this, arguments); return r && (this.onsuccess = this.onsuccess ? te(r, this.onsuccess) : r), i && (this.onerror = this.onerror ? te(i, this.onerror) : i), void 0 !== o ? o : n } } function re(e, t) { return e === Q ? t : function () { e.apply(this, arguments); var n = this.onsuccess, r = this.onerror; this.onsuccess = this.onerror = null, t.apply(this, arguments), n && (this.onsuccess = this.onsuccess ? te(n, this.onsuccess) : n), r && (this.onerror = this.onerror ? te(r, this.onerror) : r) } } function ie(e, t) { return e === Q ? t : function (n) { var r = e.apply(this, arguments); a(n, r); var i = this.onsuccess, o = this.onerror; this.onsuccess = null, this.onerror = null; var s = t.apply(this, arguments); return i && (this.onsuccess = this.onsuccess ? te(i, this.onsuccess) : i), o && (this.onerror = this.onerror ? te(o, this.onerror) : o), void 0 === r ? void 0 === s ? void 0 : s : a(r, s) } } function oe(e, t) { return e === Q ? t : function () { return !1 !== t.apply(this, arguments) && e.apply(this, arguments) } } function ae(e, t) { return e === Q ? t : function () { var n = e.apply(this, arguments); if (n && "function" == typeof n.then) { for (var r = this, i = arguments.length, o = new Array(i); i--;)o[i] = arguments[i]; return n.then((function () { return t.apply(r, o) })) } return t.apply(this, arguments) } } X.ModifyError = G, X.DexieError = V, X.BulkError = z; var se = {}, ce = function () { try { return new Function("let F=async ()=>{},p=F();return [p,Object.getPrototypeOf(p),Promise.resolve(),F.constructor];")() } catch (t) { var e = o.Promise; return e ? [e.resolve(), e.prototype, e.resolve()] : [] } }(), ue = ce[0], le = ce[1], fe = ce[2], de = le && le.then, he = ue && ue.constructor, pe = ce[3], ve = !!fe, me = !1, ye = fe ? function () { fe.then(Fe) } : o.setImmediate ? n.bind(null, Fe) : o.MutationObserver ? function () { var e = document.createElement("div"); new MutationObserver((function () { Fe(), e = null })).observe(e, { attributes: !0 }), e.setAttribute("i", "1") } : function () { setTimeout(Fe, 0) }, ge = function (e, t) { ke.push([e, t]), be && (ye(), be = !1) }, _e = !0, be = !0, we = [], xe = [], Ee = null, Ce = Z, Se = { id: "global", global: !0, ref: 0, unhandleds: [], onunhandled: ct, pgp: !1, env: {}, finalize: function () { this.unhandleds.forEach((function (e) { try { ct(e[0], e[1]) } catch (e) { } })) } }, Oe = Se, ke = [], Ae = 0, Ne = []; function Te(e) { if ("object" != typeof this) throw new TypeError("Promises must be constructed via new"); this._listeners = [], this.onuncatched = Q, this._lib = !1; var t = this._PSD = Oe; if ($ && (this._stackHolder = F(), this._prev = null, this._numPrev = 0), "function" != typeof e) { if (e !== se) throw new TypeError("Not a function"); return this._state = arguments[1], this._value = arguments[2], void (!1 === this._state && De(this, this._value)) } this._state = null, this._value = null, ++t.ref, Ie(this, e) } var Me = { get: function () { var e = Oe, t = Ye; function n(n, r) { var i = this, o = !e.global && (e !== Oe || t !== Ye); o && Ze(); var a = new Te((function (t, a) { Pe(i, new Re(at(n, e, o), at(r, e, o), t, a, e)) })); return $ && Le(a, this), a } return n.prototype = se, n }, set: function (e) { d(this, "then", e && e.prototype === se ? Me : { get: function () { return e }, set: Me.set }) } }; function Re(e, t, n, r, i) { this.onFulfilled = "function" == typeof e ? e : null, this.onRejected = "function" == typeof t ? t : null, this.resolve = n, this.reject = r, this.psd = i } function Ie(e, t) { try { t((function (t) { if (null === e._state) { if (t === e) throw new TypeError("A promise cannot be resolved with itself."); var n = e._lib && Ke(); t && "function" == typeof t.then ? Ie(e, (function (e, n) { t instanceof Te ? t._then(e, n) : t.then(e, n) })) : (e._state = !0, e._value = t, $e(e)), n && Be() } }), De.bind(null, e)) } catch (t) { De(e, t) } } function De(e, t) { if (xe.push(t), null === e._state) { var n = e._lib && Ke(); t = Ce(t), e._state = !1, e._value = t, $ && null !== t && "object" == typeof t && !t._promise && x((function () { var n = function e(t, n) { var r; return p(t, n) || (r = s(t)) && e(r, n) }(t, "stack"); t._promise = e, d(t, "stack", { get: function () { return me ? n && (n.get ? n.get.apply(t) : n.value) : e.stack } }) })), function (e) { we.some((function (t) { return t._value === e._value })) || we.push(e) }(e), $e(e), n && Be() } } function $e(e) { var t = e._listeners; e._listeners = []; for (var n = 0, r = t.length; n < r; ++n)Pe(e, t[n]); var i = e._PSD; --i.ref || i.finalize(), 0 === Ae && (++Ae, ge((function () { 0 == --Ae && He() }), [])) } function Pe(e, t) { if (null !== e._state) { var n = e._state ? t.onFulfilled : t.onRejected; if (null === n) return (e._state ? t.resolve : t.reject)(e._value); ++t.psd.ref, ++Ae, ge(je, [n, e, t]) } else e._listeners.push(t) } function je(e, t, n) { try { Ee = t; var r, i = t._value; t._state ? r = e(i) : (xe.length && (xe = []), r = e(i), -1 === xe.indexOf(i) && function (e) { var t = we.length; for (; t;)if (we[--t]._value === e._value) return void we.splice(t, 1) }(t)), n.resolve(r) } catch (e) { n.reject(e) } finally { Ee = null, 0 == --Ae && He(), --n.psd.ref || n.psd.finalize() } } function Le(e, t) { var n = t ? t._numPrev + 1 : 0; n < 100 && (e._prev = t, e._numPrev = n) } function Fe() { Ke() && Be() } function Ke() { var e = _e; return _e = !1, be = !1, e } function Be() { var e, t, n; do { for (; ke.length > 0;)for (e = ke, ke = [], n = e.length, t = 0; t < n; ++t) { var r = e[t]; r[0].apply(null, r[1]) } } while (ke.length > 0); _e = !0, be = !0 } function He() { var e = we; we = [], e.forEach((function (e) { e._PSD.onunhandled.call(null, e._value, e) })); for (var t = Ne.slice(0), n = t.length; n;)t[--n]() } function Ue(e) { return new Te(se, !1, e) } function Ve(e, t) { var n = Oe; return function () { var r = Ke(), i = Oe; try { return rt(n, !0), e.apply(this, arguments) } catch (e) { t && t(e) } finally { rt(i, !1), r && Be() } } } l(Te.prototype, { then: Me, _then: function (e, t) { Pe(this, new Re(null, null, e, t, Oe)) }, catch: function (e) { if (1 === arguments.length) return this.then(null, e); var t = arguments[0], n = arguments[1]; return "function" == typeof t ? this.then(null, (function (e) { return e instanceof t ? n(e) : Ue(e) })) : this.then(null, (function (e) { return e && e.name === t ? n(e) : Ue(e) })) }, finally: function (e) { return this.then((function (t) { return e(), t }), (function (t) { return e(), Ue(t) })) }, stack: { get: function () { if (this._stack) return this._stack; try { me = !0; var e = function e(t, n, r) { if (n.length === r) return n; var i = ""; if (!1 === t._state) { var o, a, s = t._value; null != s ? (o = s.name || "Error", a = s.message || s, i = K(s, 0)) : (o = s, a = ""), n.push(o + (a ? ": " + a : "") + i) } $ && ((i = K(t._stackHolder, 2)) && -1 === n.indexOf(i) && n.push(i), t._prev && e(t._prev, n, r)); return n }(this, [], 20).join("\nFrom previous: "); return null !== this._state && (this._stack = e), e } finally { me = !1 } } }, timeout: function (e, t) { var n = this; return e < 1 / 0 ? new Te((function (r, i) { var o = setTimeout((function () { return i(new Y.Timeout(t)) }), e); n.then(r, i).finally(clearTimeout.bind(null, o)) })) : this } }), "undefined" != typeof Symbol && Symbol.toStringTag && d(Te.prototype, Symbol.toStringTag, "Promise"), Se.env = it(), l(Te, { all: function () { var e = D.apply(null, arguments).map(et); return new Te((function (t, n) { 0 === e.length && t([]); var r = e.length; e.forEach((function (i, o) { return Te.resolve(i).then((function (n) { e[o] = n, --r || t(e) }), n) })) })) }, resolve: function (e) { if (e instanceof Te) return e; if (e && "function" == typeof e.then) return new Te((function (t, n) { e.then(t, n) })); var t = new Te(se, !0, e); return Le(t, Ee), t }, reject: Ue, race: function () { var e = D.apply(null, arguments).map(et); return new Te((function (t, n) { e.map((function (e) { return Te.resolve(e).then(t, n) })) })) }, PSD: { get: function () { return Oe }, set: function (e) { return Oe = e } }, newPSD: Xe, usePSD: ot, scheduler: { get: function () { return ge }, set: function (e) { ge = e } }, rejectionMapper: { get: function () { return Ce }, set: function (e) { Ce = e } }, follow: function (e, t) { return new Te((function (n, r) { return Xe((function (t, n) { var r = Oe; r.unhandleds = [], r.onunhandled = n, r.finalize = te((function () { var e = this; !function (e) { Ne.push((function t() { e(), Ne.splice(Ne.indexOf(t), 1) })), ++Ae, ge((function () { 0 == --Ae && He() }), []) }((function () { 0 === e.unhandleds.length ? t() : n(e.unhandleds[0]) })) }), r.finalize), e() }), t, n, r) })) } }); var Ge = { awaits: 0, echoes: 0, id: 0 }, ze = 0, qe = [], We = 0, Ye = 0, Je = 0; function Xe(e, t, n, r) { var i = Oe, o = Object.create(i); o.parent = i, o.ref = 0, o.global = !1, o.id = ++Je; var s = Se.env; o.env = ve ? { Promise: Te, PromiseProp: { value: Te, configurable: !0, writable: !0 }, all: Te.all, race: Te.race, resolve: Te.resolve, reject: Te.reject, nthen: st(s.nthen, o), gthen: st(s.gthen, o) } : {}, t && a(o, t), ++i.ref, o.finalize = function () { --this.parent.ref || this.parent.finalize() }; var c = ot(o, e, n, r); return 0 === o.ref && o.finalize(), c } function Qe() { return Ge.id || (Ge.id = ++ze), ++Ge.awaits, Ge.echoes += 7, Ge.id } function Ze(e) { !Ge.awaits || e && e !== Ge.id || (0 == --Ge.awaits && (Ge.id = 0), Ge.echoes = 7 * Ge.awaits) } function et(e) { return Ge.echoes && e && e.constructor === he ? (Qe(), e.then((function (e) { return Ze(), e }), (function (e) { return Ze(), ut(e) }))) : e } function tt(e) { ++Ye, Ge.echoes && 0 != --Ge.echoes || (Ge.echoes = Ge.id = 0), qe.push(Oe), rt(e, !0) } function nt() { var e = qe[qe.length - 1]; qe.pop(), rt(e, !1) } function rt(e, t) { var n, r = Oe; if ((t ? !Ge.echoes || We++ && e === Oe : !We || --We && e === Oe) || (n = t ? tt.bind(null, e) : nt, de.call(ue, n)), e !== Oe && (Oe = e, r === Se && (Se.env = it()), ve)) { var i = Se.env.Promise, a = e.env; le.then = a.nthen, i.prototype.then = a.gthen, (r.global || e.global) && (Object.defineProperty(o, "Promise", a.PromiseProp), i.all = a.all, i.race = a.race, i.resolve = a.resolve, i.reject = a.reject) } } function it() { var e = o.Promise; return ve ? { Promise: e, PromiseProp: Object.getOwnPropertyDescriptor(o, "Promise"), all: e.all, race: e.race, resolve: e.resolve, reject: e.reject, nthen: le.then, gthen: e.prototype.then } : {} } function ot(e, t, n, r, i) { var o = Oe; try { return rt(e, !0), t(n, r, i) } finally { rt(o, !1) } } function at(e, t, n) { return "function" != typeof e ? e : function () { var r = Oe; n && Qe(), rt(t, !0); try { return e.apply(this, arguments) } finally { rt(r, !1) } } } function st(e, t) { return function (n, r) { return e.call(this, at(n, t, !1), at(r, t, !1)) } } function ct(e, t) { var n; try { n = t.onuncatched(e) } catch (e) { } if (!1 !== n) try { var r, i = { promise: t, reason: e }; if (o.document && document.createEvent ? ((r = document.createEvent("Event")).initEvent("unhandledrejection", !0, !0), a(r, i)) : o.CustomEvent && a(r = new CustomEvent("unhandledrejection", { detail: i }), i), r && o.dispatchEvent && (dispatchEvent(r), !o.PromiseRejectionEvent && o.onunhandledrejection)) try { o.onunhandledrejection(r) } catch (e) { } r.defaultPrevented || console.warn("Unhandled rejection: " + (e.stack || e)) } catch (e) { } } var ut = Te.reject; function lt(e) { var t = {}, n = function (n, r) { if (r) { for (var i = arguments.length, o = new Array(i - 1); --i;)o[i - 1] = arguments[i]; return t[n].subscribe.apply(null, o), e } if ("string" == typeof n) return t[n] }; n.addEventType = s; for (var o = 1, a = arguments.length; o < a; ++o)s(arguments[o]); return n; function s(e, r, i) { if ("object" == typeof e) return c(e); r || (r = oe), i || (i = Q); var o = { subscribers: [], fire: i, subscribe: function (e) { -1 === o.subscribers.indexOf(e) && (o.subscribers.push(e), o.fire = r(o.fire, e)) }, unsubscribe: function (e) { o.subscribers = o.subscribers.filter((function (t) { return t !== e })), o.fire = o.subscribers.reduce(r, i) } }; return t[e] = n[e] = o, o } function c(e) { r(e).forEach((function (t) { var n = e[t]; if (i(n)) s(t, e[t][0], e[t][1]); else { if ("asap" !== n) throw new Y.InvalidArgument("Invalid event config"); var r = s(t, Z, (function () { for (var e = arguments.length, t = new Array(e); e--;)t[e] = arguments[e]; r.subscribers.forEach((function (e) { _((function () { e.apply(null, t) })) })) })) } })) } } var ft, dt = String.fromCharCode(65535), ht = function () { try { return IDBKeyRange.only([[]]), [[]] } catch (e) { return dt } }(), pt = "Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.", vt = [], mt = "undefined" != typeof navigator && /(MSIE|Trident|Edge)/.test(navigator.userAgent), yt = mt, gt = mt, _t = function (e) { return !/(dexie\.js|dexie\.min\.js)/.test(e) }; function bt(e, t) { var n, s, c, f, h, p = bt.dependencies, v = a({ addons: bt.addons, autoOpen: !0, indexedDB: p.indexedDB, IDBKeyRange: p.IDBKeyRange }, t), _ = v.addons, O = v.autoOpen, A = v.indexedDB, M = v.IDBKeyRange, R = this._dbSchema = {}, P = [], j = [], L = {}, B = null, H = null, U = !1, V = null, q = !1, W = "readwrite", J = this, X = new Te((function (e) { n = e })), te = new Te((function (e, t) { s = t })), oe = !0, se = !!Mt(A); function ce(e) { this._cfg = { version: e, storesSource: null, dbschema: {}, tables: {}, contentUpgrade: null }, this.stores({}) } function ue(e, t, n) { var i = J._createTransaction(W, j, R); i.create(t), i._completion.catch(n); var o = i._reject.bind(i); Xe((function () { Oe.trans = i, 0 === e ? (r(R).forEach((function (e) { le(t, e, R[e].primKey, R[e].indexes) })), Te.follow((function () { return J.on.populate.fire(i) })).catch(o)) : function (e, t, n) { var i = [], o = P.filter((function (t) { return t._cfg.version === e }))[0]; if (!o) throw new Y.Upgrade("Dexie specification of currently installed DB version is missing"); R = J._dbSchema = o._cfg.dbschema; var a = !1; function s() { return i.length ? Te.resolve(i.shift()(t.idbtrans)).then(s) : Te.resolve() } return P.filter((function (t) { return t._cfg.version > e })).forEach((function (e) { i.push((function () { var r = R, i = e._cfg.dbschema; De(r, n), De(i, n), R = J._dbSchema = i; var o = function (e, t) { var n = { del: [], add: [], change: [] }; for (var r in e) t[r] || n.del.push(r); for (r in t) { var i = e[r], o = t[r]; if (i) { var a = { name: r, def: o, recreate: !1, del: [], add: [], change: [] }; if (i.primKey.src !== o.primKey.src) a.recreate = !0, n.change.push(a); else { var s = i.idxByName, c = o.idxByName; for (var u in s) c[u] || a.del.push(u); for (u in c) { var l = s[u], f = c[u]; l ? l.src !== f.src && a.change.push(f) : a.add.push(f) } (a.del.length > 0 || a.add.length > 0 || a.change.length > 0) && n.change.push(a) } } else n.add.push([r, o]) } return n }(r, i); if (o.add.forEach((function (e) { le(n, e[0], e[1].primKey, e[1].indexes) })), o.change.forEach((function (e) { if (e.recreate) throw new Y.Upgrade("Not yet support for changing primary key"); var t = n.objectStore(e.name); e.add.forEach((function (e) { fe(t, e) })), e.change.forEach((function (e) { t.deleteIndex(e.name), fe(t, e) })), e.del.forEach((function (e) { t.deleteIndex(e) })) })), e._cfg.contentUpgrade) return a = !0, Te.follow((function () { e._cfg.contentUpgrade(t) })) })), i.push((function (t) { a && yt || function (e, t) { for (var n = 0; n < t.db.objectStoreNames.length; ++n) { var r = t.db.objectStoreNames[n]; null == e[r] && t.db.deleteObjectStore(r) } }(e._cfg.dbschema, t) })) })), s().then((function () { !function (e, t) { r(e).forEach((function (n) { t.db.objectStoreNames.contains(n) || le(t, n, e[n].primKey, e[n].indexes) })) }(R, n) })) }(e, i, t).catch(o) })) } function le(e, t, n, r) { var i = e.db.createObjectStore(t, n.keyPath ? { keyPath: n.keyPath, autoIncrement: n.auto } : { autoIncrement: n.auto }); return r.forEach((function (e) { fe(i, e) })), i } function fe(e, t) { e.createIndex(t.name, t.keyPath, { unique: t.unique, multiEntry: t.multi }) } function de(e, t, n) { var r = arguments.length; if (r < 2) throw new Y.InvalidArgument("Too few arguments"); for (var i = new Array(r - 1); --r;)i[r - 1] = arguments[r]; n = i.pop(); var o = k(i); return [e, o, n] } function ve(e, t, n) { this.name = e, this.schema = t, this._tx = n, this.hook = L[e] ? L[e].hook : lt(null, { creating: [ne, Q], reading: [ee, Z], updating: [ie, Q], deleting: [re, Q] }) } function me(e, t, n) { return (n ? St : Et)((function (n) { e.push(n), t && t() })) } function ye(e, t, n, r, i) { return new Te((function (o, a) { var s = n.length, c = s - 1; if (0 === s) return o(); if (r) { var u, l = St(a), f = xt(null); x((function () { for (var r = 0; r < s; ++r) { u = { onsuccess: null, onerror: null }; var a = n[r]; i.call(u, a[0], a[1], t); var d = e.delete(a[0]); d._hookCtx = u, d.onerror = l, d.onsuccess = r === c ? xt(o) : f } }), (function (e) { throw u.onerror && u.onerror(e), e })) } else for (var d = 0; d < s; ++d) { var h = e.delete(n[d]); h.onerror = Et(a), d === c && (h.onsuccess = Ve((function () { return o() }))) } })) } function ge(e, t, n, r) { var i = this; this.db = J, this.mode = e, this.storeNames = t, this.idbtrans = null, this.on = lt(this, "complete", "error", "abort"), this.parent = r || null, this.active = !0, this._reculock = 0, this._blockedFuncs = [], this._resolve = null, this._reject = null, this._waitingFor = null, this._waitingQueue = null, this._spinCount = 0, this._completion = new Te((function (e, t) { i._resolve = e, i._reject = t })), this._completion.then((function () { i.active = !1, i.on.complete.fire() }), (function (e) { var t = i.active; return i.active = !1, i.on.error.fire(e), i.parent ? i.parent._reject(e) : t && i.idbtrans && i.idbtrans.abort(), ut(e) })) } function _e(e, t, n) { this._ctx = { table: e, index: ":id" === t ? null : t, or: n } } function be(e, t) { var n = null, r = null; if (t) try { n = t() } catch (e) { r = e } var i = e._ctx, o = i.table; this._ctx = { table: o, index: i.index, isPrimKey: !i.index || o.schema.primKey.keyPath && i.index === o.schema.primKey.name, range: n, keysOnly: !1, dir: "next", unique: "", algorithm: null, filter: null, replayFilter: null, justLimit: !0, isMatch: null, offset: 0, limit: 1 / 0, error: r, or: i.or, valueMapper: o.hook.reading.fire } } function we(e, t) { return !(e.filter || e.algorithm || e.or) && (t ? e.justLimit : !e.replayFilter) } function xe(e, t) { return e._cfg.version - t._cfg.version } function Ee(e, t, n) { t.forEach((function (t) { var r = n[t]; e.forEach((function (e) { t in e || (e === ge.prototype || e instanceof ge ? d(e, t, { get: function () { return this.table(t) } }) : e[t] = new ve(t, r)) })) })) } function Ce(e, t, n, r, i, o) { var a = Ve(o ? function (e, t, r) { return n(o(e), t, r) } : n, i); e.onerror || (e.onerror = Et(i)), e.onsuccess = w(t ? function () { var n = e.result; if (n) { var o = function () { n.continue() }; t(n, (function (e) { o = e }), r, i) && a(n.value, n, (function (e) { o = e })), o() } else r() } : function () { var t = e.result; if (t) { var n = function () { t.continue() }; a(t.value, t, (function (e) { n = e })), n() } else r() }, i) } function Se(e, t) { return A.cmp(e, t) } function ke(e, t) { return Se(e, t) > 0 ? e : t } function Ae(e, t) { return A.cmp(e, t) } function Ne(e, t) { return A.cmp(t, e) } function Me(e, t) { return e < t ? -1 : e === t ? 0 : 1 } function Re(e, t) { return e > t ? -1 : e === t ? 0 : 1 } function Ie(e, t) { return e ? t ? function () { return e.apply(this, arguments) && t.apply(this, arguments) } : e : t } function De(e, t) { for (var n = t.db.objectStoreNames, r = 0; r < n.length; ++r) { var i = n[r], a = t.objectStore(i); c = "getAll" in a; for (var s = 0; s < a.indexNames.length; ++s) { var u = a.indexNames[s], l = a.index(u).keyPath, f = "string" == typeof l ? l : "[" + m(l).join("+") + "]"; if (e[i]) { var d = e[i].idxByName[f]; d && (d.name = u) } } } /Safari/.test(navigator.userAgent) && !/(Chrome\/|Edge\/)/.test(navigator.userAgent) && o.WorkerGlobalScope && o instanceof o.WorkerGlobalScope && [].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1] < 604 && (c = !1) } function $e(e) { J.on("blocked").fire(e), vt.filter((function (e) { return e.name === J.name && e !== J && !e._vcFired })).map((function (t) { return t.on("versionchange").fire(e) })) } this.version = function (e) { if (B || U) throw new Y.Schema("Cannot add version when database is open"); this.verno = Math.max(this.verno, e); var t = P.filter((function (t) { return t._cfg.version === e }))[0]; return t || (t = new ce(e), P.push(t), P.sort(xe), oe = !1, t) }, a(ce.prototype, { stores: function (e) { this._cfg.storesSource = this._cfg.storesSource ? a(this._cfg.storesSource, e) : e; var t = {}; P.forEach((function (e) { a(t, e._cfg.storesSource) })); var n = this._cfg.dbschema = {}; return this._parseStoresSpec(t, n), R = J._dbSchema = n, [L, J, ge.prototype].forEach((function (e) { for (var t in e) e[t] instanceof ve && delete e[t] })), Ee([L, J, ge.prototype, this._cfg.tables], r(n), n), j = r(n), this }, upgrade: function (e) { return this._cfg.contentUpgrade = e, this }, _parseStoresSpec: function (e, t) { r(e).forEach((function (n) { if (null !== e[n]) { var r = {}, o = function (e) { var t = []; return e.split(",").forEach((function (e) { var n = (e = e.trim()).replace(/([&*]|\+\+)/g, ""), r = /^\[/.test(n) ? n.match(/^\[(.*)\]$/)[1].split("+") : n; t.push(new At(n, r || null, /\&/.test(e), /\*/.test(e), /\+\+/.test(e), i(r), /\./.test(e))) })), t }(e[n]), a = o.shift(); if (a.multi) throw new Y.Schema("Primary key cannot be multi-valued"); a.keyPath && C(r, a.keyPath, a.auto ? 0 : a.keyPath), o.forEach((function (e) { if (e.auto) throw new Y.Schema("Only primary key can be marked as autoIncrement (++)"); if (!e.keyPath) throw new Y.Schema("Index must have a name and cannot be an empty string"); C(r, e.keyPath, e.compound ? e.keyPath.map((function () { return "" })) : "") })), t[n] = new Nt(n, a, o, r) } })) } }), this._allTables = L, this._createTransaction = function (e, t, n, r) { return new ge(e, t, n, r) }, this._whenReady = function (e) { return q || Oe.letThrough ? e() : new Te((function (e, t) { if (!U) { if (!O) return void t(new Y.DatabaseClosed); J.open().catch(Q) } X.then(e, t) })).then(e) }, this.verno = 0, this.open = function () { if (U || B) return X.then((function () { return H ? ut(H) : J })); $ && (te._stackHolder = F()), U = !0, H = null, q = !1; var t = n, i = null; return Te.race([te, new Te((function (t, n) { if (!A) throw new Y.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using old Safari versions, make sure to include indexedDB polyfill."); var o = oe ? A.open(e) : A.open(e, Math.round(10 * J.verno)); if (!o) throw new Y.MissingAPI("IndexedDB API not available"); o.onerror = Et(n), o.onblocked = Ve($e), o.onupgradeneeded = Ve((function (t) { if (i = o.transaction, oe && !J._allowEmptyDB) { o.onerror = Ot, i.abort(), o.result.close(); var r = A.deleteDatabase(e); r.onsuccess = r.onerror = Ve((function () { n(new Y.NoSuchDatabase("Database " + e + " doesnt exist")) })) } else { i.onerror = Et(n), ue((t.oldVersion > Math.pow(2, 62) ? 0 : t.oldVersion) / 10, i, n) } }), n), o.onsuccess = Ve((function () { if (i = null, B = o.result, vt.push(J), oe) !function () { if (J.verno = B.version / 10, J._dbSchema = R = {}, 0 === (j = m(B.objectStoreNames, 0)).length) return; var e = B.transaction(Tt(j), "readonly"); j.forEach((function (t) { for (var n = e.objectStore(t), r = n.keyPath, i = r && "string" == typeof r && -1 !== r.indexOf("."), o = new At(r, r || "", !1, !1, !!n.autoIncrement, r && "string" != typeof r, i), a = [], s = 0; s < n.indexNames.length; ++s) { var c = n.index(n.indexNames[s]); i = (r = c.keyPath) && "string" == typeof r && -1 !== r.indexOf("."); var u = new At(c.name, r, !!c.unique, !!c.multiEntry, !1, r && "string" != typeof r, i); a.push(u) } R[t] = new Nt(t, o, a, {}) })), Ee([L], r(R), R) }(); else if (B.objectStoreNames.length > 0) try { De(R, B.transaction(Tt(B.objectStoreNames), "readonly")) } catch (e) { } B.onversionchange = Ve((function (e) { J._vcFired = !0, J.on("versionchange").fire(e) })), se || "__dbnames" === e || ft.dbnames.put({ name: e }).catch(Q), t() }), n) }))]).then((function () { return V = [], Te.resolve(bt.vip(J.on.ready.fire)).then((function e() { if (V.length > 0) { var t = V.reduce(ae, Q); return V = [], Te.resolve(bt.vip(t)).then(e) } })) })).finally((function () { V = null })).then((function () { return U = !1, J })).catch((function (e) { try { i && i.abort() } catch (e) { } return U = !1, J.close(), ut(H = e) })).finally((function () { q = !0, t() })) }, this.close = function () { var e = vt.indexOf(J); if (e >= 0 && vt.splice(e, 1), B) { try { B.close() } catch (e) { } B = null } O = !1, H = new Y.DatabaseClosed, U && s(H), X = new Te((function (e) { n = e })), te = new Te((function (e, t) { s = t })) }, this.delete = function () { var t = arguments.length > 0; return new Te((function (n, r) { if (t) throw new Y.InvalidArgument("Arguments not allowed in db.delete()"); function i() { J.close(); var t = A.deleteDatabase(e); t.onsuccess = Ve((function () { se || ft.dbnames.delete(e).catch(Q), n() })), t.onerror = Et(r), t.onblocked = $e } U ? X.then(i) : i() })) }, this.backendDB = function () { return B }, this.isOpen = function () { return null !== B }, this.hasBeenClosed = function () { return H && H instanceof Y.DatabaseClosed }, this.hasFailed = function () { return null !== H }, this.dynamicallyOpened = function () { return oe }, this.name = e, l(this, { tables: { get: function () { return r(L).map((function (e) { return L[e] })) } } }), this.on = lt(this, "populate", "blocked", "versionchange", { ready: [ae, Q] }), this.on.ready.subscribe = y(this.on.ready.subscribe, (function (e) { return function (t, n) { bt.vip((function () { q ? (H || Te.resolve().then(t), n && e(t)) : V ? (V.push(t), n && e(t)) : (e(t), n || e((function e() { J.on.ready.unsubscribe(t), J.on.ready.unsubscribe(e) }))) })) } })), this.transaction = function () { var e = de.apply(this, arguments); return this._transaction.apply(this, e) }, this._transaction = function (e, t, n) { var r = Oe.trans; r && r.db === J && -1 === e.indexOf("!") || (r = null); var i = -1 !== e.indexOf("?"); e = e.replace("!", "").replace("?", ""); try { var o = t.map((function (e) { var t = e instanceof ve ? e.name : e; if ("string" != typeof t) throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed"); return t })); if ("r" == e || "readonly" == e) e = "readonly"; else { if ("rw" != e && e != W) throw new Y.InvalidArgument("Invalid transaction mode: " + e); e = W } if (r) { if ("readonly" === r.mode && e === W) { if (!i) throw new Y.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY"); r = null } r && o.forEach((function (e) { if (r && -1 === r.storeNames.indexOf(e)) { if (!i) throw new Y.SubTransaction("Table " + e + " not included in parent transaction."); r = null } })), i && r && !r.active && (r = null) } } catch (e) { return r ? r._promise(null, (function (t, n) { n(e) })) : ut(e) } return r ? r._promise(e, a, "lock") : Oe.trans ? ot(Oe.transless, (function () { return J._whenReady(a) })) : J._whenReady(a); function a() { return Te.resolve().then((function () { var t, i = Oe.transless || Oe, a = J._createTransaction(e, o, R, r), s = { trans: a, transless: i }; r ? a.idbtrans = r.idbtrans : a.create(), n.constructor === pe && Qe(); var c = Te.follow((function () { if (t = n.call(a, a)) if (t.constructor === he) { var e = Ze.bind(null, null); t.then(e, e) } else "function" == typeof t.next && "function" == typeof t.throw && (t = kt(t)) }), s); return (t && "function" == typeof t.then ? Te.resolve(t).then((function (e) { return a.active ? e : ut(new Y.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn")) })) : c.then((function () { return t }))).then((function (e) { return r && a._resolve(), a._completion.then((function () { return e })) })).catch((function (e) { return a._reject(e), ut(e) })) })) } }, this.table = function (e) { if (!u(L, e)) throw new Y.InvalidTable("Table " + e + " does not exist"); return L[e] }, l(ve.prototype, { _trans: function (e, t, n) { var r = this._tx || Oe.trans; return r && r.db === J ? r === Oe.trans ? r._promise(e, t, n) : Xe((function () { return r._promise(e, t, n) }), { trans: r, transless: Oe.transless || Oe }) : function e(t, n, r) { if (q || Oe.letThrough) { var i = J._createTransaction(t, n, R); try { i.create() } catch (e) { return ut(e) } return i._promise(t, (function (e, t) { return Xe((function () { return Oe.trans = i, r(e, t, i) })) })).then((function (e) { return i._completion.then((function () { return e })) })) } if (!U) { if (!O) return ut(new Y.DatabaseClosed); J.open().catch(Q) } return X.then((function () { return e(t, n, r) })) }(e, [this.name], t) }, _idbstore: function (e, t, n) { var r = this.name; return this._trans(e, (function (e, n, i) { if (-1 === i.storeNames.indexOf(r)) throw new Y.NotFound("Table" + r + " not part of transaction"); return t(e, n, i.idbtrans.objectStore(r), i) }), n) }, get: function (e, t) { if (e && e.constructor === Object) return this.where(e).first(t); var n = this; return this._idbstore("readonly", (function (t, r, i) { var o = i.get(e); o.onerror = Et(r), o.onsuccess = Ve((function () { t(n.hook.reading.fire(o.result)) }), r) })).then(t) }, where: function (e) { if ("string" == typeof e) return new _e(this, e); if (i(e)) return new _e(this, "[" + e.join("+") + "]"); var t = r(e); if (1 === t.length) return this.where(t[0]).equals(e[t[0]]); var n = this.schema.indexes.concat(this.schema.primKey).filter((function (e) { return e.compound && t.every((function (t) { return e.keyPath.indexOf(t) >= 0 })) && e.keyPath.every((function (e) { return t.indexOf(e) >= 0 })) }))[0]; if (n && ht !== dt) return this.where(n.name).equals(n.keyPath.map((function (t) { return e[t] }))); n || console.warn("The query " + JSON.stringify(e) + " on " + this.name + " would benefit of a compound index [" + t.join("+") + "]"); var o = this.schema.idxByName, a = t.reduce((function (t, n) { return [t[0] || o[n], t[0] || !o[n] ? Ie(t[1], (function (t) { return "" + E(t, n) == "" + e[n] })) : t[1]] }), [null, null]), s = a[0]; return s ? this.where(s.name).equals(e[s.keyPath]).filter(a[1]) : n ? this.filter(a[1]) : this.where(t).equals("") }, count: function (e) { return this.toCollection().count(e) }, offset: function (e) { return this.toCollection().offset(e) }, limit: function (e) { return this.toCollection().limit(e) }, reverse: function () { return this.toCollection().reverse() }, filter: function (e) { return this.toCollection().and(e) }, each: function (e) { return this.toCollection().each(e) }, toArray: function (e) { return this.toCollection().toArray(e) }, orderBy: function (e) { return new be(new _e(this, i(e) ? "[" + e.join("+") + "]" : e)) }, toCollection: function () { return new be(new _e(this)) }, mapToClass: function (e, t) { this.schema.mappedClass = e; var n = Object.create(e.prototype); t && wt(n, t), this.schema.instanceTemplate = n; var r = function (t) { if (!t) return t; var n = Object.create(e.prototype); for (var r in t) if (u(t, r)) try { n[r] = t[r] } catch (e) { } return n }; return this.schema.readHook && this.hook.reading.unsubscribe(this.schema.readHook), this.schema.readHook = r, this.hook("reading", r), e }, defineClass: function (e) { return this.mapToClass(bt.defineClass(e), e) }, bulkDelete: function (e) { return this.hook.deleting.fire === Q ? this._idbstore(W, (function (t, n, r, i) { t(ye(r, i, e, !1, Q)) })) : this.where(":id").anyOf(e).delete().then((function () { })) }, bulkPut: function (e, t) { var n = this; return this._idbstore(W, (function (r, i, o) { if (!o.keyPath && !n.schema.primKey.auto && !t) throw new Y.InvalidArgument("bulkPut() with non-inbound keys requires keys array in second argument"); if (o.keyPath && t) throw new Y.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys"); if (t && t.length !== e.length) throw new Y.InvalidArgument("Arguments objects and keys must have the same length"); if (0 === e.length) return r(); var a, s, c = function (e) { 0 === u.length ? r(e) : i(new z(n.name + ".bulkPut(): " + u.length + " of " + l + " operations failed", u)) }, u = [], l = e.length, f = n; if (n.hook.creating.fire === Q && n.hook.updating.fire === Q) { s = me(u); for (var d = 0, h = e.length; d < h; ++d)(a = t ? o.put(e[d], t[d]) : o.put(e[d])).onerror = s; a.onerror = me(u, c), a.onsuccess = Ct(c) } else { var p = t || o.keyPath && e.map((function (e) { return E(e, o.keyPath) })), v = p && b(p, (function (t, n) { return null != t && [t, e[n]] })); (p ? f.where(":id").anyOf(p.filter((function (e) { return null != e }))).modify((function () { this.value = v[this.primKey], v[this.primKey] = null })).catch(G, (function (e) { u = e.failures })).then((function () { for (var n = [], r = t && [], i = p.length - 1; i >= 0; --i) { var o = p[i]; (null == o || v[o]) && (n.push(e[i]), t && r.push(o), null != o && (v[o] = null)) } return n.reverse(), t && r.reverse(), f.bulkAdd(n, r) })).then((function (e) { var t = p[p.length - 1]; return null != t ? t : e })) : f.bulkAdd(e)).then(c).catch(z, (function (e) { u = u.concat(e.failures), c() })).catch(i) } }), "locked") }, bulkAdd: function (e, t) { var n = this, r = this.hook.creating.fire; return this._idbstore(W, (function (i, o, a, s) { if (!a.keyPath && !n.schema.primKey.auto && !t) throw new Y.InvalidArgument("bulkAdd() with non-inbound keys requires keys array in second argument"); if (a.keyPath && t) throw new Y.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys"); if (t && t.length !== e.length) throw new Y.InvalidArgument("Arguments objects and keys must have the same length"); if (0 === e.length) return i(); function c(e) { 0 === d.length ? i(e) : o(new z(n.name + ".bulkAdd(): " + d.length + " of " + h + " operations failed", d)) } var u, l, f, d = [], h = e.length; if (r !== Q) { var p, v = a.keyPath; l = me(d, null, !0), f = xt(null), x((function () { for (var n = 0, i = e.length; n < i; ++n) { p = { onerror: null, onsuccess: null }; var o = t && t[n], c = e[n], d = t ? o : v ? E(c, v) : void 0, h = r.call(p, d, c, s); null == d && null != h && (v ? C(c = N(c), v, h) : o = h), (u = null != o ? a.add(c, o) : a.add(c))._hookCtx = p, n < i - 1 && (u.onerror = l, p.onsuccess && (u.onsuccess = f)) } }), (function (e) { throw p.onerror && p.onerror(e), e })), u.onerror = me(d, c, !0), u.onsuccess = xt(c) } else { l = me(d); for (var m = 0, y = e.length; m < y; ++m)(u = t ? a.add(e[m], t[m]) : a.add(e[m])).onerror = l; u.onerror = me(d, c), u.onsuccess = Ct(c) } })) }, add: function (e, t) { var n = this.hook.creating.fire; return this._idbstore(W, (function (r, i, o, a) { var s = { onsuccess: null, onerror: null }; if (n !== Q) { var c = null != t ? t : o.keyPath ? E(e, o.keyPath) : void 0, u = n.call(s, c, e, a); null == c && null != u && (o.keyPath ? C(e, o.keyPath, u) : t = u) } try { var l = null != t ? o.add(e, t) : o.add(e); l._hookCtx = s, l.onerror = St(i), l.onsuccess = xt((function (t) { var n = o.keyPath; n && C(e, n, t), r(t) })) } catch (e) { throw s.onerror && s.onerror(e), e } })) }, put: function (e, t) { var n = this, r = this.hook.creating.fire, i = this.hook.updating.fire; if (r !== Q || i !== Q) { var o = this.schema.primKey.keyPath, a = void 0 !== t ? t : o && E(e, o); return null == a ? this.add(e) : (e = N(e), this._trans(W, (function () { return n.where(":id").equals(a).modify((function () { this.value = e })).then((function (r) { return 0 === r ? n.add(e, t) : a })) }), "locked")) } return this._idbstore(W, (function (n, r, i) { var o = void 0 !== t ? i.put(e, t) : i.put(e); o.onerror = Et(r), o.onsuccess = Ve((function (t) { var r = i.keyPath; r && C(e, r, t.target.result), n(o.result) })) })) }, delete: function (e) { return this.hook.deleting.subscribers.length ? this.where(":id").equals(e).delete() : this._idbstore(W, (function (t, n, r) { var i = r.delete(e); i.onerror = Et(n), i.onsuccess = Ve((function () { t(i.result) })) })) }, clear: function () { return this.hook.deleting.subscribers.length ? this.toCollection().delete() : this._idbstore(W, (function (e, t, n) { var r = n.clear(); r.onerror = Et(t), r.onsuccess = Ve((function () { e(r.result) })) })) }, update: function (e, t) { if ("object" != typeof t || i(t)) throw new Y.InvalidArgument("Modifications must be an object."); if ("object" != typeof e || i(e)) return this.where(":id").equals(e).modify(t); r(t).forEach((function (n) { C(e, n, t[n]) })); var n = E(e, this.schema.primKey.keyPath); return void 0 === n ? ut(new Y.InvalidArgument("Given object does not contain its primary key")) : this.where(":id").equals(n).modify(t) } }), l(ge.prototype, { _lock: function () { return g(!Oe.global), ++this._reculock, 1 !== this._reculock || Oe.global || (Oe.lockOwnerFor = this), this }, _unlock: function () { if (g(!Oe.global), 0 == --this._reculock) for (Oe.global || (Oe.lockOwnerFor = null); this._blockedFuncs.length > 0 && !this._locked();) { var e = this._blockedFuncs.shift(); try { ot(e[1], e[0]) } catch (e) { } } return this }, _locked: function () { return this._reculock && Oe.lockOwnerFor !== this }, create: function (e) { var t = this; if (!this.mode) return this; if (g(!this.idbtrans), !e && !B) switch (H && H.name) { case "DatabaseClosedError": throw new Y.DatabaseClosed(H); case "MissingAPIError": throw new Y.MissingAPI(H.message, H); default: throw new Y.OpenFailed(H) }if (!this.active) throw new Y.TransactionInactive; return g(null === this._completion._state), (e = this.idbtrans = e || B.transaction(Tt(this.storeNames), this.mode)).onerror = Ve((function (n) { Ot(n), t._reject(e.error) })), e.onabort = Ve((function (n) { Ot(n), t.active && t._reject(new Y.Abort(e.error)), t.active = !1, t.on("abort").fire(n) })), e.oncomplete = Ve((function () { t.active = !1, t._resolve() })), this }, _promise: function (e, t, n) { var r = this; if (e === W && this.mode !== W) return ut(new Y.ReadOnly("Transaction is readonly")); if (!this.active) return ut(new Y.TransactionInactive); if (this._locked()) return new Te((function (i, o) { r._blockedFuncs.push([function () { r._promise(e, t, n).then(i, o) }, Oe]) })); if (n) return Xe((function () { var e = new Te((function (e, n) { r._lock(); var i = t(e, n, r); i && i.then && i.then(e, n) })); return e.finally((function () { return r._unlock() })), e._lib = !0, e })); var i = new Te((function (e, n) { var i = t(e, n, r); i && i.then && i.then(e, n) })); return i._lib = !0, i }, _root: function () { return this.parent ? this.parent._root() : this }, waitFor: function (e) { var t = this._root(); if (e = Te.resolve(e), t._waitingFor) t._waitingFor = t._waitingFor.then((function () { return e })); else { t._waitingFor = e, t._waitingQueue = []; var n = t.idbtrans.objectStore(t.storeNames[0]); !function e() { for (++t._spinCount; t._waitingQueue.length;)t._waitingQueue.shift()(); t._waitingFor && (n.get(-1 / 0).onsuccess = e) }() } var r = t._waitingFor; return new Te((function (n, i) { e.then((function (e) { return t._waitingQueue.push(Ve(n.bind(null, e))) }), (function (e) { return t._waitingQueue.push(Ve(i.bind(null, e))) })).finally((function () { t._waitingFor === r && (t._waitingFor = null) })) })) }, abort: function () { this.active && this._reject(new Y.Abort), this.active = !1 }, tables: { get: (f = "Transaction.tables", h = function () { return L }, function () { return console.warn(f + " is deprecated. See https://github.com/dfahlander/Dexie.js/wiki/Deprecations. " + K(F(), 1)), h.apply(this, arguments) }) }, table: function (e) { return new ve(e, J.table(e).schema, this) } }), l(_e.prototype, (function () { function e(e, t, n) { var r = e instanceof _e ? new be(e) : e; return r._ctx.error = n ? new n(t) : new TypeError(t), r } function t(e) { return new be(e, (function () { return M.only("") })).limit(0) } function n(e, t, n, r, i, o) { for (var a = Math.min(e.length, r.length), s = -1, c = 0; c < a; ++c) { var u = t[c]; if (u !== r[c]) return i(e[c], n[c]) < 0 ? e.substr(0, c) + n[c] + n.substr(c + 1) : i(e[c], r[c]) < 0 ? e.substr(0, c) + r[c] + n.substr(c + 1) : s >= 0 ? e.substr(0, s) + t[s] + n.substr(s + 1) : null; i(e[c], u) < 0 && (s = c) } return a < r.length && "next" === o ? e + n.substr(e.length) : a < e.length && "prev" === o ? e.substr(0, n.length) : s < 0 ? null : e.substr(0, s) + r[s] + n.substr(s + 1) } function r(t, r, i, o) { var a, s, c, u, l, f, d, h = i.length; if (!i.every((function (e) { return "string" == typeof e }))) return e(t, "String expected."); function p(e) { a = function (e) { return "next" === e ? function (e) { return e.toUpperCase() } : function (e) { return e.toLowerCase() } }(e), s = function (e) { return "next" === e ? function (e) { return e.toLowerCase() } : function (e) { return e.toUpperCase() } }(e), c = "next" === e ? Me : Re; var t = i.map((function (e) { return { lower: s(e), upper: a(e) } })).sort((function (e, t) { return c(e.lower, t.lower) })); u = t.map((function (e) { return e.upper })), l = t.map((function (e) { return e.lower })), f = e, d = "next" === e ? "" : o } p("next"); var v = new be(t, (function () { return M.bound(u[0], l[h - 1] + o) })); v._ondirectionchange = function (e) { p(e) }; var m = 0; return v._addAlgorithm((function (e, t, i) { var o = e.key; if ("string" != typeof o) return !1; var a = s(o); if (r(a, l, m)) return !0; for (var p = null, v = m; v < h; ++v) { var y = n(o, a, u[v], l[v], c, f); null === y && null === p ? m = v + 1 : (null === p || c(p, y) > 0) && (p = y) } return t(null !== p ? function () { e.continue(p + d) } : i), !1 })), v } return { between: function (n, r, i, o) { i = !1 !== i, o = !0 === o; try { return Se(n, r) > 0 || 0 === Se(n, r) && (i || o) && (!i || !o) ? t(this) : new be(this, (function () { return M.bound(n, r, !i, !o) })) } catch (t) { return e(this, pt) } }, equals: function (e) { return new be(this, (function () { return M.only(e) })) }, above: function (e) { return new be(this, (function () { return M.lowerBound(e, !0) })) }, aboveOrEqual: function (e) { return new be(this, (function () { return M.lowerBound(e) })) }, below: function (e) { return new be(this, (function () { return M.upperBound(e, !0) })) }, belowOrEqual: function (e) { return new be(this, (function () { return M.upperBound(e) })) }, startsWith: function (t) { return "string" != typeof t ? e(this, "String expected.") : this.between(t, t + dt, !0, !0) }, startsWithIgnoreCase: function (e) { return "" === e ? this.startsWith(e) : r(this, (function (e, t) { return 0 === e.indexOf(t[0]) }), [e], dt) }, equalsIgnoreCase: function (e) { return r(this, (function (e, t) { return e === t[0] }), [e], "") }, anyOfIgnoreCase: function () { var e = D.apply(I, arguments); return 0 === e.length ? t(this) : r(this, (function (e, t) { return -1 !== t.indexOf(e) }), e, "") }, startsWithAnyOfIgnoreCase: function () { var e = D.apply(I, arguments); return 0 === e.length ? t(this) : r(this, (function (e, t) { return t.some((function (t) { return 0 === e.indexOf(t) })) }), e, dt) }, anyOf: function () { var n = D.apply(I, arguments), r = Ae; try { n.sort(r) } catch (t) { return e(this, pt) } if (0 === n.length) return t(this); var i = new be(this, (function () { return M.bound(n[0], n[n.length - 1]) })); i._ondirectionchange = function (e) { r = "next" === e ? Ae : Ne, n.sort(r) }; var o = 0; return i._addAlgorithm((function (e, t, i) { for (var a = e.key; r(a, n[o]) > 0;)if (++o === n.length) return t(i), !1; return 0 === r(a, n[o]) || (t((function () { e.continue(n[o]) })), !1) })), i }, notEqual: function (e) { return this.inAnyRange([[-1 / 0, e], [e, ht]], { includeLowers: !1, includeUppers: !1 }) }, noneOf: function () { var t = D.apply(I, arguments); if (0 === t.length) return new be(this); try { t.sort(Ae) } catch (t) { return e(this, pt) } var n = t.reduce((function (e, t) { return e ? e.concat([[e[e.length - 1][1], t]]) : [[-1 / 0, t]] }), null); return n.push([t[t.length - 1], ht]), this.inAnyRange(n, { includeLowers: !1, includeUppers: !1 }) }, inAnyRange: function (n, r) { if (0 === n.length) return t(this); if (!n.every((function (e) { return void 0 !== e[0] && void 0 !== e[1] && Ae(e[0], e[1]) <= 0 }))) return e(this, "First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower", Y.InvalidArgument); var i = !r || !1 !== r.includeLowers, o = r && !0 === r.includeUppers; var a, s = Ae; function c(e, t) { return s(e[0], t[0]) } try { (a = n.reduce((function (e, t) { for (var n = 0, r = e.length; n < r; ++n) { var i = e[n]; if (Se(t[0], i[1]) < 0 && Se(t[1], i[0]) > 0) { i[0] = (o = i[0], a = t[0], Se(o, a) < 0 ? o : a), i[1] = ke(i[1], t[1]); break } } var o, a; return n === r && e.push(t), e }), [])).sort(c) } catch (t) { return e(this, pt) } var u = 0, l = o ? function (e) { return Ae(e, a[u][1]) > 0 } : function (e) { return Ae(e, a[u][1]) >= 0 }, f = i ? function (e) { return Ne(e, a[u][0]) > 0 } : function (e) { return Ne(e, a[u][0]) >= 0 }; var d = l, h = new be(this, (function () { return M.bound(a[0][0], a[a.length - 1][1], !i, !o) })); return h._ondirectionchange = function (e) { "next" === e ? (d = l, s = Ae) : (d = f, s = Ne), a.sort(c) }, h._addAlgorithm((function (e, t, n) { for (var r = e.key; d(r);)if (++u === a.length) return t(n), !1; return !!function (e) { return !l(e) && !f(e) }(r) || (0 === Se(r, a[u][1]) || 0 === Se(r, a[u][0]) || t((function () { s === Ae ? e.continue(a[u][0]) : e.continue(a[u][1]) })), !1) })), h }, startsWithAnyOf: function () { var n = D.apply(I, arguments); return n.every((function (e) { return "string" == typeof e })) ? 0 === n.length ? t(this) : this.inAnyRange(n.map((function (e) { return [e, e + dt] }))) : e(this, "startsWithAnyOf() only works with strings") } } })), l(be.prototype, (function () { function e(e, t) { e.filter = Ie(e.filter, t) } function t(e, t, n) { var r = e.replayFilter; e.replayFilter = r ? function () { return Ie(r(), t()) } : t, e.justLimit = n && !r } function n(e, t) { if (e.isPrimKey) return t; var n = e.table.schema.idxByName[e.index]; if (!n) throw new Y.Schema("KeyPath " + e.index + " on object store " + t.name + " is not indexed"); return t.index(n.name) } function i(e, t) { var r = n(e, t); return e.keysOnly && "openKeyCursor" in r ? r.openKeyCursor(e.range || null, e.dir + e.unique) : r.openCursor(e.range || null, e.dir + e.unique) } function o(e, t, n, r, o) { var a = e.replayFilter ? Ie(e.filter, e.replayFilter()) : e.filter; e.or ? function () { var s = {}, c = 0; function l() { 2 == ++c && n() } function f(e, n, i) { if (!a || a(n, i, l, r)) { var o = n.primaryKey, c = "" + o; "[object ArrayBuffer]" === c && (c = "" + new Uint8Array(o)), u(s, c) || (s[c] = !0, t(e, n, i)) } } e.or._iterate(f, l, r, o), Ce(i(e, o), e.algorithm, f, l, r, !e.keysOnly && e.valueMapper) }() : Ce(i(e, o), Ie(e.algorithm, a), t, n, r, !e.keysOnly && e.valueMapper) } return { _read: function (e, t) { var n = this._ctx; return n.error ? n.table._trans(null, ut.bind(null, n.error)) : n.table._idbstore("readonly", e).then(t) }, _write: function (e) { var t = this._ctx; return t.error ? t.table._trans(null, ut.bind(null, t.error)) : t.table._idbstore(W, e, "locked") }, _addAlgorithm: function (e) { var t = this._ctx; t.algorithm = Ie(t.algorithm, e) }, _iterate: function (e, t, n, r) { return o(this._ctx, e, t, n, r) }, clone: function (e) { var t = Object.create(this.constructor.prototype), n = Object.create(this._ctx); return e && a(n, e), t._ctx = n, t }, raw: function () { return this._ctx.valueMapper = null, this }, each: function (e) { var t = this._ctx; return this._read((function (n, r, i) { o(t, e, n, r, i) })) }, count: function (e) { var t = this._ctx; if (we(t, !0)) return this._read((function (e, r, i) { var o = n(t, i), a = t.range ? o.count(t.range) : o.count(); a.onerror = Et(r), a.onsuccess = function (n) { e(Math.min(n.target.result, t.limit)) } }), e); var r = 0; return this._read((function (e, n, i) { o(t, (function () { return ++r, !1 }), (function () { e(r) }), n, i) }), e) }, sortBy: function (e, t) { var n = e.split(".").reverse(), r = n[0], i = n.length - 1; function o(e, t) { return t ? o(e[n[t]], t - 1) : e[r] } var a = "next" === this._ctx.dir ? 1 : -1; function s(e, t) { var n = o(e, i), r = o(t, i); return n < r ? -a : n > r ? a : 0 } return this.toArray((function (e) { return e.sort(s) })).then(t) }, toArray: function (e) { var t = this._ctx; return this._read((function (e, r, i) { if (c && "next" === t.dir && we(t, !0) && t.limit > 0) { var a = t.table.hook.reading.fire, s = n(t, i), u = t.limit < 1 / 0 ? s.getAll(t.range, t.limit) : s.getAll(t.range); u.onerror = Et(r), u.onsuccess = Ct(a === Z ? e : function (t) { try { e(t.map(a)) } catch (e) { r(e) } }) } else { var l = []; o(t, (function (e) { l.push(e) }), (function () { e(l) }), r, i) } }), e) }, offset: function (e) { var n = this._ctx; return e <= 0 || (n.offset += e, we(n) ? t(n, (function () { var t = e; return function (e, n) { return 0 === t || (1 === t ? (--t, !1) : (n((function () { e.advance(t), t = 0 })), !1)) } })) : t(n, (function () { var t = e; return function () { return --t < 0 } }))), this }, limit: function (e) { return this._ctx.limit = Math.min(this._ctx.limit, e), t(this._ctx, (function () { var t = e; return function (e, n, r) { return --t <= 0 && n(r), t >= 0 } }), !0), this }, until: function (t, n) { return e(this._ctx, (function (e, r, i) { return !t(e.value) || (r(i), n) })), this }, first: function (e) { return this.limit(1).toArray((function (e) { return e[0] })).then(e) }, last: function (e) { return this.reverse().first(e) }, filter: function (t) { return e(this._ctx, (function (e) { return t(e.value) })), function (e, t) { e.isMatch = Ie(e.isMatch, t) }(this._ctx, t), this }, and: function (e) { return this.filter(e) }, or: function (e) { return new _e(this._ctx.table, e, this) }, reverse: function () { return this._ctx.dir = "prev" === this._ctx.dir ? "next" : "prev", this._ondirectionchange && this._ondirectionchange(this._ctx.dir), this }, desc: function () { return this.reverse() }, eachKey: function (e) { var t = this._ctx; return t.keysOnly = !t.isMatch, this.each((function (t, n) { e(n.key, n) })) }, eachUniqueKey: function (e) { return this._ctx.unique = "unique", this.eachKey(e) }, eachPrimaryKey: function (e) { var t = this._ctx; return t.keysOnly = !t.isMatch, this.each((function (t, n) { e(n.primaryKey, n) })) }, keys: function (e) { var t = this._ctx; t.keysOnly = !t.isMatch; var n = []; return this.each((function (e, t) { n.push(t.key) })).then((function () { return n })).then(e) }, primaryKeys: function (e) { var t = this._ctx; if (c && "next" === t.dir && we(t, !0) && t.limit > 0) return this._read((function (e, r, i) { var o = n(t, i), a = t.limit < 1 / 0 ? o.getAllKeys(t.range, t.limit) : o.getAllKeys(t.range); a.onerror = Et(r), a.onsuccess = Ct(e) })).then(e); t.keysOnly = !t.isMatch; var r = []; return this.each((function (e, t) { r.push(t.primaryKey) })).then((function () { return r })).then(e) }, uniqueKeys: function (e) { return this._ctx.unique = "unique", this.keys(e) }, firstKey: function (e) { return this.limit(1).keys((function (e) { return e[0] })).then(e) }, lastKey: function (e) { return this.reverse().firstKey(e) }, distinct: function () { var t = this._ctx, n = t.index && t.table.schema.idxByName[t.index]; if (!n || !n.multi) return this; var r = {}; return e(this._ctx, (function (e) { var t = e.primaryKey.toString(), n = u(r, t); return r[t] = !0, !n })), this }, modify: function (e) { var t = this, n = this._ctx.table.hook, i = n.updating.fire, o = n.deleting.fire; return this._write((function (n, s, c, l) { var f; if ("function" == typeof e) f = i === Q && o === Q ? e : function (t) { var n = N(t); if (!1 === e.call(this, t, this)) return !1; if (u(this, "value")) { var a = T(n, this.value), s = i.call(this, a, this.primKey, n, l); s && (t = this.value, r(s).forEach((function (e) { C(t, e, s[e]) }))) } else o.call(this, this.primKey, t, l) }; else if (i === Q) { var d = r(e), h = d.length; f = function (t) { for (var n = !1, r = 0; r < h; ++r) { var i = d[r], o = e[i]; E(t, i) !== o && (C(t, i, o), n = !0) } return n } } else { var p = e; e = S(p), f = function (t) { var n = !1, o = i.call(this, e, this.primKey, N(t), l); return o && a(e, o), r(e).forEach((function (r) { var i = e[r]; E(t, r) !== i && (C(t, r, i), n = !0) })), o && (e = S(p)), n } } var v = 0, m = 0, y = !1, g = [], _ = [], b = null; function w(e) { return e && (g.push(e), _.push(b)), s(new G("Error modifying one or more objects", g, m, _)) } function O() { y && m + g.length === v && (g.length > 0 ? w() : n(m)) } t.clone().raw()._iterate((function (e, t) { b = t.primaryKey; var n = { primKey: t.primaryKey, value: e, onsuccess: null, onerror: null }; function r(e) { return g.push(e), _.push(n.primKey), O(), !0 } if (!1 !== f.call(n, e, n)) { var i = !u(n, "value"); ++v, x((function () { var e = i ? t.delete() : t.update(n.value); e._hookCtx = n, e.onerror = St(r), e.onsuccess = xt((function () { ++m, O() })) }), r) } else n.onsuccess && n.onsuccess(n.value) }), (function () { y = !0, O() }), w, c) })) }, delete: function () { var e = this, t = this._ctx, n = t.range, r = t.table.hook.deleting.fire, i = r !== Q; if (!i && we(t) && (t.isPrimKey && !gt || !n)) return this._write((function (e, t, r) { var i = Et(t), o = n ? r.count(n) : r.count(); o.onerror = i, o.onsuccess = function () { var a = o.result; x((function () { var t = n ? r.delete(n) : r.clear(); t.onerror = i, t.onsuccess = function () { return e(a) } }), (function (e) { return t(e) })) } })); var o = i ? 2e3 : 1e4; return this._write((function (n, a, s, c) { var u = 0, l = e.clone({ keysOnly: !t.isMatch && !i }).distinct().limit(o).raw(), f = [], d = function () { return l.each(i ? function (e, t) { f.push([t.primaryKey, t.value]) } : function (e, t) { f.push(t.primaryKey) }).then((function () { return i ? f.sort((function (e, t) { return Ae(e[0], t[0]) })) : f.sort(Ae), ye(s, c, f, i, r) })).then((function () { var e = f.length; return u += e, f = [], e < o ? u : d() })) }; n(d()) })) } } })), a(this, { Collection: be, Table: ve, Transaction: ge, Version: ce, WhereClause: _e }), J.on("versionchange", (function (e) { e.newVersion > 0 ? console.warn("Another connection wants to upgrade database '" + J.name + "'. Closing db now to resume the upgrade.") : console.warn("Another connection wants to delete database '" + J.name + "'. Closing db now to resume the delete request."), J.close() })), J.on("blocked", (function (e) { !e.newVersion || e.newVersion < e.oldVersion ? console.warn("Dexie.delete('" + J.name + "') was blocked") : console.warn("Upgrade '" + J.name + "' blocked by other connection holding version " + e.oldVersion / 10) })), _.forEach((function (e) { e(J) })) } function wt(e, t) { return r(t).forEach((function (n) { var r = function e(t) { if ("function" == typeof t) return new t; if (i(t)) return [e(t[0])]; if (t && "object" == typeof t) { var n = {}; return wt(n, t), n } return t }(t[n]); e[n] = r })), e } function xt(e) { return Ve((function (t) { var n = t.target, r = n._hookCtx, i = r.value || n.result, o = r && r.onsuccess; o && o(i), e && e(i) }), e) } function Et(e) { return Ve((function (t) { return Ot(t), e(t.target.error), !1 })) } function Ct(e) { return Ve((function (t) { e(t.target.result) })) } function St(e) { return Ve((function (t) { var n = t.target, r = n.error, i = n._hookCtx, o = i && i.onerror; return o && o(r), Ot(t), e(r), !1 })) } function Ot(e) { e.stopPropagation && e.stopPropagation(), e.preventDefault && e.preventDefault() } function kt(e) { var t = function (t) { return e.next(t) }, n = o(t), r = o((function (t) { return e.throw(t) })); function o(e) { return function (t) { var o = e(t), a = o.value; return o.done ? a : a && "function" == typeof a.then ? a.then(n, r) : i(a) ? Te.all(a).then(n, r) : n(a) } } return o(t)() } function At(e, t, n, r, i, o, a) { this.name = e, this.keyPath = t, this.unique = n, this.multi = r, this.auto = i, this.compound = o, this.dotted = a; var s = "string" == typeof t ? t : t && "[" + [].join.call(t, "+") + "]"; this.src = (n ? "&" : "") + (r ? "*" : "") + (i ? "++" : "") + s } function Nt(e, t, n, r) { this.name = e, this.primKey = t || new At, this.indexes = n || [new At], this.instanceTemplate = r, this.mappedClass = null, this.idxByName = b(n, (function (e) { return [e.name, e] })) } function Tt(e) { return 1 === e.length ? e[0] : e } function Mt(e) { var t = e && (e.getDatabaseNames || e.webkitGetDatabaseNames); return t && t.bind(e) } P($, _t), l(bt, X), l(bt, { delete: function (e) { var t = new bt(e), n = t.delete(); return n.onblocked = function (e) { return t.on("blocked", e), this }, n }, exists: function (e) { return new bt(e).open().then((function (e) { return e.close(), !0 })).catch(bt.NoSuchDatabaseError, (function () { return !1 })) }, getDatabaseNames: function (e) { var t = Mt(bt.dependencies.indexedDB); return t ? new Te((function (e, n) { var r = t(); r.onsuccess = function (t) { e(m(t.target.result, 0)) }, r.onerror = Et(n) })).then(e) : ft.dbnames.toCollection().primaryKeys(e) }, defineClass: function () { return function (e) { e && a(this, e) } }, applyStructure: wt, ignoreTransaction: function (e) { return Oe.trans ? ot(Oe.transless, e) : e() }, vip: function (e) { return Xe((function () { return Oe.letThrough = !0, e() })) }, async: function (e) { return function () { try { var t = kt(e.apply(this, arguments)); return t && "function" == typeof t.then ? t : Te.resolve(t) } catch (e) { return ut(e) } } }, spawn: function (e, t, n) { try { var r = kt(e.apply(n, t || [])); return r && "function" == typeof r.then ? r : Te.resolve(r) } catch (e) { return ut(e) } }, currentTransaction: { get: function () { return Oe.trans || null } }, waitFor: function (e, t) { var n = Te.resolve("function" == typeof e ? bt.ignoreTransaction(e) : e).timeout(t || 6e4); return Oe.trans ? Oe.trans.waitFor(n) : n }, Promise: Te, debug: { get: function () { return $ }, set: function (e) { P(e, "dexie" === e ? function () { return !0 } : _t) } }, derive: h, extend: a, props: l, override: y, Events: lt, getByKeyPath: E, setByKeyPath: C, delByKeyPath: function (e, t) { "string" == typeof t ? C(e, t, void 0) : "length" in t && [].map.call(t, (function (t) { C(e, t, void 0) })) }, shallowClone: S, deepClone: N, getObjectDiff: T, asap: _, maxKey: ht, minKey: -1 / 0, addons: [], connections: vt, MultiModifyError: Y.Modify, errnames: q, IndexSpec: At, TableSchema: Nt, dependencies: function () { try { return { indexedDB: o.indexedDB || o.mozIndexedDB || o.webkitIndexedDB || o.msIndexedDB, IDBKeyRange: o.IDBKeyRange || o.webkitIDBKeyRange } } catch (e) { return { indexedDB: null, IDBKeyRange: null } } }(), semVer: "{version}", version: "{version}".split(".").map((function (e) { return parseInt(e) })).reduce((function (e, t, n) { return e + t / Math.pow(10, 2 * n) })), default: bt, Dexie: bt }), Te.rejectionMapper = function (e, t) { if (!e || e instanceof V || e instanceof TypeError || e instanceof SyntaxError || !e.name || !J[e.name]) return e; var n = new J[e.name](t || e.message, e); return "stack" in e && d(n, "stack", { get: function () { return this.inner.stack } }), n }, (ft = new bt("__dbnames")).version(1).stores({ dbnames: "name" }), function () { try { void 0 !== typeof localStorage && void 0 !== o.document && (JSON.parse(localStorage.getItem("Dexie.DatabaseNames") || "[]").forEach((function (e) { return ft.dbnames.put({ name: e }).catch(Q) })), localStorage.removeItem("Dexie.DatabaseNames")) } catch (e) { } }(), t.a = bt }).call(this, n(0), n(2).setImmediate) }, function (e, t) { e.exports = { LIST_CLIENTS: "listClients", SEND_MESSAGE: "sendMessage", JOIN_IN_ROOM: "joinInRoom", CHAT_MESSAGE_IN_ROOM: "chatMessageInRoom" } }, function (e, t, n) { var r = n(8), i = n(9); "string" == typeof (i = i.__esModule ? i.default : i) && (i = [[e.i, i, ""]]); var o = { insert: "head", singleton: !1 }; r(i, o); e.exports = i.locals || {} }, function (e, t, n) { "use strict"; var r, i = function () { return void 0 === r && (r = Boolean(window && document && document.all && !window.atob)), r }, o = function () { var e = {}; return function (t) { if (void 0 === e[t]) { var n = document.querySelector(t); if (window.HTMLIFrameElement && n instanceof window.HTMLIFrameElement) try { n = n.contentDocument.head } catch (e) { n = null } e[t] = n } return e[t] } }(), a = []; function s(e) { for (var t = -1, n = 0; n < a.length; n++)if (a[n].identifier === e) { t = n; break } return t } function c(e, t) { for (var n = {}, r = [], i = 0; i < e.length; i++) { var o = e[i], c = t.base ? o[0] + t.base : o[0], u = n[c] || 0, l = "".concat(c, " ").concat(u); n[c] = u + 1; var f = s(l), d = { css: o[1], media: o[2], sourceMap: o[3] }; -1 !== f ? (a[f].references++, a[f].updater(d)) : a.push({ identifier: l, updater: m(d, t), references: 1 }), r.push(l) } return r } function u(e) { var t = document.createElement("style"), r = e.attributes || {}; if (void 0 === r.nonce) { var i = n.nc; i && (r.nonce = i) } if (Object.keys(r).forEach((function (e) { t.setAttribute(e, r[e]) })), "function" == typeof e.insert) e.insert(t); else { var a = o(e.insert || "head"); if (!a) throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid."); a.appendChild(t) } return t } var l, f = (l = [], function (e, t) { return l[e] = t, l.filter(Boolean).join("\n") }); function d(e, t, n, r) { var i = n ? "" : r.media ? "@media ".concat(r.media, " {").concat(r.css, "}") : r.css; if (e.styleSheet) e.styleSheet.cssText = f(t, i); else { var o = document.createTextNode(i), a = e.childNodes; a[t] && e.removeChild(a[t]), a.length ? e.insertBefore(o, a[t]) : e.appendChild(o) } } function h(e, t, n) { var r = n.css, i = n.media, o = n.sourceMap; if (i ? e.setAttribute("media", i) : e.removeAttribute("media"), o && btoa && (r += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o)))), " */")), e.styleSheet) e.styleSheet.cssText = r; else { for (; e.firstChild;)e.removeChild(e.firstChild); e.appendChild(document.createTextNode(r)) } } var p = null, v = 0; function m(e, t) { var n, r, i; if (t.singleton) { var o = v++; n = p || (p = u(t)), r = d.bind(null, n, o, !1), i = d.bind(null, n, o, !0) } else n = u(t), r = h.bind(null, n, t), i = function () { !function (e) { if (null === e.parentNode) return !1; e.parentNode.removeChild(e) }(n) }; return r(e), function (t) { if (t) { if (t.css === e.css && t.media === e.media && t.sourceMap === e.sourceMap) return; r(e = t) } else i() } } e.exports = function (e, t) { (t = t || {}).singleton || "boolean" == typeof t.singleton || (t.singleton = i()); var n = c(e = e || [], t); return function (e) { if (e = e || [], "[object Array]" === Object.prototype.toString.call(e)) { for (var r = 0; r < n.length; r++) { var i = s(n[r]); a[i].references-- } for (var o = c(e, t), u = 0; u < n.length; u++) { var l = s(n[u]); 0 === a[l].references && (a[l].updater(), a.splice(l, 1)) } n = o } } } }, function (e, t, n) { (t = n(10)(!1)).push([e.i, "html, body {\n    width: 100%;\n    height: 100%;\n    margin: 0;\n    display: flex;\n}", ""]), e.exports = t }, function (e, t, n) { "use strict"; e.exports = function (e) { var t = []; return t.toString = function () { return this.map((function (t) { var n = function (e, t) { var n = e[1] || "", r = e[3]; if (!r) return n; if (t && "function" == typeof btoa) { var i = (a = r, s = btoa(unescape(encodeURIComponent(JSON.stringify(a)))), c = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s), "/*# ".concat(c, " */")), o = r.sources.map((function (e) { return "/*# sourceURL=".concat(r.sourceRoot || "").concat(e, " */") })); return [n].concat(o).concat([i]).join("\n") } var a, s, c; return [n].join("\n") }(t, e); return t[2] ? "@media ".concat(t[2], " {").concat(n, "}") : n })).join("") }, t.i = function (e, n, r) { "string" == typeof e && (e = [[null, e, ""]]); var i = {}; if (r) for (var o = 0; o < this.length; o++) { var a = this[o][0]; null != a && (i[a] = !0) } for (var s = 0; s < e.length; s++) { var c = [].concat(e[s]); r && i[c[0]] || (n && (c[2] ? c[2] = "".concat(n, " and ").concat(c[2]) : c[2] = n), t.push(c)) } }, t } }, function (e, t, n) { (function (e, t) { !function (e, n) { "use strict"; if (!e.setImmediate) { var r, i, o, a, s, c = 1, u = {}, l = !1, f = e.document, d = Object.getPrototypeOf && Object.getPrototypeOf(e); d = d && d.setTimeout ? d : e, "[object process]" === {}.toString.call(e.process) ? r = function (e) { t.nextTick((function () { p(e) })) } : !function () { if (e.postMessage && !e.importScripts) { var t = !0, n = e.onmessage; return e.onmessage = function () { t = !1 }, e.postMessage("", "*"), e.onmessage = n, t } }() ? e.MessageChannel ? ((o = new MessageChannel).port1.onmessage = function (e) { p(e.data) }, r = function (e) { o.port2.postMessage(e) }) : f && "onreadystatechange" in f.createElement("script") ? (i = f.documentElement, r = function (e) { var t = f.createElement("script"); t.onreadystatechange = function () { p(e), t.onreadystatechange = null, i.removeChild(t), t = null }, i.appendChild(t) }) : r = function (e) { setTimeout(p, 0, e) } : (a = "setImmediate$" + Math.random() + "$", s = function (t) { t.source === e && "string" == typeof t.data && 0 === t.data.indexOf(a) && p(+t.data.slice(a.length)) }, e.addEventListener ? e.addEventListener("message", s, !1) : e.attachEvent("onmessage", s), r = function (t) { e.postMessage(a + t, "*") }), d.setImmediate = function (e) { "function" != typeof e && (e = new Function("" + e)); for (var t = new Array(arguments.length - 1), n = 0; n < t.length; n++)t[n] = arguments[n + 1]; var i = { callback: e, args: t }; return u[c] = i, r(c), c++ }, d.clearImmediate = h } function h(e) { delete u[e] } function p(e) { if (l) setTimeout(p, 0, e); else { var t = u[e]; if (t) { l = !0; try { !function (e) { var t = e.callback, n = e.args; switch (n.length) { case 0: t(); break; case 1: t(n[0]); break; case 2: t(n[0], n[1]); break; case 3: t(n[0], n[1], n[2]); break; default: t.apply(void 0, n) } }(t) } finally { h(e), l = !1 } } } } }("undefined" == typeof self ? void 0 === e ? this : e : self) }).call(this, n(0), n(12)) }, function (e, t) { var n, r, i = e.exports = {}; function o() { throw new Error("setTimeout has not been defined") } function a() { throw new Error("clearTimeout has not been defined") } function s(e) { if (n === setTimeout) return setTimeout(e, 0); if ((n === o || !n) && setTimeout) return n = setTimeout, setTimeout(e, 0); try { return n(e, 0) } catch (t) { try { return n.call(null, e, 0) } catch (t) { return n.call(this, e, 0) } } } !function () { try { n = "function" == typeof setTimeout ? setTimeout : o } catch (e) { n = o } try { r = "function" == typeof clearTimeout ? clearTimeout : a } catch (e) { r = a } }(); var c, u = [], l = !1, f = -1; function d() { l && c && (l = !1, c.length ? u = c.concat(u) : f = -1, u.length && h()) } function h() { if (!l) { var e = s(d); l = !0; for (var t = u.length; t;) { for (c = u, u = []; ++f < t;)c && c[f].run(); f = -1, t = u.length } c = null, l = !1, function (e) { if (r === clearTimeout) return clearTimeout(e); if ((r === a || !r) && clearTimeout) return r = clearTimeout, clearTimeout(e); try { r(e) } catch (t) { try { return r.call(null, e) } catch (t) { return r.call(this, e) } } }(e) } } function p(e, t) { this.fun = e, this.array = t } function v() { } i.nextTick = function (e) { var t = new Array(arguments.length - 1); if (arguments.length > 1) for (var n = 1; n < arguments.length; n++)t[n - 1] = arguments[n]; u.push(new p(e, t)), 1 !== u.length || l || s(h) }, p.prototype.run = function () { this.fun.apply(null, this.array) }, i.title = "browser", i.browser = !0, i.env = {}, i.argv = [], i.version = "", i.versions = {}, i.on = v, i.addListener = v, i.once = v, i.off = v, i.removeListener = v, i.removeAllListeners = v, i.emit = v, i.prependListener = v, i.prependOnceListener = v, i.listeners = function (e) { return [] }, i.binding = function (e) { throw new Error("process.binding is not supported") }, i.cwd = function () { return "/" }, i.chdir = function (e) { throw new Error("process.chdir is not supported") }, i.umask = function () { return 0 } }, function (e, t, n) { "use strict"; n.r(t); var r = { Notifications: { START_UP: "startUp", SHOW_LOGIN_DIALOG: "showLoginDialog", REFRESH_CLIENT_LIST: "refreshClientList", REFRESH_ROOM_NAME: "refreshRoomName", COMMAND_LOGIN: "login", COMMAND_HANDLE_SOCKET_MESSAGE: "handleSocketMessage", MANAGE_STREAM_RECORDER: "manageStreamRecorder", MANAGE_STREAM_RECORDER_TYPE_START: "start", MANAGE_STREAM_RECORDER_TYPE_STOP: "stop", STORE_RECORDED_DATA: "storeRecordedData", READ_RECORDED_VIDEO_LIB: "readRecordedVideoLib", RECORDED_VIDEOS_LOADED: "recordedVideosLoaded", EXPORT_VIDEO: "exportVideo", EXPORT_VIDEO_TYPE_DOWNLOAD: "download", EXPORT_VIDEO_TYPE_PREVIEW: "preview", SEND_CHAT_MESSAGE_IN_ROOM: "sendChatMessageInRoom", RECEIVED_CHAT_MESSAGE_IN_ROOM: "receivedChatMessageInRoom", MANAGE_SCREEN_RECORDER: "manageScreenRecorder", MANAGE_SCREEN_RECORDER_TYPE_START: "start", MANAGE_SCREEN_RECORDER_TYPE_STOP: "stop", STARTED_TO_RECORD_SCREEN: "startedToRecordScreen", STOPPED_TO_RECORD_SCREEN: "stoppedToRecordScreen" }, Facades: { MAIN: "main" }, RTC_CONFIGURATION: { iceServers: [{ urls: "stun:stun.l.google.com:19302" }] }, LOGIN_MODE: { BROADCASTER: "broadcaster", SUBSCRIBER: "subscriber" }, MediaRecorder: { MIME_TYPE: 'video/webm; codecs="opus,vp8"', TIME_SPLIT: 1e4 } }; var i = { showLoading: e => $(`<div class="modal" tabindex="-1" role="dialog">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <div class="spinner-border" role="status">\n          <span class="sr-only">Loading...</span>\n        </div>\n      </div>\n      <div class="modal-body">\n        <p>${e}</p>\n      </div>\n    </div>\n  </div>\n</div>`).modal({ keyboard: !1, backdrop: "static" }).appendTo(document.body).on("hide.bs.modal", (function (e) { $(this).remove() })), showMessageDialog: (e, t = "", n, r = "btn-danger") => $(`<div class="modal fade" tabindex="-1" role="dialog">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h5 class="modal-title">${t}</h5>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="modal-body">\n        ${e}\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn ${r}" data-dismiss="modal">关闭</button>\n      </div>\n    </div>\n  </div>\n</div>`).modal({ keyboard: !0, backdrop: !0 }).appendTo(document.body).on("hide.bs.modal", (function (e) { $(this).remove(), n && n() })) }; var o = { SEND_OFFER_SESSION_DESCRIPTION: "sendOfferSessionDescription", SEND_ANSWER_SESSION_DESCRIPTION: "sendAnswerSessionDescription", SEND_OFFER_ICE_CANDIDATE: "SendOfferICECandidate", SEND_ANSWER_ICE_CANDIDATE: "SendAnswerICECandidate" }; var a = class { constructor(e, t) { this._proxy = e, this._targetSid = t, this._socketIoProxy = this._proxy.facade.retrieveProxy(I.name) } get proxy() { return this._proxy } get targetSid() { return this._targetSid } get socketProxy() { return this._socketIoProxy } handleIce(e) { } }; var s = class { constructor(e, t) { this.notify = null, this.context = null, this.setNotifyMethod(e), this.setNotifyContext(t) } setNotifyMethod(e) { this.notify = e } setNotifyContext(e) { this.context = e } getNotifyMethod() { return this.notify } getNotifyContext() { return this.context } notifyObserver(e) { this.getNotifyMethod().call(this.getNotifyContext(), e) } compareNotifyContext(e) { return e === this.context } }; class c { constructor(e) { if (null != c.instanceMap[e]) throw new Error(c.MULTITON_MSG); this.multitonKey = e, c.instanceMap[this.multitonKey] = this, this.mediatorMap = [], this.observerMap = [], this.initializeView() } initializeView() { } registerObserver(e, t) { null != this.observerMap[e] ? this.observerMap[e].push(t) : this.observerMap[e] = [t] } notifyObservers(e) { if (null != this.observerMap[e.getName()]) { var t, n = this.observerMap[e.getName()], r = []; for (let e = 0; e < n.length; e++)t = n[e], r.push(t); for (let n = 0; n < r.length; n++)(t = r[n]).notifyObserver(e) } } removeObserver(e, t) { for (var n = this.observerMap[e], r = 0; r < n.length; r++)if (1 == n[r].compareNotifyContext(t)) { n.splice(r, 1); break } 0 == n.length && delete this.observerMap[e] } registerMediator(e) { if (null == this.mediatorMap[e.getMediatorName()]) { e.initializeNotifier(this.multitonKey), this.mediatorMap[e.getMediatorName()] = e; var t = e.listNotificationInterests(); if (t.length > 0) for (var n = new s(e.handleNotification, e), r = 0; r < t.length; r++)this.registerObserver(t[r], n); e.onRegister() } } retrieveMediator(e) { return this.mediatorMap[e] } removeMediator(e) { var t = this.mediatorMap[e]; if (t) { for (var n = t.listNotificationInterests(), r = 0; r < n.length; r++)this.removeObserver(n[r], t); delete this.mediatorMap[e], t.onRemove() } return t } hasMediator(e) { return null != this.mediatorMap[e] } } c.getInstance = function (e) { return null == e ? null : (null == c.instanceMap[e] && (c.instanceMap[e] = new c(e)), c.instanceMap[e]) }, c.removeView = function (e) { delete c.instanceMap[e] }, c.instanceMap = [], c.MULTITON_MSG = "View instance for this Multiton key already constructed!"; var u = c; class l { constructor(e) { if (l.instanceMap[e]) throw new Error(l.MULTITON_MSG); this.multitonKey = e, l.instanceMap[e] = this, this.proxyMap = [], this.initializeModel() } initializeModel() { } registerProxy(e) { e.initializeNotifier(this.multitonKey), this.proxyMap[e.getProxyName()] = e, e.onRegister() } retrieveProxy(e) { return this.proxyMap[e] } hasProxy(e) { return null != this.proxyMap[e] } removeProxy(e) { var t = this.proxyMap[e]; return t && (this.proxyMap[e] = null, t.onRemove()), t } } l.getInstance = function (e) { return null == e ? null : (null == l.instanceMap[e] && (l.instanceMap[e] = new l(e)), l.instanceMap[e]) }, l.removeModel = function (e) { delete l.instanceMap[e] }, l.instanceMap = [], l.MULTITON_MSG = "Model instance for this Multiton key already constructed!"; var f = l; class d { constructor(e) { if (null != d.instanceMap[e]) throw new Error(d.MULTITON_MSG); this.view = null, this.commandMap = [], this.multitonKey = e, d.instanceMap[this.multitonKey] = this, this.initializeController() } initializeController() { this.view = u.getInstance(this.multitonKey) } executeCommand(e) { var t = this.commandMap[e.getName()]; if (null != t) { var n = new t; n.initializeNotifier(this.multitonKey), n.execute(e) } } registerCommand(e, t) { null == this.commandMap[e] && this.view.registerObserver(e, new s(this.executeCommand, this)), this.commandMap[e] = t } hasCommand(e) { return null != this.commandMap[e] } removeCommand(e) { this.hasCommand(e) && (this.view.removeObserver(e, this), this.commandMap[e] = null) } } d.getInstance = function (e) { return null == e ? null : (null == this.instanceMap[e] && (this.instanceMap[e] = new this(e)), this.instanceMap[e]) }, d.removeController = function (e) { delete this.instanceMap[e] }, d.instanceMap = [], d.MULTITON_MSG = "controller key for this Multiton key already constructed"; var h = d; var p = class { constructor(e, t, n) { this._name = e, this._type = n, this._body = t } getName() { return this._name } get name() { return this._name } setBody(e) { this._body = e } getBody() { return this._body } setType(e) { this._type = e } getType() { return this._type } get body() { return this._body } set body(e) { this._body = e } get type() { return this._type } set type(e) { this._type = e } toString() { var e = "Notification Name: " + this.getName(); return e += "\nBody:" + (null == this.body ? "null" : this.body.toString()), e += "\nType:" + (null == this.type ? "null" : this.type) } }; class v { constructor(e) { if (null != v.instanceMap[e]) throw new Error(v.MULTITON_MSG); this.controller = null, this.model = null, this.view = null, v.prototype.multitonKey = null, this.initializeNotifier(e), v.instanceMap[e] = this, this.initializeFacade() } initializeFacade() { this.initializeModel(), this.initializeController(), this.initializeView() } initializeController() { null == this.controller && (this.controller = h.getInstance(this.multitonKey)) } initializeModel() { null == this.model && (this.model = f.getInstance(this.multitonKey)) } initializeView() { null == this.view && (this.view = u.getInstance(this.multitonKey)) } registerCommand(e, t) { this.controller.registerCommand(e, t) } removeCommand(e) { this.controller.removeCommand(e) } hasCommand(e) { return this.controller.hasCommand(e) } registerProxy(e) { this.model.registerProxy(e) } retrieveProxy(e) { return this.model.retrieveProxy(e) } removeProxy(e) { var t = null; return null != this.model && (t = this.model.removeProxy(e)), t } hasProxy(e) { return this.model.hasProxy(e) } registerMediator(e) { null != this.view && this.view.registerMediator(e) } retrieveMediator(e) { return this.view.retrieveMediator(e) } removeMediator(e) { var t = null; return null != this.view && (t = this.view.removeMediator(e)), t } hasMediator(e) { return this.view.hasMediator(e) } sendNotification(e, t, n) { this.notifyObservers(new p(e, t, n)) } notifyObservers(e) { null != this.view && this.view.notifyObservers(e) } initializeNotifier(e) { this.multitonKey = e } } v.getInstance = function (e) { return null == e ? null : (null == v.instanceMap[e] && (v.instanceMap[e] = new v(e)), v.instanceMap[e]) }, v.hasCore = function (e) { return null != v.instanceMap[e] }, v.removeCore = function (e) { null != v.instanceMap[e] && (f.removeModel(e), u.removeView(e), h.removeController(e), delete v.instanceMap[e]) }, v.instanceMap = [], v.MULTITON_MSG = "Facade instance for this Multiton key already constructed!"; var m = v; class y { constructor() { this._facade = null, this.multitonKey = null } get facade() { return this.getFacade() } sendNotification(e, t, n) { var r = this.getFacade(); r && r.sendNotification(e, t, n) } initializeNotifier(e) { this.multitonKey = String(e), this._facade = this.getFacade() } getFacade() { if (null == this.multitonKey) throw new Error(y.MULTITON_MSG); return m.getInstance(this.multitonKey) } } y.MULTITON_MSG = "multitonKey for this Notifier not yet initialized!"; var g = y; class _ extends g { constructor(e, t) { super(), this._proxyName = null, this._data = null, this._proxyName = e || this.constructor.NAME, null != t && this.setData(t) } getProxyName() { return this._proxyName } setData(e) { this._data = e } getData() { return this._data } get data() { return this._data } set data(e) { this._data = e } onRegister() { } onRemove() { } } _.NAME = "Proxy"; var b = _; class w extends b { constructor() { super(w.name, {}) } get recordStreams() { return localStorage.getItem("recordStreams") } set recordStreams(e) { localStorage.setItem("recordStreams", e ? "yes" : "") } } var x = w; class E extends b { constructor() { super(E.name, { streamMap: new Map }) } async initLocalStream(e) { let t = await navigator.mediaDevices.getUserMedia({ video: !0, audio: !0 }); this.setStream(e, t) } setStream(e, t) { this.data.streamMap.set(e, t), this.sendNotification(r.Notifications.MANAGE_STREAM_RECORDER, { sid: e, stream: t }, r.Notifications.MANAGE_STREAM_RECORDER_TYPE_START) } getStream(e) { let t = this.data.streamMap.get(e); return t || (t = new MediaStream, this.setStream(e, t)), t } } var C = E; var S = { getSocket: e => e.retrieveProxy(I.name).getData().socket }; var O = { getLocalStream: e => e.retrieveProxy(C.name).getStream(S.getSocket(e).id) }; var k = class extends a { constructor(e, t) { super(e, t) } async startOffer() { let e = this.proxy.facade.retrieveProxy(C.name); this._offerPc = new RTCPeerConnection(r.RTC_CONFIGURATION), this._offerPc.onicecandidate = e => { e.candidate && this.socketProxy.sendMessage(this.targetSid, o.SEND_OFFER_ICE_CANDIDATE, e.candidate) }, this._offerPc.ontrack = t => { e.getStream(this.targetSid).addTrack(t.track) }, this._offerPc.onsignalingstatechange = this.signalingstatechangeHandler.bind(this), this._offerPc.onnegotiationneeded = async e => { let t = await this._offerPc.createOffer(); await this._offerPc.setLocalDescription(new RTCSessionDescription(t)), this._socketIoProxy.sendMessage(this._targetSid, o.SEND_OFFER_SESSION_DESCRIPTION, t) }; let t = O.getLocalStream(this.proxy.facade), n = []; n = this.proxy.facade.retrieveProxy(I.name).getData().mode == r.LOGIN_MODE.BROADCASTER ? t.getTracks() : t.getVideoTracks(), n.forEach(e => { this._offerPc.addTrack(e) }) } async handleReceivedAnswer(e) { await this._offerPc.setRemoteDescription(new RTCSessionDescription(e.data)), console.log("Received answer") } signalingstatechangeHandler(e) { console.log(this._offerPc.signalingState) } handleIce(e) { super.handleIce(e), console.log("Add ice"), this._offerPc.addIceCandidate(new RTCIceCandidate(e.data)) } }; var A = class extends a { constructor(e, t) { super(e, t) } async startAnswer(e) { let t = this.proxy.facade.retrieveProxy(C.name); this._answerPc = new RTCPeerConnection(r.RTC_CONFIGURATION), this._answerPc.ontrack = e => { t.getStream(this.targetSid).addTrack(e.track) }, this._answerPc.onicecandidate = e => { e.candidate && this.socketProxy.sendMessage(this.targetSid, o.SEND_ANSWER_ICE_CANDIDATE, e.candidate) }, this._answerPc.onsignalingstatechange = this.signalingstatechangeHandler.bind(this), await this._answerPc.setRemoteDescription(new RTCSessionDescription(e.data)); let n = O.getLocalStream(this.proxy.facade), i = []; i = this.proxy.facade.retrieveProxy(I.name).getData().mode == r.LOGIN_MODE.BROADCASTER ? n.getTracks() : n.getVideoTracks(), i.forEach(e => { this._answerPc.addTrack(e) }); let a = await this._answerPc.createAnswer(); await this._answerPc.setLocalDescription(new RTCSessionDescription(a)), this._socketIoProxy.sendMessage(this._targetSid, o.SEND_ANSWER_SESSION_DESCRIPTION, a) } signalingstatechangeHandler(e) { console.log(this._answerPc.signalingState) } handleIce(e) { super.handleIce(e), console.log("Add ice"), this._answerPc.addIceCandidate(new RTCIceCandidate(e.data)) } }; class N extends b { constructor() { super(N.name, { connectors: new Map }) } startOffer(e) { if (S.getSocket(this.facade).id != e) { let t = new k(this, e); t.startOffer(), this.data.connectors.set(e, t) } } startAnswer(e) { let t = new A(this, e.from); t.startAnswer(e), this.data.connectors.set(e.from, t) } handleReceivedAnswer(e) { this.getConnector(e.from).handleReceivedAnswer(e) } handleOfferIce(e) { this.getConnector(e.from).handleIce(e) } handleAnswerIce(e) { this.getConnector(e.from).handleIce(e) } getConnector(e) { return this.data.connectors.get(e) } } var T = N; var M = { makeMessage: (e, t, n, r) => ({ from: e, to: t, command: n, data: r }) }; const R = n(6); class I extends b { constructor() { super(I.name, { socket: null, currentRoomName: null, userName: null, mode: r.LOGIN_MODE.SUBSCRIBER }) } connectServer(e, t, n) { this.data.roomName = e, this.data.userName = t, this.data.mode = n, this.data.socket = io(), this.addSocketListeners() } addSocketListeners() { this.data.socket.on("connect", this.socketConnectedHandler.bind(this)), this.data.socket.on(R.LIST_CLIENTS, this.listClientsHandler.bind(this)), this.data.socket.on(R.SEND_MESSAGE, this.messageHandler.bind(this)), this.data.socket.on(R.CHAT_MESSAGE_IN_ROOM, this.chatMessageInRoomHandler.bind(this)) } async socketConnectedHandler() { await this.facade.retrieveProxy(C.name).initLocalStream(this.data.socket.id), this.login(!0) } listClientsHandler(e) { this.sendNotification(r.Notifications.REFRESH_CLIENT_LIST, e) } login(e = !1) { this.sendNotification(r.Notifications.REFRESH_ROOM_NAME, this.data.roomName); let t = this, n = e ? i.showLoading("正在进入会议室 " + this.data.roomName) : void 0; this.data.socket.emit(R.JOIN_IN_ROOM, { roomName: this.data.roomName, userName: this.data.userName, mode: this.data.mode }, (function (e) { n && n.modal("hide"); let r = t.facade.retrieveProxy(T.name); for (let t of e) r.startOffer(t.sid) })) } sendMessage(e, t, n) { console.log(`Send message[${t}] to ${e}`); let r = M.makeMessage(this.data.socket.id, e, t, n); this.data.socket.emit(R.SEND_MESSAGE, r) } messageHandler(e) { this.sendNotification(r.Notifications.COMMAND_HANDLE_SOCKET_MESSAGE, e) } sendChatMessageInRoom(e) { this.data.socket.emit(R.CHAT_MESSAGE_IN_ROOM, e) } chatMessageInRoomHandler(e) { this.sendNotification(r.Notifications.RECEIVED_CHAT_MESSAGE_IN_ROOM, e) } } n(7); class D extends g { constructor(e, t) { super(), this.mediatorName = e || this.constructor.NAME, this._viewComponent = t } getMediatorName() { return this.mediatorName } setViewComponent(e) { this._viewComponent = e } getViewComponent() { return this._viewComponent } get viewComponent() { return this._viewComponent } listNotificationInterests() { return [] } handleNotification(e) { } onRegister() { } onRemove() { } } D.NAME = "Mediator"; var P = D, j = n(3), L = n.n(j), F = n(1), K = n.n(F), B = n(4), H = n.n(B); K.a.component("stream-viewer", { template: H.a, props: ["sid", "mediator"], mounted() { this.refreshViewer() }, methods: { async refreshViewer() { this.$refs.video_el.srcObject = await this.mediator.facade.retrieveProxy(C.name).getStream(this.sid), S.getSocket(this.mediator.facade).id == this.sid ? this.$refs.video_el.muted = !0 : this.$refs.video_el.muted = !1 } }, watch: { sid(e) { this.refreshViewer() } } }); const U = { getReadableTimestamp() { let e = new Date; return `${e.getFullYear()}${U.formatTime(e.getMonth() + 1)}${U.formatTime(e.getDate())}${U.formatTime(e.getHours())}${U.formatTime(e.getMinutes())}${U.formatTime(e.getSeconds())}` }, formatTime: e => (e >= 10 ? "" : "0") + e }; var V = U; var G = n(1).component("main-app", { template: L.a, data: () => ({ roomName: "", userList: [], recorded_videos: [], userInput: "", roomChatOutput: "", recordingScreen: !1 }), mounted() { $('[data-toggle="tooltip"]').tooltip() }, methods: { refreshClientList(e) { this.userList.length = 0, this.userList.push(...e) }, set mediator(e) { this._mediator = e }, get mediator() { return this._mediator }, btnShowRecordLibClicked(e) { $(this.$refs.recorded_video_lib).modal("show"), m.getInstance(r.Facades.MAIN).sendNotification(r.Notifications.READ_RECORDED_VIDEO_LIB) }, refreshRecordedVideoList(e) { this.recorded_videos.length = 0; for (let [t, n] of e) this.recorded_videos.splice(0, 0, { video_id: t, user_name: n }) }, btnExportClicked(e) { let t = $(e.target).data("video_id"); m.getInstance(r.Facades.MAIN).sendNotification(r.Notifications.EXPORT_VIDEO, { video_id: t, mode: r.Notifications.EXPORT_VIDEO_TYPE_DOWNLOAD }) }, btnPreviewClicked(e) { let t = $(e.target).data("video_id"); m.getInstance(r.Facades.MAIN).sendNotification(r.Notifications.EXPORT_VIDEO, { video_id: t, mode: r.Notifications.EXPORT_VIDEO_TYPE_PREVIEW }) }, sendChatMessageInRoom() { this.userInput && (m.getInstance(r.Facades.MAIN).sendNotification(r.Notifications.SEND_CHAT_MESSAGE_IN_ROOM, this.userInput), this.userInput = "") }, userInputKeyDownHandler(e) { "Enter" == e.key && this.sendChatMessageInRoom() }, getUserRole: e => e.mode == r.LOGIN_MODE.BROADCASTER ? "广播者" : "订阅者", btnSendClicked(e) { this.sendChatMessageInRoom() }, appendChatInRoomMessage(e, t) { this.roomChatOutput += `${e}:\n${t}\n` }, btnStartRecordScreenClicked(e) { this._screenVideoId = "Screen" + V.getReadableTimestamp(), m.getInstance(r.Facades.MAIN).sendNotification(r.Notifications.MANAGE_SCREEN_RECORDER, this._screenVideoId, r.Notifications.MANAGE_SCREEN_RECORDER_TYPE_START) }, btnStopRecordScreenClicked(e) { m.getInstance(r.Facades.MAIN).sendNotification(r.Notifications.MANAGE_SCREEN_RECORDER, this._screenVideoId, r.Notifications.MANAGE_SCREEN_RECORDER_TYPE_STOP) } }, watch: { roomChatOutput() { this.$nextTick(() => { this.$refs.roomChatOutputTextArea.scrollTop = this.$refs.roomChatOutputTextArea.scrollHeight }) } } }); class z extends P { constructor() { const e = document.createElement("div"); document.body.appendChild(e); let t = new G; t.$mount(e), super(z.name, t), t.mediator = this, this._currentClientList = [] } listNotificationInterests() { return [r.Notifications.REFRESH_ROOM_NAME, r.Notifications.REFRESH_CLIENT_LIST, r.Notifications.RECORDED_VIDEOS_LOADED, r.Notifications.RECEIVED_CHAT_MESSAGE_IN_ROOM, r.Notifications.STOPPED_TO_RECORD_SCREEN, r.Notifications.STARTED_TO_RECORD_SCREEN] } handleNotification(e) { switch (e.name) { case r.Notifications.REFRESH_CLIENT_LIST: this._currentClientList = e.body, this.viewComponent.refreshClientList(e.body); break; case r.Notifications.REFRESH_ROOM_NAME: this.viewComponent.roomName = e.body; break; case r.Notifications.RECORDED_VIDEOS_LOADED: this.viewComponent.refreshRecordedVideoList(e.body); break; case r.Notifications.RECEIVED_CHAT_MESSAGE_IN_ROOM: this.viewComponent.appendChatInRoomMessage(e.body.userName, e.body.content); break; case r.Notifications.STARTED_TO_RECORD_SCREEN: this.viewComponent.recordingScreen = !0; break; case r.Notifications.STOPPED_TO_RECORD_SCREEN: this.viewComponent.recordingScreen = !1 } } getUserNameBySid(e) { for (let t of this._currentClientList) if (t.sid == e) return t.userName; return "" } } var q = z; class W extends P { constructor() { super(W.name) } listNotificationInterests() { return [r.Notifications.SHOW_LOGIN_DIALOG] } handleNotification(e) { switch (e.name) { case r.Notifications.SHOW_LOGIN_DIALOG: this.showDialog() } } showDialog() { let e = this, t = '<tr>\n              <td>模式</td>\n              <td>\n                <div class="btn-group btn-group-toggle" data-toggle="buttons">\n                  <label class="btn btn-outline-primary active" data-toggle="tooltip" title="订阅模式默认静音" data-placement="left">\n                    <input type="radio" name="mode" value="subscriber" checked> 订阅模式\n                  </label>\n                  <label class="btn btn-outline-primary" data-toggle="tooltip" title="广播模式默认带声音" data-placement="right">\n                    <input type="radio" name="mode" value="broadcaster"> 广播模式\n                  </label>\n                </div>\n               </td>\n            </tr>'; window.chatClientMode && (t = ""); let n = $(`<div class="modal fade" tabindex="-1" role="dialog">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h5 class="modal-title">进入会议室</h5>\n      </div>\n      <div class="modal-body">\n        <table class="table table-borderless">\n          <tbody>\n            <tr>\n              <td>会议室</td>\n              <td>\n                <input class="form-control room-name-input">\n              </td>\n            </tr>\n            <tr>\n              <td>呢称</td>\n              <td>\n                <input class="form-control user-name-input">\n              </td>\n            </tr>\n            ${t}\n          </tbody>\n        </table>\n        <div class="status-div"></div>\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-primary btn-ok">进入</button>\n      </div>\n    </div>\n  </div>\n</div>`).modal({ keyboard: !1, backdrop: "static" }).appendTo(document.body).on("hide.bs.modal", (function (e) { $(this).remove() })); n.find("[data-toggle='tooltip']").tooltip(); let i = n.find(".btn-ok"), o = n.find(".room-name-input"), a = n.find(".status-div"), s = n.find(".user-name-input"); i.click((function () { let t = o.val(); if (!t) return void a.html("<span class='text-danger'>请输入会议室名称</span>"); let i = s.val(); if (!i) return void a.html("<span class='text-danger'>请输入您的呢称</span>"); a.empty(); let c = window.chatClientMode || n.find(".active input[name='mode']").val(); n.modal("hide"), e.sendNotification(r.Notifications.COMMAND_LOGIN, { userName: i, roomName: t, mode: c }) })) } } var Y = W; var J = class extends g { constructor() { super() } execute(e) { } }; var X = class extends J { execute(e) { super.execute(e), this.facade.retrieveProxy(I.name).connectServer(e.body.roomName, e.body.userName, e.body.mode) } }; var Q = class extends J { execute(e) { super.execute(e); let t = e.body; console.log(t); let n = this.facade.retrieveProxy(T.name); if (t.command) switch (t.command) { case o.SEND_OFFER_SESSION_DESCRIPTION: n.startAnswer(t); break; case o.SEND_ANSWER_SESSION_DESCRIPTION: n.handleReceivedAnswer(t); break; case o.SEND_OFFER_ICE_CANDIDATE: n.handleOfferIce(t); break; case o.SEND_ANSWER_ICE_CANDIDATE: n.handleAnswerIce(t) } } }; var Z = class extends J { execute(e) { super.execute(e); let t = this.getLostConnectionStreams(e); for (let [e, n] of t) this.sendNotification(r.Notifications.MANAGE_STREAM_RECORDER, { sid: e, stream: n }, r.Notifications.MANAGE_STREAM_RECORDER_TYPE_STOP) } getLostConnectionStreams(e) { let t = this.facade.retrieveProxy(C.name).data.streamMap, n = new Map; for (let [e, r] of t) n.set(e, r); for (let t of e.body) n.delete(t.sid); return n } }; class ee { constructor(e, t, n) { this._sid = e, this._stream = t, this._recording = !1, this._userName = n, this._socketProxy = m.getInstance(r.Facades.MAIN).retrieveProxy(I.name), this._video_id = e } startRecordProcess() { this._recorder = new MediaRecorder(this._stream, { mimeType: r.MediaRecorder.MIME_TYPE }), this._recorder.ondataavailable = e => { m.getInstance(r.Facades.MAIN).sendNotification(r.Notifications.STORE_RECORDED_DATA, { video_id: this._video_id, userName: this._userName, data: e.data }) }, this._recorder.start(r.MediaRecorder.TIME_SPLIT) } start() { MediaRecorder.isTypeSupported(r.MediaRecorder.MIME_TYPE) ? this._recording || (this._stream.active ? this.startRecordProcess() : this._stream.onactive = () => { this.startRecordProcess() }, this._recording = !0) : console.error("Your browser dose not support record video") } stop() { this._recording && this._recorder && (this._recorder.stop(), this._recording = !1) } } ee.__recoderMap = new Map, ee.startRecord = function (e, t, n) { let r = ee.__recoderMap.get(e); r || (r = new ee(e, t, n), ee.__recoderMap.set(e, r), r.start()) }, ee.stopRecord = function (e, t = null) { let n = ee.__recoderMap.get(e); n && (n.stop(), ee.__recoderMap.delete(e)) }; var te = ee; var ne = class extends J { execute(e) { if (super.execute(e), this.facade.retrieveProxy(x.name).recordStreams) { let t = `${this.facade.retrieveProxy(I.name).data.socket.id}______${e.body.sid}`; switch (e.type) { case r.Notifications.MANAGE_STREAM_RECORDER_TYPE_START: let n = this.facade.retrieveMediator(q.name); te.startRecord(t, e.body.stream, n.getUserNameBySid(e.body.sid)); break; case r.Notifications.MANAGE_STREAM_RECORDER_TYPE_STOP: te.stopRecord(t, e.body.stream) } } } }, re = n(5); var ie = { show(e, t) { let n = URL.createObjectURL(t); $(`<div class="modal fade" tabindex="-1" role="dialog">\n  <div class="modal-dialog  modal-lg" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h5 class="modal-title" style="word-wrap: break-word;word-break: break-all;">${e}</h5>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="modal-body">\n        <video style="width: 100%;" controls src="${n}"></video>\n      </div>\n    </div>\n  </div>\n</div>`).modal({ keyboard: !0, backdrop: !0 }).appendTo(document.body).on("hide.bs.modal", (function (e) { $(this).remove(), URL.revokeObjectURL(n) })) } }; class oe extends b { constructor() { var e = new re.a("webrtc_chatroom"); e.version(1).stores({ recorded_videos: "++id,video_id,user_name,data" }), super(oe.name, { db: e }) } saveData(e, t, n) { this.data.db.recorded_videos.put({ video_id: e, user_name: t, data: n }) } async readRecordedVideoLib() { let e = await this.data.db.recorded_videos.toArray(), t = new Map; for (let n of e) { let e = t.get(n.video_id); e && e.user_name || t.set(n.video_id, n.user_name) } this.sendNotification(r.Notifications.RECORDED_VIDEOS_LOADED, t) } async exportVideo(e, t = "download") { let n = i.showLoading("正在导出..."), r = await this.data.db.recorded_videos.filter(t => t.video_id == e), o = await r.toArray(), a = []; for (let e of o) a.push(e.data); let s = new Blob(a, { type: "video/webm" }); if (n.modal("hide"), "download" == t) { var c = window.URL.createObjectURL(s); let e = V.getReadableTimestamp() + ".webm"; var u = $(`<a style='display: none;' href="${c}" target="_blank" download="${e}">${e}</a>`); $("body").append(u), u[0].click(), window.URL.revokeObjectURL(c), u.remove() } else "preview" == t && ie.show(e, s) } } var ae = oe; var se = class extends J { execute(e) { super.execute(e), this.facade.retrieveProxy(ae.name).saveData(e.body.video_id, e.body.userName, e.body.data) } }; var ce = class extends J { execute(e) { super.execute(e), this.facade.retrieveProxy(ae.name).readRecordedVideoLib() } }; var ue = class extends J { execute(e) { super.execute(e), this.facade.retrieveProxy(ae.name).exportVideo(e.body.video_id, e.body.mode) } }; var le = class extends J { execute(e) { super.execute(e), this.facade.retrieveProxy(I.name).sendChatMessageInRoom(e.body) } }; var fe = class extends J { execute(e) { super.execute(e), this.sendNotification(r.Notifications.SHOW_LOGIN_DIALOG) } }; var de = class extends J { constructor() { super() } async execute(e) { switch (super.execute(e), e.type) { case r.Notifications.MANAGE_SCREEN_RECORDER_TYPE_STOP: te.stopRecord(e.body), this.sendNotification(r.Notifications.STOPPED_TO_RECORD_SCREEN); break; case r.Notifications.MANAGE_SCREEN_RECORDER_TYPE_START: try { this._scrrenStream = await navigator.mediaDevices.getDisplayMedia(), te.startRecord(e.body, this._scrrenStream, ""), this.sendNotification(r.Notifications.STARTED_TO_RECORD_SCREEN) } catch (e) { i.showMessageDialog("您取消了屏幕录制") } } } }; let he = m.getInstance(r.Facades.MAIN); he.registerCommand(r.Notifications.COMMAND_LOGIN, X), he.registerCommand(r.Notifications.COMMAND_HANDLE_SOCKET_MESSAGE, Q), he.registerCommand(r.Notifications.REFRESH_CLIENT_LIST, Z), he.registerCommand(r.Notifications.MANAGE_STREAM_RECORDER, ne), he.registerCommand(r.Notifications.STORE_RECORDED_DATA, se), he.registerCommand(r.Notifications.READ_RECORDED_VIDEO_LIB, ce), he.registerCommand(r.Notifications.EXPORT_VIDEO, ue), he.registerCommand(r.Notifications.SEND_CHAT_MESSAGE_IN_ROOM, le), he.registerCommand(r.Notifications.START_UP, fe), he.registerCommand(r.Notifications.MANAGE_SCREEN_RECORDER, de), he.registerMediator(new q), he.registerMediator(new Y), he.registerProxy(new I), he.registerProxy(new C), he.registerProxy(new T), he.registerProxy(new ae), he.registerProxy(new x), he.sendNotification(r.Notifications.START_UP) }]);